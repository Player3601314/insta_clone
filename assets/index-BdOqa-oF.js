function LV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a2={exports:{}},$v={},l2={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=Symbol.for("react.element"),FV=Symbol.for("react.portal"),VV=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),$V=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),zV=Symbol.for("react.context"),UV=Symbol.for("react.forward_ref"),WV=Symbol.for("react.suspense"),HV=Symbol.for("react.memo"),qV=Symbol.for("react.lazy"),Qx=Symbol.iterator;function GV(t){return t===null||typeof t!="object"?null:(t=Qx&&t[Qx]||t["@@iterator"],typeof t=="function"?t:null)}var c2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u2=Object.assign,d2={};function Su(t,e,n){this.props=t,this.context=e,this.refs=d2,this.updater=n||c2}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h2(){}h2.prototype=Su.prototype;function qb(t,e,n){this.props=t,this.context=e,this.refs=d2,this.updater=n||c2}var Gb=qb.prototype=new h2;Gb.constructor=qb;u2(Gb,Su.prototype);Gb.isPureReactComponent=!0;var Xx=Array.isArray,f2=Object.prototype.hasOwnProperty,Kb={current:null},p2={key:!0,ref:!0,__self:!0,__source:!0};function m2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)f2.call(e,r)&&!p2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cf,type:t,key:s,ref:o,props:i,_owner:Kb.current}}function KV(t,e){return{$$typeof:Cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cf}function YV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jx=/\/+/g;function D0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YV(""+t.key):e.toString(36)}function Nm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cf:case FV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+D0(o,0):r,Xx(i)?(n="",t!=null&&(n=t.replace(Jx,"$&/")+"/"),Nm(i,e,n,"",function(c){return c})):i!=null&&(Yb(i)&&(i=KV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Xx(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+D0(s,a);o+=Nm(s,e,n,l,i)}else if(l=GV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+D0(s,a++),o+=Nm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Up(t,e,n){if(t==null)return t;var r=[],i=0;return Nm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Om={transition:null},XV={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Om,ReactCurrentOwner:Kb};function g2(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Up,forEach:function(t,e,n){Up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Up(t,function(){e++}),e},toArray:function(t){return Up(t,function(e){return e})||[]},only:function(t){if(!Yb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Su;ye.Fragment=VV;ye.Profiler=$V;ye.PureComponent=qb;ye.StrictMode=jV;ye.Suspense=WV;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XV;ye.act=g2;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=u2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)f2.call(e,l)&&!p2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cf,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:zV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};ye.createElement=m2;ye.createFactory=function(t){var e=m2.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:UV,render:t}};ye.isValidElement=Yb;ye.lazy=function(t){return{$$typeof:qV,_payload:{_status:-1,_result:t},_init:QV}};ye.memo=function(t,e){return{$$typeof:HV,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Om.transition;Om.transition={};try{t()}finally{Om.transition=e}};ye.unstable_act=g2;ye.useCallback=function(t,e){return Bn.current.useCallback(t,e)};ye.useContext=function(t){return Bn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Bn.current.useEffect(t,e)};ye.useId=function(){return Bn.current.useId()};ye.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Bn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};ye.useRef=function(t){return Bn.current.useRef(t)};ye.useState=function(t){return Bn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Bn.current.useTransition()};ye.version="18.3.1";l2.exports=ye;var E=l2.exports;const Fr=jv(E),y1=LV({__proto__:null,default:Fr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=E,ZV=Symbol.for("react.element"),ej=Symbol.for("react.fragment"),tj=Object.prototype.hasOwnProperty,nj=JV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rj={key:!0,ref:!0,__self:!0,__source:!0};function v2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tj.call(e,r)&&!rj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZV,type:t,key:s,ref:o,props:i,_owner:nj.current}}$v.Fragment=ej;$v.jsx=v2;$v.jsxs=v2;a2.exports=$v;var g=a2.exports,_1={},y2={exports:{}},yr={},_2={exports:{}},w2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,K){var ne=H.length;H.push(K);e:for(;0<ne;){var ge=ne-1>>>1,ce=H[ge];if(0<i(ce,K))H[ge]=K,H[ne]=ce,ne=ge;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var K=H[0],ne=H.pop();if(ne!==K){H[0]=ne;e:for(var ge=0,ce=H.length,te=ce>>>1;ge<te;){var Xe=2*(ge+1)-1,Ae=H[Xe],Je=Xe+1,mt=H[Je];if(0>i(Ae,ne))Je<ce&&0>i(mt,Ae)?(H[ge]=mt,H[Je]=ne,ge=Je):(H[ge]=Ae,H[Xe]=ne,ge=Xe);else if(Je<ce&&0>i(mt,ne))H[ge]=mt,H[Je]=ne,ge=Je;else break e}}return K}function i(H,K){var ne=H.sortIndex-K.sortIndex;return ne!==0?ne:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=H)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function A(H){if(y=!1,T(H),!v)if(n(l)!==null)v=!0,fe(D);else{var K=n(c);K!==null&&me(A,K.startTime-H)}}function D(H,K){v=!1,y&&(y=!1,b(x),x=-1),p=!0;var ne=f;try{for(T(K),h=n(l);h!==null&&(!(h.expirationTime>K)||H&&!O());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,f=h.priorityLevel;var ce=ge(h.expirationTime<=K);K=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(l)&&r(l),T(K)}else r(l);h=n(l)}if(h!==null)var te=!0;else{var Xe=n(c);Xe!==null&&me(A,Xe.startTime-K),te=!1}return te}finally{h=null,f=ne,p=!1}}var V=!1,C=null,x=-1,I=5,P=-1;function O(){return!(t.unstable_now()-P<I)}function F(){if(C!==null){var H=t.unstable_now();P=H;var K=!0;try{K=C(!0,H)}finally{K?N():(V=!1,C=null)}}else V=!1}var N;if(typeof w=="function")N=function(){w(F)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,pe=$e.port2;$e.port1.onmessage=F,N=function(){pe.postMessage(null)}}else N=function(){S(F,0)};function fe(H){C=H,V||(V=!0,N())}function me(H,K){x=S(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,fe(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var ne=f;f=K;try{return H()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return K()}finally{f=ne}},t.unstable_scheduleCallback=function(H,K,ne){var ge=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ne+ce,H={id:u++,callback:K,priorityLevel:H,startTime:ne,expirationTime:ce,sortIndex:-1},ne>ge?(H.sortIndex=ne,e(c,H),n(l)===null&&H===n(c)&&(y?(b(x),x=-1):y=!0,me(A,ne-ge))):(H.sortIndex=ce,e(l,H),v||p||(v=!0,fe(D))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var K=f;return function(){var ne=f;f=K;try{return H.apply(this,arguments)}finally{f=ne}}}})(w2);_2.exports=w2;var ij=_2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=E,mr=ij;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b2=new Set,Ph={};function hl(t,e){Hc(t,e),Hc(t+"Capture",e)}function Hc(t,e){for(Ph[t]=e,t=0;t<e.length;t++)b2.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w1=Object.prototype.hasOwnProperty,oj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zx={},eC={};function aj(t){return w1.call(eC,t)?!0:w1.call(Zx,t)?!1:oj.test(t)?eC[t]=!0:(Zx[t]=!0,!1)}function lj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cj(t,e,n,r){if(e===null||typeof e>"u"||lj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qb=/[\-:]([a-z])/g;function Xb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qb,Xb);dn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qb,Xb);dn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qb,Xb);dn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jb(t,e,n,r){var i=dn.hasOwnProperty(e)?dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cj(e,n,i,r)&&(n=null),r||i===null?aj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wp=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),Zb=Symbol.for("react.strict_mode"),b1=Symbol.for("react.profiler"),S2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),eS=Symbol.for("react.forward_ref"),S1=Symbol.for("react.suspense"),E1=Symbol.for("react.suspense_list"),tS=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),T2=Symbol.for("react.offscreen"),tC=Symbol.iterator;function ud(t){return t===null||typeof t!="object"?null:(t=tC&&t[tC]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,M0;function Rd(t){if(M0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M0=e&&e[1]||""}return`
`+M0+t}var L0=!1;function F0(t,e){if(!t||L0)return"";L0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{L0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rd(t):""}function uj(t){switch(t.tag){case 5:return Rd(t.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return t=F0(t.type,!1),t;case 11:return t=F0(t.type.render,!1),t;case 1:return t=F0(t.type,!0),t;default:return""}}function T1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zl:return"Fragment";case Jl:return"Portal";case b1:return"Profiler";case Zb:return"StrictMode";case S1:return"Suspense";case E1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E2:return(t.displayName||"Context")+".Consumer";case S2:return(t._context.displayName||"Context")+".Provider";case eS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tS:return e=t.displayName||null,e!==null?e:T1(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return T1(t(e))}catch{}}return null}function dj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T1(e);case 8:return e===Zb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hj(t){var e=x2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hp(t){t._valueTracker||(t._valueTracker=hj(t))}function C2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function x1(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I2(t,e){e=e.checked,e!=null&&Jb(t,"checked",e,!1)}function C1(t,e){I2(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I1(t,e.type,n):e.hasOwnProperty("defaultValue")&&I1(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I1(t,e,n){(e!=="number"||wg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nd=Array.isArray;function xc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Nd(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function k2(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qp,A2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qp=qp||document.createElement("div"),qp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fj=["Webkit","ms","Moz","O"];Object.keys(Yd).forEach(function(t){fj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yd[e]=Yd[t]})});function R2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yd.hasOwnProperty(t)&&Yd[t]?(""+e).trim():e+"px"}function N2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pj=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A1(t,e){if(e){if(pj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function R1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N1=null;function nS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O1=null,Cc=null,Ic=null;function oC(t){if(t=Pf(t)){if(typeof O1!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Hv(e),O1(t.stateNode,t.type,e))}}function O2(t){Cc?Ic?Ic.push(t):Ic=[t]:Cc=t}function D2(){if(Cc){var t=Cc,e=Ic;if(Ic=Cc=null,oC(t),e)for(t=0;t<e.length;t++)oC(e[t])}}function M2(t,e){return t(e)}function L2(){}var V0=!1;function F2(t,e,n){if(V0)return t(e,n);V0=!0;try{return M2(t,e,n)}finally{V0=!1,(Cc!==null||Ic!==null)&&(L2(),D2())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var r=Hv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var D1=!1;if(As)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){D1=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{D1=!1}function mj(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Qd=!1,bg=null,Sg=!1,M1=null,gj={onError:function(t){Qd=!0,bg=t}};function vj(t,e,n,r,i,s,o,a,l){Qd=!1,bg=null,mj.apply(gj,arguments)}function yj(t,e,n,r,i,s,o,a,l){if(vj.apply(this,arguments),Qd){if(Qd){var c=bg;Qd=!1,bg=null}else throw Error(W(198));Sg||(Sg=!0,M1=c)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aC(t){if(fl(t)!==t)throw Error(W(188))}function _j(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return aC(i),t;if(s===r)return aC(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function j2(t){return t=_j(t),t!==null?$2(t):null}function $2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$2(t);if(e!==null)return e;t=t.sibling}return null}var B2=mr.unstable_scheduleCallback,lC=mr.unstable_cancelCallback,wj=mr.unstable_shouldYield,bj=mr.unstable_requestPaint,St=mr.unstable_now,Sj=mr.unstable_getCurrentPriorityLevel,rS=mr.unstable_ImmediatePriority,z2=mr.unstable_UserBlockingPriority,Eg=mr.unstable_NormalPriority,Ej=mr.unstable_LowPriority,U2=mr.unstable_IdlePriority,Bv=null,Bi=null;function Tj(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(Bv,t,void 0,(t.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:Ij,xj=Math.log,Cj=Math.LN2;function Ij(t){return t>>>=0,t===0?32:31-(xj(t)/Cj|0)|0}var Gp=64,Kp=4194304;function Od(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Od(a):(s&=o,s!==0&&(r=Od(s)))}else o=n&~i,o!==0?r=Od(o):s!==0&&(r=Od(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mi(e),i=1<<n,r|=t[n],e&=~i;return r}function kj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=kj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function L1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W2(){var t=Gp;return Gp<<=1,!(Gp&4194240)&&(Gp=64),t}function j0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function If(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mi(e),t[e]=n}function Aj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function H2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q2,sS,G2,K2,Y2,F1=!1,Yp=[],_o=null,wo=null,bo=null,Nh=new Map,Oh=new Map,ao=[],Rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cC(t,e){switch(t){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Nh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(e.pointerId)}}function hd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pf(e),e!==null&&sS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Nj(t,e,n,r,i){switch(e){case"focusin":return _o=hd(_o,t,e,n,r,i),!0;case"dragenter":return wo=hd(wo,t,e,n,r,i),!0;case"mouseover":return bo=hd(bo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nh.set(s,hd(Nh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Oh.set(s,hd(Oh.get(s)||null,t,e,n,r,i)),!0}return!1}function Q2(t){var e=Ca(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=V2(n),e!==null){t.blockedOn=e,Y2(t.priority,function(){G2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=V1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);N1=r,n.target.dispatchEvent(r),N1=null}else return e=Pf(n),e!==null&&sS(e),t.blockedOn=n,!1;e.shift()}return!0}function uC(t,e,n){Dm(t)&&n.delete(e)}function Oj(){F1=!1,_o!==null&&Dm(_o)&&(_o=null),wo!==null&&Dm(wo)&&(wo=null),bo!==null&&Dm(bo)&&(bo=null),Nh.forEach(uC),Oh.forEach(uC)}function fd(t,e){t.blockedOn===e&&(t.blockedOn=null,F1||(F1=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,Oj)))}function Dh(t){function e(i){return fd(i,t)}if(0<Yp.length){fd(Yp[0],t);for(var n=1;n<Yp.length;n++){var r=Yp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_o!==null&&fd(_o,t),wo!==null&&fd(wo,t),bo!==null&&fd(bo,t),Nh.forEach(e),Oh.forEach(e),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)Q2(n),n.blockedOn===null&&ao.shift()}var kc=$s.ReactCurrentBatchConfig,xg=!0;function Dj(t,e,n,r){var i=Ue,s=kc.transition;kc.transition=null;try{Ue=1,oS(t,e,n,r)}finally{Ue=i,kc.transition=s}}function Mj(t,e,n,r){var i=Ue,s=kc.transition;kc.transition=null;try{Ue=4,oS(t,e,n,r)}finally{Ue=i,kc.transition=s}}function oS(t,e,n,r){if(xg){var i=V1(t,e,n,r);if(i===null)Y0(t,e,r,Cg,n),cC(t,r);else if(Nj(i,t,e,n,r))r.stopPropagation();else if(cC(t,r),e&4&&-1<Rj.indexOf(t)){for(;i!==null;){var s=Pf(i);if(s!==null&&q2(s),s=V1(t,e,n,r),s===null&&Y0(t,e,r,Cg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Y0(t,e,r,null,n)}}var Cg=null;function V1(t,e,n,r){if(Cg=null,t=nS(r),t=Ca(t),t!==null)if(e=fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cg=t,null}function X2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sj()){case rS:return 1;case z2:return 4;case Eg:case Ej:return 16;case U2:return 536870912;default:return 16}default:return 16}}var mo=null,aS=null,Mm=null;function J2(){if(Mm)return Mm;var t,e=aS,n=e.length,r,i="value"in mo?mo.value:mo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mm=i.slice(t,1<r?1-r:void 0)}function Lm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qp(){return!0}function dC(){return!1}function _r(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qp:dC,this.isPropagationStopped=dC,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),e}var Eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lS=_r(Eu),kf=pt({},Eu,{view:0,detail:0}),Lj=_r(kf),$0,B0,pd,zv=pt({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pd&&(pd&&t.type==="mousemove"?($0=t.screenX-pd.screenX,B0=t.screenY-pd.screenY):B0=$0=0,pd=t),$0)},movementY:function(t){return"movementY"in t?t.movementY:B0}}),hC=_r(zv),Fj=pt({},zv,{dataTransfer:0}),Vj=_r(Fj),jj=pt({},kf,{relatedTarget:0}),z0=_r(jj),$j=pt({},Eu,{animationName:0,elapsedTime:0,pseudoElement:0}),Bj=_r($j),zj=pt({},Eu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uj=_r(zj),Wj=pt({},Eu,{data:0}),fC=_r(Wj),Hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gj[t])?!!e[t]:!1}function cS(){return Kj}var Yj=pt({},kf,{key:function(t){if(t.key){var e=Hj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cS,charCode:function(t){return t.type==="keypress"?Lm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qj=_r(Yj),Xj=pt({},zv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pC=_r(Xj),Jj=pt({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cS}),Zj=_r(Jj),e6=pt({},Eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),t6=_r(e6),n6=pt({},zv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r6=_r(n6),i6=[9,13,27,32],uS=As&&"CompositionEvent"in window,Xd=null;As&&"documentMode"in document&&(Xd=document.documentMode);var s6=As&&"TextEvent"in window&&!Xd,Z2=As&&(!uS||Xd&&8<Xd&&11>=Xd),mC=" ",gC=!1;function eN(t,e){switch(t){case"keyup":return i6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ec=!1;function o6(t,e){switch(t){case"compositionend":return tN(e);case"keypress":return e.which!==32?null:(gC=!0,mC);case"textInput":return t=e.data,t===mC&&gC?null:t;default:return null}}function a6(t,e){if(ec)return t==="compositionend"||!uS&&eN(t,e)?(t=J2(),Mm=aS=mo=null,ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z2&&e.locale!=="ko"?null:e.data;default:return null}}var l6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l6[t.type]:e==="textarea"}function nN(t,e,n,r){O2(r),e=Ig(e,"onChange"),0<e.length&&(n=new lS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jd=null,Mh=null;function c6(t){fN(t,0)}function Uv(t){var e=rc(t);if(C2(e))return t}function u6(t,e){if(t==="change")return e}var rN=!1;if(As){var U0;if(As){var W0="oninput"in document;if(!W0){var yC=document.createElement("div");yC.setAttribute("oninput","return;"),W0=typeof yC.oninput=="function"}U0=W0}else U0=!1;rN=U0&&(!document.documentMode||9<document.documentMode)}function _C(){Jd&&(Jd.detachEvent("onpropertychange",iN),Mh=Jd=null)}function iN(t){if(t.propertyName==="value"&&Uv(Mh)){var e=[];nN(e,Mh,t,nS(t)),F2(c6,e)}}function d6(t,e,n){t==="focusin"?(_C(),Jd=e,Mh=n,Jd.attachEvent("onpropertychange",iN)):t==="focusout"&&_C()}function h6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uv(Mh)}function f6(t,e){if(t==="click")return Uv(e)}function p6(t,e){if(t==="input"||t==="change")return Uv(e)}function m6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:m6;function Lh(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!w1.call(e,i)||!bi(t[i],e[i]))return!1}return!0}function wC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bC(t,e){var n=wC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wC(n)}}function sN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oN(){for(var t=window,e=wg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wg(t.document)}return e}function dS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g6(t){var e=oN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sN(n.ownerDocument.documentElement,n)){if(r!==null&&dS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bC(n,s);var o=bC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v6=As&&"documentMode"in document&&11>=document.documentMode,tc=null,j1=null,Zd=null,$1=!1;function SC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$1||tc==null||tc!==wg(r)||(r=tc,"selectionStart"in r&&dS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zd&&Lh(Zd,r)||(Zd=r,r=Ig(j1,"onSelect"),0<r.length&&(e=new lS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tc)))}function Xp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nc={animationend:Xp("Animation","AnimationEnd"),animationiteration:Xp("Animation","AnimationIteration"),animationstart:Xp("Animation","AnimationStart"),transitionend:Xp("Transition","TransitionEnd")},H0={},aN={};As&&(aN=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function Wv(t){if(H0[t])return H0[t];if(!nc[t])return t;var e=nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aN)return H0[t]=e[n];return t}var lN=Wv("animationend"),cN=Wv("animationiteration"),uN=Wv("animationstart"),dN=Wv("transitionend"),hN=new Map,EC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){hN.set(t,e),hl(e,[t])}for(var q0=0;q0<EC.length;q0++){var G0=EC[q0],y6=G0.toLowerCase(),_6=G0[0].toUpperCase()+G0.slice(1);Ko(y6,"on"+_6)}Ko(lN,"onAnimationEnd");Ko(cN,"onAnimationIteration");Ko(uN,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(dN,"onTransitionEnd");Hc("onMouseEnter",["mouseout","mouseover"]);Hc("onMouseLeave",["mouseout","mouseover"]);Hc("onPointerEnter",["pointerout","pointerover"]);Hc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function TC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yj(r,e,void 0,t),t.currentTarget=null}function fN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;TC(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;TC(i,a,c),s=l}}}if(Sg)throw t=M1,Sg=!1,M1=null,t}function nt(t,e){var n=e[H1];n===void 0&&(n=e[H1]=new Set);var r=t+"__bubble";n.has(r)||(pN(e,t,2,!1),n.add(r))}function K0(t,e,n){var r=0;e&&(r|=4),pN(n,t,r,e)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[Jp]){t[Jp]=!0,b2.forEach(function(n){n!=="selectionchange"&&(w6.has(n)||K0(n,!1,t),K0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jp]||(e[Jp]=!0,K0("selectionchange",!1,e))}}function pN(t,e,n,r){switch(X2(e)){case 1:var i=Dj;break;case 4:i=Mj;break;default:i=oS}n=i.bind(null,e,n,t),i=void 0,!D1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Y0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ca(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F2(function(){var c=s,u=nS(n),h=[];e:{var f=hN.get(t);if(f!==void 0){var p=lS,v=t;switch(t){case"keypress":if(Lm(n)===0)break e;case"keydown":case"keyup":p=Qj;break;case"focusin":v="focus",p=z0;break;case"focusout":v="blur",p=z0;break;case"beforeblur":case"afterblur":p=z0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zj;break;case lN:case cN:case uN:p=Bj;break;case dN:p=t6;break;case"scroll":p=Lj;break;case"wheel":p=r6;break;case"copy":case"cut":case"paste":p=Uj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pC}var y=(e&4)!==0,S=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,T;w!==null;){T=w;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,b!==null&&(A=Rh(w,b),A!=null&&y.push(Vh(w,A,T)))),S)break;w=w.return}0<y.length&&(f=new p(f,v,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==N1&&(v=n.relatedTarget||n.fromElement)&&(Ca(v)||v[Rs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Ca(v):null,v!==null&&(S=fl(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=hC,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=pC,A="onPointerLeave",b="onPointerEnter",w="pointer"),S=p==null?f:rc(p),T=v==null?f:rc(v),f=new y(A,w+"leave",p,n,u),f.target=S,f.relatedTarget=T,A=null,Ca(u)===c&&(y=new y(b,w+"enter",v,n,u),y.target=T,y.relatedTarget=S,A=y),S=A,p&&v)t:{for(y=p,b=v,w=0,T=y;T;T=zl(T))w++;for(T=0,A=b;A;A=zl(A))T++;for(;0<w-T;)y=zl(y),w--;for(;0<T-w;)b=zl(b),T--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=zl(y),b=zl(b)}y=null}else y=null;p!==null&&xC(h,f,p,y,!1),v!==null&&S!==null&&xC(h,S,v,y,!0)}}e:{if(f=c?rc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var D=u6;else if(vC(f))if(rN)D=p6;else{D=h6;var V=d6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=f6);if(D&&(D=D(t,c))){nN(h,D,n,u);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&I1(f,"number",f.value)}switch(V=c?rc(c):window,t){case"focusin":(vC(V)||V.contentEditable==="true")&&(tc=V,j1=c,Zd=null);break;case"focusout":Zd=j1=tc=null;break;case"mousedown":$1=!0;break;case"contextmenu":case"mouseup":case"dragend":$1=!1,SC(h,n,u);break;case"selectionchange":if(v6)break;case"keydown":case"keyup":SC(h,n,u)}var C;if(uS)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ec?eN(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Z2&&n.locale!=="ko"&&(ec||x!=="onCompositionStart"?x==="onCompositionEnd"&&ec&&(C=J2()):(mo=u,aS="value"in mo?mo.value:mo.textContent,ec=!0)),V=Ig(c,x),0<V.length&&(x=new fC(x,t,null,n,u),h.push({event:x,listeners:V}),C?x.data=C:(C=tN(n),C!==null&&(x.data=C)))),(C=s6?o6(t,n):a6(t,n))&&(c=Ig(c,"onBeforeInput"),0<c.length&&(u=new fC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}fN(h,e)})}function Vh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ig(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rh(t,n),s!=null&&r.unshift(Vh(t,s,i)),s=Rh(t,e),s!=null&&r.push(Vh(t,s,i))),t=t.return}return r}function zl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rh(n,s),l!=null&&o.unshift(Vh(n,l,a))):i||(l=Rh(n,s),l!=null&&o.push(Vh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b6=/\r\n?/g,S6=/\u0000|\uFFFD/g;function CC(t){return(typeof t=="string"?t:""+t).replace(b6,`
`).replace(S6,"")}function Zp(t,e,n){if(e=CC(e),CC(t)!==e&&n)throw Error(W(425))}function kg(){}var B1=null,z1=null;function U1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W1=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,IC=typeof Promise=="function"?Promise:void 0,T6=typeof queueMicrotask=="function"?queueMicrotask:typeof IC<"u"?function(t){return IC.resolve(null).then(t).catch(x6)}:W1;function x6(t){setTimeout(function(){throw t})}function Q0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dh(e)}function So(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Li="__reactFiber$"+Tu,jh="__reactProps$"+Tu,Rs="__reactContainer$"+Tu,H1="__reactEvents$"+Tu,C6="__reactListeners$"+Tu,I6="__reactHandles$"+Tu;function Ca(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rs]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kC(t);t!==null;){if(n=t[Li])return n;t=kC(t)}return e}t=n,n=t.parentNode}return null}function Pf(t){return t=t[Li]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Hv(t){return t[jh]||null}var q1=[],ic=-1;function Yo(t){return{current:t}}function at(t){0>ic||(t.current=q1[ic],q1[ic]=null,ic--)}function Ze(t,e){ic++,q1[ic]=t.current,t.current=e}var Fo={},Rn=Yo(Fo),Xn=Yo(!1),qa=Fo;function qc(t,e){var n=t.type.contextTypes;if(!n)return Fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(t){return t=t.childContextTypes,t!=null}function Pg(){at(Xn),at(Rn)}function PC(t,e,n){if(Rn.current!==Fo)throw Error(W(168));Ze(Rn,e),Ze(Xn,n)}function mN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,dj(t)||"Unknown",i));return pt({},n,r)}function Ag(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fo,qa=Rn.current,Ze(Rn,t),Ze(Xn,Xn.current),!0}function AC(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=mN(t,e,qa),r.__reactInternalMemoizedMergedChildContext=t,at(Xn),at(Rn),Ze(Rn,t)):at(Xn),Ze(Xn,n)}var us=null,qv=!1,X0=!1;function gN(t){us===null?us=[t]:us.push(t)}function k6(t){qv=!0,gN(t)}function Qo(){if(!X0&&us!==null){X0=!0;var t=0,e=Ue;try{var n=us;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}us=null,qv=!1}catch(i){throw us!==null&&(us=us.slice(t+1)),B2(rS,Qo),i}finally{Ue=e,X0=!1}}return null}var sc=[],oc=0,Rg=null,Ng=0,Nr=[],Or=0,Ga=null,ps=1,ms="";function va(t,e){sc[oc++]=Ng,sc[oc++]=Rg,Rg=t,Ng=e}function vN(t,e,n){Nr[Or++]=ps,Nr[Or++]=ms,Nr[Or++]=Ga,Ga=t;var r=ps;t=ms;var i=32-mi(r)-1;r&=~(1<<i),n+=1;var s=32-mi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ps=1<<32-mi(e)+i|n<<i|r,ms=s+t}else ps=1<<s|n<<i|r,ms=t}function hS(t){t.return!==null&&(va(t,1),vN(t,1,0))}function fS(t){for(;t===Rg;)Rg=sc[--oc],sc[oc]=null,Ng=sc[--oc],sc[oc]=null;for(;t===Ga;)Ga=Nr[--Or],Nr[Or]=null,ms=Nr[--Or],Nr[Or]=null,ps=Nr[--Or],Nr[Or]=null}var dr=null,lr=null,ut=!1,ci=null;function yN(t,e){var n=Dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,lr=So(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ga!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,lr=null,!0):!1;default:return!1}}function G1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K1(t){if(ut){var e=lr;if(e){var n=e;if(!RC(t,e)){if(G1(t))throw Error(W(418));e=So(n.nextSibling);var r=dr;e&&RC(t,e)?yN(r,n):(t.flags=t.flags&-4097|2,ut=!1,dr=t)}}else{if(G1(t))throw Error(W(418));t.flags=t.flags&-4097|2,ut=!1,dr=t}}}function NC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function em(t){if(t!==dr)return!1;if(!ut)return NC(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!U1(t.type,t.memoizedProps)),e&&(e=lr)){if(G1(t))throw _N(),Error(W(418));for(;e;)yN(t,e),e=So(e.nextSibling)}if(NC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=So(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=dr?So(t.stateNode.nextSibling):null;return!0}function _N(){for(var t=lr;t;)t=So(t.nextSibling)}function Gc(){lr=dr=null,ut=!1}function pS(t){ci===null?ci=[t]:ci.push(t)}var P6=$s.ReactCurrentBatchConfig;function md(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function tm(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function OC(t){var e=t._init;return e(t._payload)}function wN(t){function e(b,w){if(t){var T=b.deletions;T===null?(b.deletions=[w],b.flags|=16):T.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Co(b,w),b.index=0,b.sibling=null,b}function s(b,w,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<w?(b.flags|=2,w):T):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,T,A){return w===null||w.tag!==6?(w=i_(T,b.mode,A),w.return=b,w):(w=i(w,T),w.return=b,w)}function l(b,w,T,A){var D=T.type;return D===Zl?u(b,w,T.props.children,A,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===io&&OC(D)===w.type)?(A=i(w,T.props),A.ref=md(b,w,T),A.return=b,A):(A=Um(T.type,T.key,T.props,null,b.mode,A),A.ref=md(b,w,T),A.return=b,A)}function c(b,w,T,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=s_(T,b.mode,A),w.return=b,w):(w=i(w,T.children||[]),w.return=b,w)}function u(b,w,T,A,D){return w===null||w.tag!==7?(w=Ma(T,b.mode,A,D),w.return=b,w):(w=i(w,T),w.return=b,w)}function h(b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=i_(""+w,b.mode,T),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wp:return T=Um(w.type,w.key,w.props,null,b.mode,T),T.ref=md(b,null,w),T.return=b,T;case Jl:return w=s_(w,b.mode,T),w.return=b,w;case io:var A=w._init;return h(b,A(w._payload),T)}if(Nd(w)||ud(w))return w=Ma(w,b.mode,T,null),w.return=b,w;tm(b,w)}return null}function f(b,w,T,A){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(b,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wp:return T.key===D?l(b,w,T,A):null;case Jl:return T.key===D?c(b,w,T,A):null;case io:return D=T._init,f(b,w,D(T._payload),A)}if(Nd(T)||ud(T))return D!==null?null:u(b,w,T,A,null);tm(b,T)}return null}function p(b,w,T,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(T)||null,a(w,b,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wp:return b=b.get(A.key===null?T:A.key)||null,l(w,b,A,D);case Jl:return b=b.get(A.key===null?T:A.key)||null,c(w,b,A,D);case io:var V=A._init;return p(b,w,T,V(A._payload),D)}if(Nd(A)||ud(A))return b=b.get(T)||null,u(w,b,A,D,null);tm(w,A)}return null}function v(b,w,T,A){for(var D=null,V=null,C=w,x=w=0,I=null;C!==null&&x<T.length;x++){C.index>x?(I=C,C=null):I=C.sibling;var P=f(b,C,T[x],A);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(b,C),w=s(P,w,x),V===null?D=P:V.sibling=P,V=P,C=I}if(x===T.length)return n(b,C),ut&&va(b,x),D;if(C===null){for(;x<T.length;x++)C=h(b,T[x],A),C!==null&&(w=s(C,w,x),V===null?D=C:V.sibling=C,V=C);return ut&&va(b,x),D}for(C=r(b,C);x<T.length;x++)I=p(C,b,x,T[x],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?x:I.key),w=s(I,w,x),V===null?D=I:V.sibling=I,V=I);return t&&C.forEach(function(O){return e(b,O)}),ut&&va(b,x),D}function y(b,w,T,A){var D=ud(T);if(typeof D!="function")throw Error(W(150));if(T=D.call(T),T==null)throw Error(W(151));for(var V=D=null,C=w,x=w=0,I=null,P=T.next();C!==null&&!P.done;x++,P=T.next()){C.index>x?(I=C,C=null):I=C.sibling;var O=f(b,C,P.value,A);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(b,C),w=s(O,w,x),V===null?D=O:V.sibling=O,V=O,C=I}if(P.done)return n(b,C),ut&&va(b,x),D;if(C===null){for(;!P.done;x++,P=T.next())P=h(b,P.value,A),P!==null&&(w=s(P,w,x),V===null?D=P:V.sibling=P,V=P);return ut&&va(b,x),D}for(C=r(b,C);!P.done;x++,P=T.next())P=p(C,b,x,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),w=s(P,w,x),V===null?D=P:V.sibling=P,V=P);return t&&C.forEach(function(F){return e(b,F)}),ut&&va(b,x),D}function S(b,w,T,A){if(typeof T=="object"&&T!==null&&T.type===Zl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Wp:e:{for(var D=T.key,V=w;V!==null;){if(V.key===D){if(D=T.type,D===Zl){if(V.tag===7){n(b,V.sibling),w=i(V,T.props.children),w.return=b,b=w;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===io&&OC(D)===V.type){n(b,V.sibling),w=i(V,T.props),w.ref=md(b,V,T),w.return=b,b=w;break e}n(b,V);break}else e(b,V);V=V.sibling}T.type===Zl?(w=Ma(T.props.children,b.mode,A,T.key),w.return=b,b=w):(A=Um(T.type,T.key,T.props,null,b.mode,A),A.ref=md(b,w,T),A.return=b,b=A)}return o(b);case Jl:e:{for(V=T.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(b,w.sibling),w=i(w,T.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=s_(T,b.mode,A),w.return=b,b=w}return o(b);case io:return V=T._init,S(b,w,V(T._payload),A)}if(Nd(T))return v(b,w,T,A);if(ud(T))return y(b,w,T,A);tm(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,T),w.return=b,b=w):(n(b,w),w=i_(T,b.mode,A),w.return=b,b=w),o(b)):n(b,w)}return S}var Kc=wN(!0),bN=wN(!1),Og=Yo(null),Dg=null,ac=null,mS=null;function gS(){mS=ac=Dg=null}function vS(t){var e=Og.current;at(Og),t._currentValue=e}function Y1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pc(t,e){Dg=t,mS=ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(mS!==t)if(t={context:t,memoizedValue:e,next:null},ac===null){if(Dg===null)throw Error(W(308));ac=t,Dg.dependencies={lanes:0,firstContext:t}}else ac=ac.next=t;return e}var Ia=null;function yS(t){Ia===null?Ia=[t]:Ia.push(t)}function SN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yS(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ns(t,r)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var so=!1;function _S(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ns(t,n)}return i=r.interleaved,i===null?(e.next=e,yS(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ns(t,n)}function Fm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iS(t,n)}}function DC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mg(t,e,n,r){var i=t.updateQueue;so=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=pt({},h,f);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ya|=o,t.lanes=o,t.memoizedState=h}}function MC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Af={},zi=Yo(Af),$h=Yo(Af),Bh=Yo(Af);function ka(t){if(t===Af)throw Error(W(174));return t}function wS(t,e){switch(Ze(Bh,e),Ze($h,t),Ze(zi,Af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P1(e,t)}at(zi),Ze(zi,e)}function Yc(){at(zi),at($h),at(Bh)}function TN(t){ka(Bh.current);var e=ka(zi.current),n=P1(e,t.type);e!==n&&(Ze($h,t),Ze(zi,n))}function bS(t){$h.current===t&&(at(zi),at($h))}var dt=Yo(0);function Lg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J0=[];function SS(){for(var t=0;t<J0.length;t++)J0[t]._workInProgressVersionPrimary=null;J0.length=0}var Vm=$s.ReactCurrentDispatcher,Z0=$s.ReactCurrentBatchConfig,Ka=0,ft=null,jt=null,qt=null,Fg=!1,eh=!1,zh=0,A6=0;function vn(){throw Error(W(321))}function ES(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function TS(t,e,n,r,i,s){if(Ka=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?D6:M6,t=n(r,i),eh){s=0;do{if(eh=!1,zh=0,25<=s)throw Error(W(301));s+=1,qt=jt=null,e.updateQueue=null,Vm.current=L6,t=n(r,i)}while(eh)}if(Vm.current=Vg,e=jt!==null&&jt.next!==null,Ka=0,qt=jt=ft=null,Fg=!1,e)throw Error(W(300));return t}function xS(){var t=zh!==0;return zh=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?ft.memoizedState=qt=t:qt=qt.next=t,qt}function Wr(){if(jt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=qt===null?ft.memoizedState:qt.next;if(e!==null)qt=e,jt=t;else{if(t===null)throw Error(W(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},qt===null?ft.memoizedState=qt=t:qt=qt.next=t}return qt}function Uh(t,e){return typeof e=="function"?e(t):e}function e_(t){var e=Wr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ka&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ft.lanes|=u,Ya|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,bi(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,Ya|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function t_(t){var e=Wr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bi(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xN(){}function CN(t,e){var n=ft,r=Wr(),i=e(),s=!bi(r.memoizedState,i);if(s&&(r.memoizedState=i,Yn=!0),r=r.queue,CS(PN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Wh(9,kN.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(W(349));Ka&30||IN(n,e,i)}return i}function IN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kN(t,e,n,r){e.value=n,e.getSnapshot=r,AN(e)&&RN(t)}function PN(t,e,n){return n(function(){AN(e)&&RN(t)})}function AN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function RN(t){var e=Ns(t,1);e!==null&&gi(e,t,1,-1)}function LC(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},e.queue=t,t=t.dispatch=O6.bind(null,ft,t),[e.memoizedState,t]}function Wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NN(){return Wr().memoizedState}function jm(t,e,n,r){var i=Ni();ft.flags|=t,i.memoizedState=Wh(1|e,n,void 0,r===void 0?null:r)}function Gv(t,e,n,r){var i=Wr();r=r===void 0?null:r;var s=void 0;if(jt!==null){var o=jt.memoizedState;if(s=o.destroy,r!==null&&ES(r,o.deps)){i.memoizedState=Wh(e,n,s,r);return}}ft.flags|=t,i.memoizedState=Wh(1|e,n,s,r)}function FC(t,e){return jm(8390656,8,t,e)}function CS(t,e){return Gv(2048,8,t,e)}function ON(t,e){return Gv(4,2,t,e)}function DN(t,e){return Gv(4,4,t,e)}function MN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LN(t,e,n){return n=n!=null?n.concat([t]):null,Gv(4,4,MN.bind(null,e,t),n)}function IS(){}function FN(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VN(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jN(t,e,n){return Ka&21?(bi(n,e)||(n=W2(),ft.lanes|=n,Ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function R6(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Z0.transition;Z0.transition={};try{t(!1),e()}finally{Ue=n,Z0.transition=r}}function $N(){return Wr().memoizedState}function N6(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BN(t))zN(e,n);else if(n=SN(t,e,n,r),n!==null){var i=Vn();gi(n,t,r,i),UN(n,e,r)}}function O6(t,e,n){var r=xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BN(t))zN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bi(a,o)){var l=e.interleaved;l===null?(i.next=i,yS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SN(t,e,i,r),n!==null&&(i=Vn(),gi(n,t,r,i),UN(n,e,r))}}function BN(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function zN(t,e){eh=Fg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iS(t,n)}}var Vg={readContext:Ur,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},D6={readContext:Ur,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:FC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jm(4194308,4,MN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jm(4194308,4,t,e)},useInsertionEffect:function(t,e){return jm(4,2,t,e)},useMemo:function(t,e){var n=Ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=N6.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:LC,useDebugValue:IS,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=LC(!1),e=t[0];return t=R6.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Ni();if(ut){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Yt===null)throw Error(W(349));Ka&30||IN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,FC(PN.bind(null,r,s,t),[t]),r.flags|=2048,Wh(9,kN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ni(),e=Yt.identifierPrefix;if(ut){var n=ms,r=ps;n=(r&~(1<<32-mi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M6={readContext:Ur,useCallback:FN,useContext:Ur,useEffect:CS,useImperativeHandle:LN,useInsertionEffect:ON,useLayoutEffect:DN,useMemo:VN,useReducer:e_,useRef:NN,useState:function(){return e_(Uh)},useDebugValue:IS,useDeferredValue:function(t){var e=Wr();return jN(e,jt.memoizedState,t)},useTransition:function(){var t=e_(Uh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:xN,useSyncExternalStore:CN,useId:$N,unstable_isNewReconciler:!1},L6={readContext:Ur,useCallback:FN,useContext:Ur,useEffect:CS,useImperativeHandle:LN,useInsertionEffect:ON,useLayoutEffect:DN,useMemo:VN,useReducer:t_,useRef:NN,useState:function(){return t_(Uh)},useDebugValue:IS,useDeferredValue:function(t){var e=Wr();return jt===null?e.memoizedState=t:jN(e,jt.memoizedState,t)},useTransition:function(){var t=t_(Uh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:xN,useSyncExternalStore:CN,useId:$N,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Q1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kv={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=xo(t),s=Ss(r,i);s.payload=e,n!=null&&(s.callback=n),e=Eo(t,s,i),e!==null&&(gi(e,t,i,r),Fm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=xo(t),s=Ss(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Eo(t,s,i),e!==null&&(gi(e,t,i,r),Fm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=xo(t),i=Ss(n,r);i.tag=2,e!=null&&(i.callback=e),e=Eo(t,i,r),e!==null&&(gi(e,t,r,n),Fm(e,t,r))}};function VC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lh(n,r)||!Lh(i,s):!0}function WN(t,e,n){var r=!1,i=Fo,s=e.contextType;return typeof s=="object"&&s!==null?s=Ur(s):(i=Jn(e)?qa:Rn.current,r=e.contextTypes,s=(r=r!=null)?qc(t,i):Fo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kv.enqueueReplaceState(e,e.state,null)}function X1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_S(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ur(s):(s=Jn(e)?qa:Rn.current,i.context=qc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Q1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kv.enqueueReplaceState(i,i.state,null),Mg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qc(t,e){try{var n="",r=e;do n+=uj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function n_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function J1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F6=typeof WeakMap=="function"?WeakMap:Map;function HN(t,e,n){n=Ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$g||($g=!0,lw=r),J1(t,e)},n}function qN(t,e,n){n=Ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){J1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){J1(t,e),typeof r!="function"&&(To===null?To=new Set([this]):To.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $C(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=X6.bind(null,t,e,n),e.then(t,t))}function BC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ss(-1,1),e.tag=2,Eo(n,e,1))),n.lanes|=1),t)}var V6=$s.ReactCurrentOwner,Yn=!1;function Ln(t,e,n,r){e.child=t===null?bN(e,null,n,r):Kc(e,t.child,n,r)}function UC(t,e,n,r,i){n=n.render;var s=e.ref;return Pc(e,i),r=TS(t,e,n,r,s,i),n=xS(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Os(t,e,i)):(ut&&n&&hS(e),e.flags|=1,Ln(t,e,r,i),e.child)}function WC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!MS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GN(t,e,s,r,i)):(t=Um(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lh,n(o,r)&&t.ref===e.ref)return Os(t,e,i)}return e.flags|=1,t=Co(s,r),t.ref=e.ref,t.return=e,e.child=t}function GN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Lh(s,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Os(t,e,i)}return Z1(t,e,n,r,i)}function KN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(cc,or),or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(cc,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(cc,or),or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(cc,or),or|=r;return Ln(t,e,i,n),e.child}function YN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Z1(t,e,n,r,i){var s=Jn(n)?qa:Rn.current;return s=qc(e,s),Pc(e,i),n=TS(t,e,n,r,s,i),r=xS(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Os(t,e,i)):(ut&&r&&hS(e),e.flags|=1,Ln(t,e,n,i),e.child)}function HC(t,e,n,r,i){if(Jn(n)){var s=!0;Ag(e)}else s=!1;if(Pc(e,i),e.stateNode===null)$m(t,e),WN(e,n,r),X1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ur(c):(c=Jn(n)?qa:Rn.current,c=qc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jC(e,o,r,c),so=!1;var f=e.memoizedState;o.state=f,Mg(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Xn.current||so?(typeof u=="function"&&(Q1(e,n,u,r),l=e.memoizedState),(a=so||VC(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,EN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:oi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ur(l):(l=Jn(n)?qa:Rn.current,l=qc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&jC(e,o,r,l),so=!1,f=e.memoizedState,o.state=f,Mg(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Xn.current||so?(typeof p=="function"&&(Q1(e,n,p,r),v=e.memoizedState),(c=so||VC(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ew(t,e,n,r,s,i)}function ew(t,e,n,r,i,s){YN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AC(e,n,!1),Os(t,e,s);r=e.stateNode,V6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kc(e,t.child,null,s),e.child=Kc(e,null,a,s)):Ln(t,e,a,s),e.memoizedState=r.state,i&&AC(e,n,!0),e.child}function QN(t){var e=t.stateNode;e.pendingContext?PC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PC(t,e.context,!1),wS(t,e.containerInfo)}function qC(t,e,n,r,i){return Gc(),pS(i),e.flags|=256,Ln(t,e,n,r),e.child}var tw={dehydrated:null,treeContext:null,retryLane:0};function nw(t){return{baseLanes:t,cachePool:null,transitions:null}}function XN(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(dt,i&1),t===null)return K1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xv(o,r,0,null),t=Ma(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nw(n),e.memoizedState=tw,t):kS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return j6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Co(a,s):(s=Ma(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=tw,r}return s=t.child,t=s.sibling,r=Co(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kS(t,e){return e=Xv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nm(t,e,n,r){return r!==null&&pS(r),Kc(e,t.child,null,n),t=kS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=n_(Error(W(422))),nm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xv({mode:"visible",children:r.children},i,0,null),s=Ma(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kc(e,t.child,null,o),e.child.memoizedState=nw(o),e.memoizedState=tw,s);if(!(e.mode&1))return nm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=n_(s,r,void 0),nm(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=Yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ns(t,i),gi(r,t,i,-1))}return DS(),r=n_(Error(W(421))),nm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,lr=So(i.nextSibling),dr=e,ut=!0,ci=null,t!==null&&(Nr[Or++]=ps,Nr[Or++]=ms,Nr[Or++]=Ga,ps=t.id,ms=t.overflow,Ga=e),e=kS(e,r.children),e.flags|=4096,e)}function GC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y1(t.return,e,n)}function r_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ln(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GC(t,n,e);else if(t.tag===19)GC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),r_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}r_(e,!0,n,null,s);break;case"together":r_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $6(t,e,n){switch(e.tag){case 3:QN(e),Gc();break;case 5:TN(e);break;case 1:Jn(e.type)&&Ag(e);break;case 4:wS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Og,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?XN(t,e,n):(Ze(dt,dt.current&1),t=Os(t,e,n),t!==null?t.sibling:null);Ze(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,KN(t,e,n)}return Os(t,e,n)}var ZN,rw,eO,tO;ZN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rw=function(){};eO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ka(zi.current);var s=null;switch(n){case"input":i=x1(t,i),r=x1(t,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=k1(t,i),r=k1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kg)}A1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ph.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ph.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};tO=function(t,e,n,r){n!==r&&(e.flags|=4)};function gd(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B6(t,e,n){var r=e.pendingProps;switch(fS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Jn(e.type)&&Pg(),yn(e),null;case 3:return r=e.stateNode,Yc(),at(Xn),at(Rn),SS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(em(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(dw(ci),ci=null))),rw(t,e),yn(e),null;case 5:bS(e);var i=ka(Bh.current);if(n=e.type,t!==null&&e.stateNode!=null)eO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return yn(e),null}if(t=ka(zi.current),em(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[jh]=s,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Dd.length;i++)nt(Dd[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":nC(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":iC(r,s),nt("invalid",r)}A1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zp(r.textContent,a,t),i=["children",""+a]):Ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":Hp(r),rC(r,s,!0);break;case"textarea":Hp(r),sC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Li]=e,t[jh]=r,ZN(t,e,!1,!1),e.stateNode=t;e:{switch(o=R1(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dd.length;i++)nt(Dd[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":nC(t,r),i=x1(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":iC(t,r),i=k1(t,r),nt("invalid",t);break;default:i=r}A1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?N2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ah(t,l):typeof l=="number"&&Ah(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ph.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",t):l!=null&&Jb(t,s,l,o))}switch(n){case"input":Hp(t),rC(t,r,!1);break;case"textarea":Hp(t),sC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xc(t,!!r.multiple,s,!1):r.defaultValue!=null&&xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)tO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ka(Bh.current),ka(zi.current),em(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Zp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return yn(e),null;case 13:if(at(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&lr!==null&&e.mode&1&&!(e.flags&128))_N(),Gc(),e.flags|=98560,s=!1;else if(s=em(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Li]=e}else Gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),s=!1}else ci!==null&&(dw(ci),ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?$t===0&&($t=3):DS())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Yc(),rw(t,e),t===null&&Fh(e.stateNode.containerInfo),yn(e),null;case 10:return vS(e.type._context),yn(e),null;case 17:return Jn(e.type)&&Pg(),yn(e),null;case 19:if(at(dt),s=e.memoizedState,s===null)return yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gd(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lg(t),o!==null){for(e.flags|=128,gd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>Xc&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return yn(e),null}else 2*St()-s.renderingStartTime>Xc&&n!==1073741824&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=dt.current,Ze(dt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return OS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function z6(t,e){switch(fS(e),e.tag){case 1:return Jn(e.type)&&Pg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yc(),at(Xn),at(Rn),SS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bS(e),null;case 13:if(at(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Gc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(dt),null;case 4:return Yc(),null;case 10:return vS(e.type._context),null;case 22:case 23:return OS(),null;case 24:return null;default:return null}}var rm=!1,En=!1,U6=typeof WeakSet=="function"?WeakSet:Set,Q=null;function lc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function iw(t,e,n){try{n()}catch(r){gt(t,e,r)}}var KC=!1;function W6(t,e){if(B1=xg,t=oN(),dS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z1={focusedElem:t,selectionRange:n},xg=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:oi(e.type,y),S);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){gt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=KC,KC=!1,v}function th(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iw(e,n,s)}i=i.next}while(i!==r)}}function Yv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nO(t){var e=t.alternate;e!==null&&(t.alternate=null,nO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[jh],delete e[H1],delete e[C6],delete e[I6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rO(t){return t.tag===5||t.tag===3||t.tag===4}function YC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kg));else if(r!==4&&(t=t.child,t!==null))for(ow(t,e,n),t=t.sibling;t!==null;)ow(t,e,n),t=t.sibling}function aw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(aw(t,e,n),t=t.sibling;t!==null;)aw(t,e,n),t=t.sibling}var nn=null,li=!1;function Js(t,e,n){for(n=n.child;n!==null;)iO(t,e,n),n=n.sibling}function iO(t,e,n){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(Bv,n)}catch{}switch(n.tag){case 5:En||lc(n,e);case 6:var r=nn,i=li;nn=null,Js(t,e,n),nn=r,li=i,nn!==null&&(li?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(li?(t=nn,n=n.stateNode,t.nodeType===8?Q0(t.parentNode,n):t.nodeType===1&&Q0(t,n),Dh(t)):Q0(nn,n.stateNode));break;case 4:r=nn,i=li,nn=n.stateNode.containerInfo,li=!0,Js(t,e,n),nn=r,li=i;break;case 0:case 11:case 14:case 15:if(!En&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iw(n,e,o),i=i.next}while(i!==r)}Js(t,e,n);break;case 1:if(!En&&(lc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Js(t,e,n);break;case 21:Js(t,e,n);break;case 22:n.mode&1?(En=(r=En)||n.memoizedState!==null,Js(t,e,n),En=r):Js(t,e,n);break;default:Js(t,e,n)}}function QC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U6),e.forEach(function(r){var i=Z6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,li=!1;break e;case 3:nn=a.stateNode.containerInfo,li=!0;break e;case 4:nn=a.stateNode.containerInfo,li=!0;break e}a=a.return}if(nn===null)throw Error(W(160));iO(s,o,i),nn=null,li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sO(e,t),e=e.sibling}function sO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ii(e,t),Ai(t),r&4){try{th(3,t,t.return),Yv(3,t)}catch(y){gt(t,t.return,y)}try{th(5,t,t.return)}catch(y){gt(t,t.return,y)}}break;case 1:ii(e,t),Ai(t),r&512&&n!==null&&lc(n,n.return);break;case 5:if(ii(e,t),Ai(t),r&512&&n!==null&&lc(n,n.return),t.flags&32){var i=t.stateNode;try{Ah(i,"")}catch(y){gt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&I2(i,s),R1(a,o);var c=R1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?N2(i,h):u==="dangerouslySetInnerHTML"?A2(i,h):u==="children"?Ah(i,h):Jb(i,u,h,c)}switch(a){case"input":C1(i,s);break;case"textarea":k2(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?xc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?xc(i,!!s.multiple,s.defaultValue,!0):xc(i,!!s.multiple,s.multiple?[]:"",!1))}i[jh]=s}catch(y){gt(t,t.return,y)}}break;case 6:if(ii(e,t),Ai(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){gt(t,t.return,y)}}break;case 3:if(ii(e,t),Ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dh(e.containerInfo)}catch(y){gt(t,t.return,y)}break;case 4:ii(e,t),Ai(t);break;case 13:ii(e,t),Ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(RS=St())),r&4&&QC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(En=(c=En)||u,ii(e,t),En=c):ii(e,t),Ai(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:th(4,f,f.return);break;case 1:lc(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){gt(r,n,y)}}break;case 5:lc(f,f.return);break;case 22:if(f.memoizedState!==null){JC(h);continue}}p!==null?(p.return=f,Q=p):JC(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R2("display",o))}catch(y){gt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){gt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ii(e,t),Ai(t),r&4&&QC(t);break;case 21:break;default:ii(e,t),Ai(t)}}function Ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rO(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ah(i,""),r.flags&=-33);var s=YC(t);aw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=YC(t);ow(t,a,o);break;default:throw Error(W(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H6(t,e,n){Q=t,oO(t)}function oO(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||En;a=rm;var c=En;if(rm=o,(En=l)&&!c)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?ZC(i):l!==null?(l.return=o,Q=l):ZC(i);for(;s!==null;)Q=s,oO(s),s=s.sibling;Q=i,rm=a,En=c}XC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):XC(t)}}function XC(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:En||Yv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!En)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&MC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}MC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Dh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}En||e.flags&512&&sw(e)}catch(f){gt(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function JC(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function ZC(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yv(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var s=e.return;try{sw(e)}catch(l){gt(e,s,l)}break;case 5:var o=e.return;try{sw(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var q6=Math.ceil,jg=$s.ReactCurrentDispatcher,PS=$s.ReactCurrentOwner,Vr=$s.ReactCurrentBatchConfig,Ne=0,Yt=null,Pt=null,cn=0,or=0,cc=Yo(0),$t=0,Hh=null,Ya=0,Qv=0,AS=0,nh=null,qn=null,RS=0,Xc=1/0,cs=null,$g=!1,lw=null,To=null,im=!1,go=null,Bg=0,rh=0,cw=null,Bm=-1,zm=0;function Vn(){return Ne&6?St():Bm!==-1?Bm:Bm=St()}function xo(t){return t.mode&1?Ne&2&&cn!==0?cn&-cn:P6.transition!==null?(zm===0&&(zm=W2()),zm):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:X2(t.type)),t):1}function gi(t,e,n,r){if(50<rh)throw rh=0,cw=null,Error(W(185));If(t,n,r),(!(Ne&2)||t!==Yt)&&(t===Yt&&(!(Ne&2)&&(Qv|=n),$t===4&&lo(t,cn)),Zn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Xc=St()+500,qv&&Qo()))}function Zn(t,e){var n=t.callbackNode;Pj(t,e);var r=Tg(t,t===Yt?cn:0);if(r===0)n!==null&&lC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lC(n),e===1)t.tag===0?k6(eI.bind(null,t)):gN(eI.bind(null,t)),T6(function(){!(Ne&6)&&Qo()}),n=null;else{switch(H2(r)){case 1:n=rS;break;case 4:n=z2;break;case 16:n=Eg;break;case 536870912:n=U2;break;default:n=Eg}n=pO(n,aO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aO(t,e){if(Bm=-1,zm=0,Ne&6)throw Error(W(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var r=Tg(t,t===Yt?cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zg(t,r);else{e=r;var i=Ne;Ne|=2;var s=cO();(Yt!==t||cn!==e)&&(cs=null,Xc=St()+500,Da(t,e));do try{Y6();break}catch(a){lO(t,a)}while(!0);gS(),jg.current=s,Ne=i,Pt!==null?e=0:(Yt=null,cn=0,e=$t)}if(e!==0){if(e===2&&(i=L1(t),i!==0&&(r=i,e=uw(t,i))),e===1)throw n=Hh,Da(t,0),lo(t,r),Zn(t,St()),n;if(e===6)lo(t,r);else{if(i=t.current.alternate,!(r&30)&&!G6(i)&&(e=zg(t,r),e===2&&(s=L1(t),s!==0&&(r=s,e=uw(t,s))),e===1))throw n=Hh,Da(t,0),lo(t,r),Zn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ya(t,qn,cs);break;case 3:if(lo(t,r),(r&130023424)===r&&(e=RS+500-St(),10<e)){if(Tg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W1(ya.bind(null,t,qn,cs),e);break}ya(t,qn,cs);break;case 4:if(lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q6(r/1960))-r,10<r){t.timeoutHandle=W1(ya.bind(null,t,qn,cs),r);break}ya(t,qn,cs);break;case 5:ya(t,qn,cs);break;default:throw Error(W(329))}}}return Zn(t,St()),t.callbackNode===n?aO.bind(null,t):null}function uw(t,e){var n=nh;return t.current.memoizedState.isDehydrated&&(Da(t,e).flags|=256),t=zg(t,e),t!==2&&(e=qn,qn=n,e!==null&&dw(e)),t}function dw(t){qn===null?qn=t:qn.push.apply(qn,t)}function G6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(t,e){for(e&=~AS,e&=~Qv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mi(e),r=1<<n;t[n]=-1,e&=~r}}function eI(t){if(Ne&6)throw Error(W(327));Ac();var e=Tg(t,0);if(!(e&1))return Zn(t,St()),null;var n=zg(t,e);if(t.tag!==0&&n===2){var r=L1(t);r!==0&&(e=r,n=uw(t,r))}if(n===1)throw n=Hh,Da(t,0),lo(t,e),Zn(t,St()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ya(t,qn,cs),Zn(t,St()),null}function NS(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Xc=St()+500,qv&&Qo())}}function Qa(t){go!==null&&go.tag===0&&!(Ne&6)&&Ac();var e=Ne;Ne|=1;var n=Vr.transition,r=Ue;try{if(Vr.transition=null,Ue=1,t)return t()}finally{Ue=r,Vr.transition=n,Ne=e,!(Ne&6)&&Qo()}}function OS(){or=cc.current,at(cc)}function Da(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E6(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(fS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pg();break;case 3:Yc(),at(Xn),at(Rn),SS();break;case 5:bS(r);break;case 4:Yc();break;case 13:at(dt);break;case 19:at(dt);break;case 10:vS(r.type._context);break;case 22:case 23:OS()}n=n.return}if(Yt=t,Pt=t=Co(t.current,null),cn=or=e,$t=0,Hh=null,AS=Qv=Ya=0,qn=nh=null,Ia!==null){for(e=0;e<Ia.length;e++)if(n=Ia[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ia=null}return t}function lO(t,e){do{var n=Pt;try{if(gS(),Vm.current=Vg,Fg){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fg=!1}if(Ka=0,qt=jt=ft=null,eh=!1,zh=0,PS.current=null,n===null||n.return===null){$t=1,Hh=e,Pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=BC(o);if(p!==null){p.flags&=-257,zC(p,o,a,s,e),p.mode&1&&$C(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){$C(s,c,e),DS();break e}l=Error(W(426))}}else if(ut&&a.mode&1){var S=BC(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),zC(S,o,a,s,e),pS(Qc(l,a));break e}}s=l=Qc(l,a),$t!==4&&($t=2),nh===null?nh=[s]:nh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=HN(s,l,e);DC(s,b);break e;case 1:a=l;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(To===null||!To.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=qN(s,a,e);DC(s,A);break e}}s=s.return}while(s!==null)}dO(n)}catch(D){e=D,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function cO(){var t=jg.current;return jg.current=Vg,t===null?Vg:t}function DS(){($t===0||$t===3||$t===2)&&($t=4),Yt===null||!(Ya&268435455)&&!(Qv&268435455)||lo(Yt,cn)}function zg(t,e){var n=Ne;Ne|=2;var r=cO();(Yt!==t||cn!==e)&&(cs=null,Da(t,e));do try{K6();break}catch(i){lO(t,i)}while(!0);if(gS(),Ne=n,jg.current=r,Pt!==null)throw Error(W(261));return Yt=null,cn=0,$t}function K6(){for(;Pt!==null;)uO(Pt)}function Y6(){for(;Pt!==null&&!wj();)uO(Pt)}function uO(t){var e=fO(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?dO(t):Pt=e,PS.current=null}function dO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z6(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Pt=null;return}}else if(n=B6(n,e,or),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);$t===0&&($t=5)}function ya(t,e,n){var r=Ue,i=Vr.transition;try{Vr.transition=null,Ue=1,Q6(t,e,n,r)}finally{Vr.transition=i,Ue=r}return null}function Q6(t,e,n,r){do Ac();while(go!==null);if(Ne&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Aj(t,s),t===Yt&&(Pt=Yt=null,cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||im||(im=!0,pO(Eg,function(){return Ac(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vr.transition,Vr.transition=null;var o=Ue;Ue=1;var a=Ne;Ne|=4,PS.current=null,W6(t,n),sO(n,t),g6(z1),xg=!!B1,z1=B1=null,t.current=n,H6(n),bj(),Ne=a,Ue=o,Vr.transition=s}else t.current=n;if(im&&(im=!1,go=t,Bg=i),s=t.pendingLanes,s===0&&(To=null),Tj(n.stateNode),Zn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($g)throw $g=!1,t=lw,lw=null,t;return Bg&1&&t.tag!==0&&Ac(),s=t.pendingLanes,s&1?t===cw?rh++:(rh=0,cw=t):rh=0,Qo(),null}function Ac(){if(go!==null){var t=H2(Bg),e=Vr.transition,n=Ue;try{if(Vr.transition=null,Ue=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,Bg=0,Ne&6)throw Error(W(331));var i=Ne;for(Ne|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:th(8,u,s)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,p=u.return;if(nO(u),u===c){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:th(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Q=b;break e}Q=s.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yv(9,a)}}catch(D){gt(a,a.return,D)}if(a===o){Q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Q=A;break e}Q=a.return}}if(Ne=i,Qo(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(Bv,t)}catch{}r=!0}return r}finally{Ue=n,Vr.transition=e}}return!1}function tI(t,e,n){e=Qc(n,e),e=HN(t,e,1),t=Eo(t,e,1),e=Vn(),t!==null&&(If(t,1,e),Zn(t,e))}function gt(t,e,n){if(t.tag===3)tI(t,t,n);else for(;e!==null;){if(e.tag===3){tI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(To===null||!To.has(r))){t=Qc(n,t),t=qN(e,t,1),e=Eo(e,t,1),t=Vn(),e!==null&&(If(e,1,t),Zn(e,t));break}}e=e.return}}function X6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(cn&n)===n&&($t===4||$t===3&&(cn&130023424)===cn&&500>St()-RS?Da(t,0):AS|=n),Zn(t,e)}function hO(t,e){e===0&&(t.mode&1?(e=Kp,Kp<<=1,!(Kp&130023424)&&(Kp=4194304)):e=1);var n=Vn();t=Ns(t,e),t!==null&&(If(t,e,n),Zn(t,n))}function J6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hO(t,n)}function Z6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),hO(t,n)}var fO;fO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,$6(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,ut&&e.flags&1048576&&vN(e,Ng,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$m(t,e),t=e.pendingProps;var i=qc(e,Rn.current);Pc(e,n),i=TS(null,e,r,t,i,n);var s=xS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(s=!0,Ag(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_S(e),i.updater=Kv,e.stateNode=i,i._reactInternals=e,X1(e,r,t,n),e=ew(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&hS(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($m(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=t$(r),t=oi(r,t),i){case 0:e=Z1(null,e,r,t,n);break e;case 1:e=HC(null,e,r,t,n);break e;case 11:e=UC(null,e,r,t,n);break e;case 14:e=WC(null,e,r,oi(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),Z1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),HC(t,e,r,i,n);case 3:e:{if(QN(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,EN(t,e),Mg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qc(Error(W(423)),e),e=qC(t,e,r,n,i);break e}else if(r!==i){i=Qc(Error(W(424)),e),e=qC(t,e,r,n,i);break e}else for(lr=So(e.stateNode.containerInfo.firstChild),dr=e,ut=!0,ci=null,n=bN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gc(),r===i){e=Os(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return TN(e),t===null&&K1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,U1(r,i)?o=null:s!==null&&U1(r,s)&&(e.flags|=32),YN(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&K1(e),null;case 13:return XN(t,e,n);case 4:return wS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kc(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),UC(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(Og,r._currentValue),r._currentValue=o,s!==null)if(bi(s.value,o)){if(s.children===i.children&&!Xn.current){e=Os(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ss(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Y1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Y1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pc(e,n),i=Ur(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=oi(r,e.pendingProps),i=oi(r.type,i),WC(t,e,r,i,n);case 15:return GN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),$m(t,e),e.tag=1,Jn(r)?(t=!0,Ag(e)):t=!1,Pc(e,n),WN(e,r,i),X1(e,r,i,n),ew(null,e,r,!0,t,n);case 19:return JN(t,e,n);case 22:return KN(t,e,n)}throw Error(W(156,e.tag))};function pO(t,e){return B2(t,e)}function e$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(t,e,n,r){return new e$(t,e,n,r)}function MS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t$(t){if(typeof t=="function")return MS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eS)return 11;if(t===tS)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=Dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Um(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")MS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zl:return Ma(n.children,i,s,e);case Zb:o=8,i|=8;break;case b1:return t=Dr(12,n,e,i|2),t.elementType=b1,t.lanes=s,t;case S1:return t=Dr(13,n,e,i),t.elementType=S1,t.lanes=s,t;case E1:return t=Dr(19,n,e,i),t.elementType=E1,t.lanes=s,t;case T2:return Xv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S2:o=10;break e;case E2:o=9;break e;case eS:o=11;break e;case tS:o=14;break e;case io:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Dr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ma(t,e,n,r){return t=Dr(7,t,r,e),t.lanes=n,t}function Xv(t,e,n,r){return t=Dr(22,t,r,e),t.elementType=T2,t.lanes=n,t.stateNode={isHidden:!1},t}function i_(t,e,n){return t=Dr(6,t,null,e),t.lanes=n,t}function s_(t,e,n){return e=Dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j0(0),this.expirationTimes=j0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LS(t,e,n,r,i,s,o,a,l){return t=new n$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_S(s),t}function r$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mO(t){if(!t)return Fo;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Jn(n))return mN(t,n,e)}return e}function gO(t,e,n,r,i,s,o,a,l){return t=LS(n,r,!0,t,i,s,o,a,l),t.context=mO(null),n=t.current,r=Vn(),i=xo(n),s=Ss(r,i),s.callback=e??null,Eo(n,s,i),t.current.lanes=i,If(t,i,r),Zn(t,r),t}function Jv(t,e,n,r){var i=e.current,s=Vn(),o=xo(i);return n=mO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ss(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Eo(i,e,o),t!==null&&(gi(t,i,o,s),Fm(t,i,o)),o}function Ug(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FS(t,e){nI(t,e),(t=t.alternate)&&nI(t,e)}function i$(){return null}var vO=typeof reportError=="function"?reportError:function(t){console.error(t)};function VS(t){this._internalRoot=t}Zv.prototype.render=VS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Jv(t,e,null,null)};Zv.prototype.unmount=VS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){Jv(null,t,null,null)}),e[Rs]=null}};function Zv(t){this._internalRoot=t}Zv.prototype.unstable_scheduleHydration=function(t){if(t){var e=K2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&Q2(t)}};function jS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rI(){}function s$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ug(o);s.call(c)}}var o=gO(e,r,t,0,null,!1,!1,"",rI);return t._reactRootContainer=o,t[Rs]=o.current,Fh(t.nodeType===8?t.parentNode:t),Qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ug(l);a.call(c)}}var l=LS(t,0,!1,null,null,!1,!1,"",rI);return t._reactRootContainer=l,t[Rs]=l.current,Fh(t.nodeType===8?t.parentNode:t),Qa(function(){Jv(e,l,n,r)}),l}function ty(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ug(o);a.call(l)}}Jv(e,o,t,i)}else o=s$(n,e,t,i,r);return Ug(o)}q2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Od(e.pendingLanes);n!==0&&(iS(e,n|1),Zn(e,St()),!(Ne&6)&&(Xc=St()+500,Qo()))}break;case 13:Qa(function(){var r=Ns(t,1);if(r!==null){var i=Vn();gi(r,t,1,i)}}),FS(t,1)}};sS=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var n=Vn();gi(e,t,134217728,n)}FS(t,134217728)}};G2=function(t){if(t.tag===13){var e=xo(t),n=Ns(t,e);if(n!==null){var r=Vn();gi(n,t,e,r)}FS(t,e)}};K2=function(){return Ue};Y2=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};O1=function(t,e,n){switch(e){case"input":if(C1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hv(r);if(!i)throw Error(W(90));C2(r),C1(r,i)}}}break;case"textarea":k2(t,n);break;case"select":e=n.value,e!=null&&xc(t,!!n.multiple,e,!1)}};M2=NS;L2=Qa;var o$={usingClientEntryPoint:!1,Events:[Pf,rc,Hv,O2,D2,NS]},vd={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a$={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j2(t),t===null?null:t.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||i$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{Bv=sm.inject(a$),Bi=sm}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o$;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jS(e))throw Error(W(200));return r$(t,e,null,n)};yr.createRoot=function(t,e){if(!jS(t))throw Error(W(299));var n=!1,r="",i=vO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LS(t,1,!1,null,null,n,!1,r,i),t[Rs]=e.current,Fh(t.nodeType===8?t.parentNode:t),new VS(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=j2(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return Qa(t)};yr.hydrate=function(t,e,n){if(!ey(e))throw Error(W(200));return ty(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!jS(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gO(e,null,t,1,n??null,i,!1,s,o),t[Rs]=e.current,Fh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zv(e)};yr.render=function(t,e,n){if(!ey(e))throw Error(W(200));return ty(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!ey(t))throw Error(W(40));return t._reactRootContainer?(Qa(function(){ty(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};yr.unstable_batchedUpdates=NS;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ey(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ty(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(t){console.error(t)}}yO(),y2.exports=yr;var $S=y2.exports,iI=$S;_1.createRoot=iI.createRoot,_1.hydrateRoot=iI.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}var vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vo||(vo={}));const sI="popstate";function l$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wg(i)}return u$(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _O(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c$(){return Math.random().toString(36).substr(2,8)}function oI(t,e){return{usr:t.state,key:t.key,idx:e}}function hw(t,e,n,r){return n===void 0&&(n=null),qh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xu(e):e,{state:n,key:e&&e.key||r||c$()})}function Wg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vo.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(qh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=vo.Pop;let S=u(),b=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:b})}function f(S,b){a=vo.Push;let w=hw(y.location,S,b);c=u()+1;let T=oI(w,c),A=y.createHref(w);try{o.pushState(T,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:y.location,delta:1})}function p(S,b){a=vo.Replace;let w=hw(y.location,S,b);c=u();let T=oI(w,c),A=y.createHref(w);o.replaceState(T,"",A),s&&l&&l({action:a,location:y.location,delta:0})}function v(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:Wg(S);return w=w.replace(/ $/,"%20"),Rt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sI,h),l=S,()=>{i.removeEventListener(sI,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let b=v(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(S){return o.go(S)}};return y}var aI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aI||(aI={}));function d$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xu(e):e,i=BS(r.pathname||"/",n);if(i==null)return null;let s=wO(t);h$(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=T$(i);o=b$(s[a],l)}return o}function wO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Io([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wO(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_$(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bO(s.path))i(s,o,l)}),e}function bO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function h$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:w$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f$=/^:[\w-]+$/,p$=3,m$=2,g$=1,v$=10,y$=-2,lI=t=>t==="*";function _$(t,e){let n=t.split("/"),r=n.length;return n.some(lI)&&(r+=y$),e&&(r+=m$),n.filter(i=>!lI(i)).reduce((i,s)=>i+(f$.test(s)?p$:s===""?g$:v$),r)}function w$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function b$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=S$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:Io([i,u.pathname]),pathnameBase:k$(Io([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Io([i,u.pathnameBase]))}return s}function S$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function E$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_O(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function T$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _O(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xu(t):t;return{pathname:n?n.startsWith("/")?n:C$(n,e):e,search:P$(r),hash:A$(i)}}function C$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SO(t,e){let n=I$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xu(t):(i=qh({},t),Rt(!i.pathname||!i.pathname.includes("?"),o_("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),o_("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),o_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=x$(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),k$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TO=["post","put","patch","delete"];new Set(TO);const N$=["get",...TO];new Set(N$);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}const zS=E.createContext(null),O$=E.createContext(null),pl=E.createContext(null),ny=E.createContext(null),Xo=E.createContext({outlet:null,matches:[],isDataRoute:!1}),xO=E.createContext(null);function D$(t,e){let{relative:n}=e===void 0?{}:e;Rf()||Rt(!1);let{basename:r,navigator:i}=E.useContext(pl),{hash:s,pathname:o,search:a}=IO(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Io([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Rf(){return E.useContext(ny)!=null}function Cu(){return Rf()||Rt(!1),E.useContext(ny).location}function CO(t){E.useContext(pl).static||E.useLayoutEffect(t)}function US(){let{isDataRoute:t}=E.useContext(Xo);return t?K$():M$()}function M$(){Rf()||Rt(!1);let t=E.useContext(zS),{basename:e,future:n,navigator:r}=E.useContext(pl),{matches:i}=E.useContext(Xo),{pathname:s}=Cu(),o=JSON.stringify(SO(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return CO(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=EO(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Io([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function L$(){let{matches:t}=E.useContext(Xo),e=t[t.length-1];return e?e.params:{}}function IO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(pl),{matches:i}=E.useContext(Xo),{pathname:s}=Cu(),o=JSON.stringify(SO(i,r.v7_relativeSplatPath));return E.useMemo(()=>EO(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function F$(t,e){return V$(t,e)}function V$(t,e,n,r){Rf()||Rt(!1);let{navigator:i}=E.useContext(pl),{matches:s}=E.useContext(Xo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Cu(),u;if(e){var h;let S=typeof e=="string"?xu(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||Rt(!1),u=S}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=d$(t,{pathname:p}),y=U$(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Io([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Io([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&y?E.createElement(ny.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vo.Pop}},y):y}function j$(){let t=G$(),e=R$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const $$=E.createElement(j$,null);class B$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Xo.Provider,{value:this.props.routeContext},E.createElement(xO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z$(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(zS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Xo.Provider,{value:e},r)}function U$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Rt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,v=!1,y=null,S=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||$$,l&&(c<0&&f===0?(v=!0,S=null):c===f&&(v=!0,S=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),w=()=>{let T;return p?T=y:v?T=S:h.route.Component?T=E.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=u,E.createElement(z$,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(B$,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var kO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kO||{}),Hg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hg||{});function W$(t){let e=E.useContext(zS);return e||Rt(!1),e}function H$(t){let e=E.useContext(O$);return e||Rt(!1),e}function q$(t){let e=E.useContext(Xo);return e||Rt(!1),e}function PO(t){let e=q$(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function G$(){var t;let e=E.useContext(xO),n=H$(Hg.UseRouteError),r=PO(Hg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function K$(){let{router:t}=W$(kO.UseNavigateStable),e=PO(Hg.UseNavigateStable),n=E.useRef(!1);return CO(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gh({fromRouteId:e},s)))},[t,e])}function Wm(t){Rt(!1)}function Y$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vo.Pop,navigator:s,static:o=!1,future:a}=t;Rf()&&Rt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Gh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=xu(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,y=E.useMemo(()=>{let S=BS(u,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:v},navigationType:i}},[l,u,h,f,p,v,i]);return y==null?null:E.createElement(pl.Provider,{value:c},E.createElement(ny.Provider,{children:n,value:y}))}function Q$(t){let{children:e,location:n}=t;return F$(fw(e),n)}new Promise(()=>{});function fw(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,fw(r.props.children,s));return}r.type!==Wm&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fw(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function X$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function J$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z$(t,e){return t.button===0&&(!e||e==="_self")&&!J$(t)}const e9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],t9="6";try{window.__reactRouterVersion=t9}catch{}const n9="startTransition",cI=y1[n9];function r9(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=l$({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(h=>{c&&cI?cI(()=>l(h)):l(h)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(Y$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const i9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=X$(e,e9),{basename:p}=E.useContext(pl),v,y=!1;if(typeof c=="string"&&s9.test(c)&&(v=c,i9))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=BS(A.pathname,p);A.origin===T.origin&&D!=null?c=D+A.search+A.hash:y=!0}catch{}let S=D$(c,{relative:i}),b=o9(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||b(T)}return E.createElement("a",pw({},f,{href:v||S,onClick:y||s?r:w,ref:n,target:l}))});var uI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uI||(uI={}));var dI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dI||(dI={}));function o9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=US(),c=Cu(),u=IO(t,{relative:o});return E.useCallback(h=>{if(Z$(h,n)){h.preventDefault();let f=r!==void 0?r:Wg(c)===Wg(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function a9(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function l9(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var c9=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l9(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=a9(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),wn="-ms-",qg="-moz-",Me="-webkit-",AO="comm",WS="rule",HS="decl",u9="@import",RO="@keyframes",d9="@layer",h9=Math.abs,ry=String.fromCharCode,f9=Object.assign;function p9(t,e){return sn(t,0)^45?(((e<<2^sn(t,0))<<2^sn(t,1))<<2^sn(t,2))<<2^sn(t,3):0}function NO(t){return t.trim()}function m9(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function mw(t,e){return t.indexOf(e)}function sn(t,e){return t.charCodeAt(e)|0}function Kh(t,e,n){return t.slice(e,n)}function Di(t){return t.length}function qS(t){return t.length}function om(t,e){return e.push(t),t}function g9(t,e){return t.map(e).join("")}var iy=1,Jc=1,OO=0,nr=0,kt=0,Iu="";function sy(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:iy,column:Jc,length:o,return:""}}function yd(t,e){return f9(sy("",null,null,"",null,null,0),t,{length:-t.length},e)}function v9(){return kt}function y9(){return kt=nr>0?sn(Iu,--nr):0,Jc--,kt===10&&(Jc=1,iy--),kt}function hr(){return kt=nr<OO?sn(Iu,nr++):0,Jc++,kt===10&&(Jc=1,iy++),kt}function Ui(){return sn(Iu,nr)}function Hm(){return nr}function Nf(t,e){return Kh(Iu,t,e)}function Yh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DO(t){return iy=Jc=1,OO=Di(Iu=t),nr=0,[]}function MO(t){return Iu="",t}function qm(t){return NO(Nf(nr-1,gw(t===91?t+2:t===40?t+1:t)))}function _9(t){for(;(kt=Ui())&&kt<33;)hr();return Yh(t)>2||Yh(kt)>3?"":" "}function w9(t,e){for(;--e&&hr()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return Nf(t,Hm()+(e<6&&Ui()==32&&hr()==32))}function gw(t){for(;hr();)switch(kt){case t:return nr;case 34:case 39:t!==34&&t!==39&&gw(kt);break;case 40:t===41&&gw(t);break;case 92:hr();break}return nr}function b9(t,e){for(;hr()&&t+kt!==57;)if(t+kt===84&&Ui()===47)break;return"/*"+Nf(e,nr-1)+"*"+ry(t===47?t:hr())}function S9(t){for(;!Yh(Ui());)hr();return Nf(t,nr)}function E9(t){return MO(Gm("",null,null,null,[""],t=DO(t),0,[0],t))}function Gm(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,v=0,y=1,S=1,b=1,w=0,T="",A=i,D=s,V=r,C=T;S;)switch(v=w,w=hr()){case 40:if(v!=108&&sn(C,h-1)==58){mw(C+=Le(qm(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=qm(w);break;case 9:case 10:case 13:case 32:C+=_9(v);break;case 92:C+=w9(Hm()-1,7);continue;case 47:switch(Ui()){case 42:case 47:om(T9(b9(hr(),Hm()),e,n),l);break;default:C+="/"}break;case 123*y:a[c++]=Di(C)*b;case 125*y:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+u:b==-1&&(C=Le(C,/\f/g,"")),p>0&&Di(C)-h&&om(p>32?fI(C+";",r,n,h-1):fI(Le(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(om(V=hI(C,e,n,c,u,i,a,T,A=[],D=[],h),s),w===123)if(u===0)Gm(C,e,V,V,A,s,h,a,D);else switch(f===99&&sn(C,3)===110?100:f){case 100:case 108:case 109:case 115:Gm(t,V,V,r&&om(hI(t,V,V,0,0,i,a,T,i,A=[],h),D),i,D,h,a,r?A:D);break;default:Gm(C,V,V,V,[""],D,0,a,D)}}c=u=p=0,y=b=1,T=C="",h=o;break;case 58:h=1+Di(C),p=v;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&y9()==125)continue}switch(C+=ry(w),w*y){case 38:b=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(Di(C)-1)*b,b=1;break;case 64:Ui()===45&&(C+=qm(hr())),f=Ui(),u=h=Di(T=C+=S9(Hm())),w++;break;case 45:v===45&&Di(C)==2&&(y=0)}}return s}function hI(t,e,n,r,i,s,o,a,l,c,u){for(var h=i-1,f=i===0?s:[""],p=qS(f),v=0,y=0,S=0;v<r;++v)for(var b=0,w=Kh(t,h+1,h=h9(y=o[v])),T=t;b<p;++b)(T=NO(y>0?f[b]+" "+w:Le(w,/&\f/g,f[b])))&&(l[S++]=T);return sy(t,e,n,i===0?WS:a,l,c,u)}function T9(t,e,n){return sy(t,e,n,AO,ry(v9()),Kh(t,2,-2),0)}function fI(t,e,n,r){return sy(t,e,n,HS,Kh(t,0,r),Kh(t,r+1,-1),r)}function Rc(t,e){for(var n="",r=qS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function x9(t,e,n,r){switch(t.type){case d9:if(t.children.length)break;case u9:case HS:return t.return=t.return||t.value;case AO:return"";case RO:return t.return=t.value+"{"+Rc(t.children,r)+"}";case WS:t.value=t.props.join(",")}return Di(n=Rc(t.children,r))?t.return=t.value+"{"+n+"}":""}function C9(t){var e=qS(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function I9(t){return function(e){e.root||(e=e.return)&&t(e)}}var pI=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function LO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var k9=function(e,n,r){for(var i=0,s=0;i=s,s=Ui(),i===38&&s===12&&(n[r]=1),!Yh(s);)hr();return Nf(e,nr)},P9=function(e,n){var r=-1,i=44;do switch(Yh(i)){case 0:i===38&&Ui()===12&&(n[r]=1),e[r]+=k9(nr-1,n,r);break;case 2:e[r]+=qm(i);break;case 4:if(i===44){e[++r]=Ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ry(i)}while(i=hr());return e},A9=function(e,n){return MO(P9(DO(e),n))},mI=new WeakMap,R9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!mI.get(r))&&!i){mI.set(e,!0);for(var s=[],o=A9(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},N9=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function FO(t,e){switch(p9(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+qg+t+wn+t+t;case 6828:case 4268:return Me+t+wn+t+t;case 6165:return Me+t+wn+"flex-"+t+t;case 5187:return Me+t+Le(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+wn+"flex-$1$2")+t;case 5443:return Me+t+wn+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Me+t+wn+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Me+t+wn+Le(t,"shrink","negative")+t;case 5292:return Me+t+wn+Le(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+Le(t,"-grow","")+Me+t+wn+Le(t,"grow","positive")+t;case 4554:return Me+Le(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-e>6)switch(sn(t,e+1)){case 109:if(sn(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+qg+(sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mw(t,"stretch")?FO(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sn(t,e+1)!==115)break;case 6444:switch(sn(t,Di(t)-3-(~mw(t,"!important")&&10))){case 107:return Le(t,":",":"+Me)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(sn(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+wn+"$2box$3")+t}break;case 5936:switch(sn(t,e+11)){case 114:return Me+t+wn+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+wn+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+wn+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Me+t+wn+t+t}return t}var O9=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case HS:e.return=FO(e.value,e.length);break;case RO:return Rc([yd(e,{value:Le(e.value,"@","@"+Me)})],i);case WS:if(e.length)return g9(e.props,function(s){switch(m9(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rc([yd(e,{props:[Le(s,/:(read-\w+)/,":"+qg+"$1")]})],i);case"::placeholder":return Rc([yd(e,{props:[Le(s,/:(plac\w+)/,":"+Me+"input-$1")]}),yd(e,{props:[Le(s,/:(plac\w+)/,":"+qg+"$1")]}),yd(e,{props:[Le(s,/:(plac\w+)/,wn+"input-$1")]})],i)}return""})}},D9=[O9],M9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||D9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)s[S[b]]=!0;a.push(y)});var l,c=[R9,N9];{var u,h=[x9,I9(function(y){u.insert(y)})],f=C9(c.concat(i,h)),p=function(S){return Rc(E9(S),f)};l=function(S,b,w,T){u=w,p(S?S+"{"+b.styles+"}":b.styles),T&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new c9({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v};function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}var VO={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=typeof Symbol=="function"&&Symbol.for,GS=Qt?Symbol.for("react.element"):60103,KS=Qt?Symbol.for("react.portal"):60106,oy=Qt?Symbol.for("react.fragment"):60107,ay=Qt?Symbol.for("react.strict_mode"):60108,ly=Qt?Symbol.for("react.profiler"):60114,cy=Qt?Symbol.for("react.provider"):60109,uy=Qt?Symbol.for("react.context"):60110,YS=Qt?Symbol.for("react.async_mode"):60111,dy=Qt?Symbol.for("react.concurrent_mode"):60111,hy=Qt?Symbol.for("react.forward_ref"):60112,fy=Qt?Symbol.for("react.suspense"):60113,L9=Qt?Symbol.for("react.suspense_list"):60120,py=Qt?Symbol.for("react.memo"):60115,my=Qt?Symbol.for("react.lazy"):60116,F9=Qt?Symbol.for("react.block"):60121,V9=Qt?Symbol.for("react.fundamental"):60117,j9=Qt?Symbol.for("react.responder"):60118,$9=Qt?Symbol.for("react.scope"):60119;function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GS:switch(t=t.type,t){case YS:case dy:case oy:case ly:case ay:case fy:return t;default:switch(t=t&&t.$$typeof,t){case uy:case hy:case my:case py:case cy:return t;default:return e}}case KS:return e}}}function jO(t){return wr(t)===dy}We.AsyncMode=YS;We.ConcurrentMode=dy;We.ContextConsumer=uy;We.ContextProvider=cy;We.Element=GS;We.ForwardRef=hy;We.Fragment=oy;We.Lazy=my;We.Memo=py;We.Portal=KS;We.Profiler=ly;We.StrictMode=ay;We.Suspense=fy;We.isAsyncMode=function(t){return jO(t)||wr(t)===YS};We.isConcurrentMode=jO;We.isContextConsumer=function(t){return wr(t)===uy};We.isContextProvider=function(t){return wr(t)===cy};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GS};We.isForwardRef=function(t){return wr(t)===hy};We.isFragment=function(t){return wr(t)===oy};We.isLazy=function(t){return wr(t)===my};We.isMemo=function(t){return wr(t)===py};We.isPortal=function(t){return wr(t)===KS};We.isProfiler=function(t){return wr(t)===ly};We.isStrictMode=function(t){return wr(t)===ay};We.isSuspense=function(t){return wr(t)===fy};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oy||t===dy||t===ly||t===ay||t===fy||t===L9||typeof t=="object"&&t!==null&&(t.$$typeof===my||t.$$typeof===py||t.$$typeof===cy||t.$$typeof===uy||t.$$typeof===hy||t.$$typeof===V9||t.$$typeof===j9||t.$$typeof===$9||t.$$typeof===F9)};We.typeOf=wr;VO.exports=We;var B9=VO.exports,$O=B9,z9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BO={};BO[$O.ForwardRef]=z9;BO[$O.Memo]=U9;var W9=!0;function H9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var zO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||W9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},UO=function(e,n,r){zO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function q9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var G9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K9=/[A-Z]|^ms/g,Y9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WO=function(e){return e.charCodeAt(1)===45},gI=function(e){return e!=null&&typeof e!="boolean"},a_=LO(function(t){return WO(t)?t:t.replace(K9,"-$&").toLowerCase()}),vI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Y9,function(r,i,s){return Mi={name:i,styles:s,next:Mi},i})}return G9[e]!==1&&!WO(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Mi={name:n.name,styles:n.styles,next:Mi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Mi={name:r.name,styles:r.styles,next:Mi},r=r.next;var i=n.styles+";";return i}return Q9(t,e,n)}case"function":{if(t!==void 0){var s=Mi,o=n(t);return Mi=s,Qh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Q9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":gI(o)&&(r+=a_(s)+":"+vI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)gI(o[a])&&(r+=a_(s)+":"+vI(s,o[a])+";");else{var l=Qh(t,e,o);switch(s){case"animation":case"animationName":{r+=a_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var yI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Mi,QS=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Mi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Qh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Qh(r,n,e[a]),i&&(s+=o[a]);yI.lastIndex=0;for(var l="",c;(c=yI.exec(s))!==null;)l+="-"+c[1];var u=q9(s)+l;return{name:u,styles:s,next:Mi}},X9=function(e){return e()},HO=y1.useInsertionEffect?y1.useInsertionEffect:!1,J9=HO||X9,_I=HO||E.useLayoutEffect,qO=E.createContext(typeof HTMLElement<"u"?M9({key:"css"}):null);qO.Provider;var GO=function(e){return E.forwardRef(function(n,r){var i=E.useContext(qO);return e(n,i,r)})},Xh=E.createContext({}),Z9=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Xa({},e,n)},eB=pI(function(t){return pI(function(e){return Z9(t,e)})}),tB=function(e){var n=E.useContext(Xh);return e.theme!==n&&(n=eB(n)(e.theme)),E.createElement(Xh.Provider,{value:n},e.children)},gy=GO(function(t,e){var n=t.styles,r=QS([n],void 0,E.useContext(Xh)),i=E.useRef();return _I(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),_I(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&UO(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function nB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return QS(e)}var XS=function(){var e=nB.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},KO=String.raw,YO=KO`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,rB=()=>g.jsx(gy,{styles:YO}),iB=({scope:t=""})=>g.jsx(gy,{styles:KO`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${YO}
    `});function sB(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Yr(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=E.createContext(o);a.displayName=e;function l(){var c;const u=E.useContext(a);if(!u&&n){const h=new Error(s??sB(r,i));throw h.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,h,l),h}return u}return[a.Provider,l,a]}var[oB,aB]=Yr({strict:!1,name:"PortalManagerContext"});function QO(t){const{children:e,zIndex:n}=t;return g.jsx(oB,{value:{zIndex:n},children:e})}QO.displayName="PortalManager";var Jh=globalThis!=null&&globalThis.document?E.useLayoutEffect:E.useEffect,[XO,lB]=Yr({strict:!1,name:"PortalContext"}),JS="chakra-portal",cB=".chakra-portal",uB=t=>g.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),dB=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=E.useState(null),s=E.useRef(null),[,o]=E.useState({});E.useEffect(()=>o({}),[]);const a=lB(),l=aB();Jh(()=>{if(!r)return;const u=r.ownerDocument,h=e?a??u.body:u.body;if(!h)return;s.current=u.createElement("div"),s.current.className=JS,h.appendChild(s.current),o({});const f=s.current;return()=>{h.contains(f)&&h.removeChild(f)}},[r]);const c=l!=null&&l.zIndex?g.jsx(uB,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?$S.createPortal(g.jsx(XO,{value:s.current,children:c}),s.current):g.jsx("span",{ref:u=>{u&&i(u)}})},hB=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=E.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=JS),l},[i]),[,a]=E.useState({});return Jh(()=>a({}),[]),Jh(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?$S.createPortal(g.jsx(XO,{value:r?o:null,children:e}),o):null};function ku(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?g.jsx(hB,{containerRef:n,...r}):g.jsx(dB,{...r})}ku.className=JS;ku.selector=cB;ku.displayName="Portal";function ZS(){const t=E.useContext(Xh);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var eE=E.createContext({});eE.displayName="ColorModeContext";function tE(){const t=E.useContext(eE);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var am={light:"chakra-ui-light",dark:"chakra-ui-dark"};function fB(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?am.dark:am.light),document.body.classList.remove(r?am.light:am.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var pB="chakra-ui-color-mode";function mB(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var gB=mB(pB),wI=()=>{};function bI(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function JO(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=gB}=t,a=i==="dark"?"dark":"light",[l,c]=E.useState(()=>bI(o,a)),[u,h]=E.useState(()=>bI(o)),{getSystemTheme:f,setClassName:p,setDataset:v,addListener:y}=E.useMemo(()=>fB({preventTransition:s}),[s]),S=i==="system"&&!l?u:l,b=E.useCallback(A=>{const D=A==="system"?f():A;c(D),p(D==="dark"),v(D),o.set(D)},[o,f,p,v]);Jh(()=>{i==="system"&&h(f())},[]),E.useEffect(()=>{const A=o.get();if(A){b(A);return}if(i==="system"){b("system");return}b(a)},[o,a,i,b]);const w=E.useCallback(()=>{b(S==="dark"?"light":"dark")},[S,b]);E.useEffect(()=>{if(r)return y(b)},[r,y,b]);const T=E.useMemo(()=>({colorMode:e??S,toggleColorMode:e?wI:w,setColorMode:e?wI:b,forced:e!==void 0}),[S,w,b,e]);return g.jsx(eE.Provider,{value:T,children:n})}JO.displayName="ColorModeProvider";function ZO(){const t=tE(),e=ZS();return{...t,theme:e}}function vB(t,e,n){var r,i;if(e==null)return e;const s=o=>{var a,l;return(l=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:l.value};return(i=(r=s(e))!=null?r:s(n))!=null?i:n}function yB(t,e,n){const r=ZS();return _B(t,e,n)(r)}function _B(t,e,n){const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:[n];return s=>{const o=i.filter(Boolean),a=r.map((l,c)=>{var u;const h=`${t}.${l}`;return vB(s,h,(u=o[c])!=null?u:l)});return Array.isArray(e)?a:a[0]}}var Ee=(...t)=>t.filter(Boolean).join(" ");function jr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function ji(t,...e){return wB(t)?t(...e):t}var wB=t=>typeof t=="function",ai=t=>t?"":void 0,l_=t=>t?!0:void 0;function ar(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var Gg={exports:{}};Gg.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",v="[object GeneratorFunction]",y="[object Map]",S="[object Number]",b="[object Null]",w="[object Object]",T="[object Proxy]",A="[object RegExp]",D="[object Set]",V="[object String]",C="[object Undefined]",x="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",O="[object Float32Array]",F="[object Float64Array]",N="[object Int8Array]",$e="[object Int16Array]",pe="[object Int32Array]",fe="[object Uint8Array]",me="[object Uint8ClampedArray]",H="[object Uint16Array]",K="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,ge=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,te={};te[O]=te[F]=te[N]=te[$e]=te[pe]=te[fe]=te[me]=te[H]=te[K]=!0,te[a]=te[l]=te[I]=te[u]=te[P]=te[h]=te[f]=te[p]=te[y]=te[S]=te[w]=te[A]=te[D]=te[V]=te[x]=!1;var Xe=typeof zp=="object"&&zp&&zp.Object===Object&&zp,Ae=typeof self=="object"&&self&&self.Object===Object&&self,Je=Xe||Ae||Function("return this")(),mt=e&&!e.nodeType&&e,Lt=mt&&!0&&t&&!t.nodeType&&t,Sr=Lt&&Lt.exports===mt,Un=Sr&&Xe.process,On=function(){try{var R=Lt&&Lt.require&&Lt.require("util").types;return R||Un&&Un.binding&&Un.binding("util")}catch{}}(),Re=On&&On.isTypedArray;function Ft(R,M,$){switch($.length){case 0:return R.call(M);case 1:return R.call(M,$[0]);case 2:return R.call(M,$[0],$[1]);case 3:return R.call(M,$[0],$[1],$[2])}return R.apply(M,$)}function Er(R,M){for(var $=-1,J=Array(R);++$<R;)J[$]=M($);return J}function Qr(R){return function(M){return R(M)}}function Jt(R,M){return R==null?void 0:R[M]}function ir(R,M){return function($){return R(M($))}}var Tr=Array.prototype,Wn=Function.prototype,Vt=Object.prototype,Xr=Je["__core-js_shared__"],ts=Wn.toString,Dn=Vt.hasOwnProperty,Ci=function(){var R=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Us=Vt.toString,_t=ts.call(Object),xt=RegExp("^"+ts.call(Dn).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=Sr?Je.Buffer:void 0,Xu=Je.Symbol,Ju=Je.Uint8Array;xr&&xr.allocUnsafe;var hp=ir(Object.getPrototypeOf,Object),Ws=Object.create,fp=Vt.propertyIsEnumerable,pp=Tr.splice,Jr=Xu?Xu.toStringTag:void 0,Cl=function(){try{var R=ti(Object,"defineProperty");return R({},"",{}),R}catch{}}(),_0=xr?xr.isBuffer:void 0,Il=Math.max,mp=Date.now,Zu=ti(Je,"Map"),Zr=ti(Object,"create"),ed=function(){function R(){}return function(M){if(!ss(M))return{};if(Ws)return Ws(M);R.prototype=M;var $=new R;return R.prototype=void 0,$}}();function ei(R){var M=-1,$=R==null?0:R.length;for(this.clear();++M<$;){var J=R[M];this.set(J[0],J[1])}}function ns(){this.__data__=Zr?Zr(null):{},this.size=0}function gp(R){var M=this.has(R)&&delete this.__data__[R];return this.size-=M?1:0,M}function kl(R){var M=this.__data__;if(Zr){var $=M[R];return $===r?void 0:$}return Dn.call(M,R)?M[R]:void 0}function vp(R){var M=this.__data__;return Zr?M[R]!==void 0:Dn.call(M,R)}function oa(R,M){var $=this.__data__;return this.size+=this.has(R)?0:1,$[R]=Zr&&M===void 0?r:M,this}ei.prototype.clear=ns,ei.prototype.delete=gp,ei.prototype.get=kl,ei.prototype.has=vp,ei.prototype.set=oa;function Cr(R){var M=-1,$=R==null?0:R.length;for(this.clear();++M<$;){var J=R[M];this.set(J[0],J[1])}}function Zt(){this.__data__=[],this.size=0}function yp(R){var M=this.__data__,$=Nl(M,R);if($<0)return!1;var J=M.length-1;return $==J?M.pop():pp.call(M,$,1),--this.size,!0}function aa(R){var M=this.__data__,$=Nl(M,R);return $<0?void 0:M[$][1]}function la(R){return Nl(this.__data__,R)>-1}function w0(R,M){var $=this.__data__,J=Nl($,R);return J<0?(++this.size,$.push([R,M])):$[J][1]=M,this}Cr.prototype.clear=Zt,Cr.prototype.delete=yp,Cr.prototype.get=aa,Cr.prototype.has=la,Cr.prototype.set=w0;function Hs(R){var M=-1,$=R==null?0:R.length;for(this.clear();++M<$;){var J=R[M];this.set(J[0],J[1])}}function qs(){this.size=0,this.__data__={hash:new ei,map:new(Zu||Cr),string:new ei}}function b0(R){var M=Ol(this,R).delete(R);return this.size-=M?1:0,M}function S0(R){return Ol(this,R).get(R)}function Pl(R){return Ol(this,R).has(R)}function _p(R,M){var $=Ol(this,R),J=$.size;return $.set(R,M),this.size+=$.size==J?0:1,this}Hs.prototype.clear=qs,Hs.prototype.delete=b0,Hs.prototype.get=S0,Hs.prototype.has=Pl,Hs.prototype.set=_p;function Ii(R){var M=this.__data__=new Cr(R);this.size=M.size}function Al(){this.__data__=new Cr,this.size=0}function ki(R){var M=this.__data__,$=M.delete(R);return this.size=M.size,$}function wp(R){return this.__data__.get(R)}function bp(R){return this.__data__.has(R)}function td(R,M){var $=this.__data__;if($ instanceof Cr){var J=$.__data__;if(!Zu||J.length<n-1)return J.push([R,M]),this.size=++$.size,this;$=this.__data__=new Hs(J)}return $.set(R,M),this.size=$.size,this}Ii.prototype.clear=Al,Ii.prototype.delete=ki,Ii.prototype.get=wp,Ii.prototype.has=bp,Ii.prototype.set=td;function nd(R,M){var $=Ll(R),J=!$&&Ir(R),ve=!$&&!J&&is(R),Be=!$&&!J&&!ve&&Dp(R),Ke=$||J||ve||Be,_e=Ke?Er(R.length,String):[],Ye=_e.length;for(var wt in R)Ke&&(wt=="length"||ve&&(wt=="offset"||wt=="parent")||Be&&(wt=="buffer"||wt=="byteLength"||wt=="byteOffset")||ca(wt,Ye))||_e.push(wt);return _e}function Rl(R,M,$){($!==void 0&&!Pi(R[M],$)||$===void 0&&!(M in R))&&Gs(R,M,$)}function Sp(R,M,$){var J=R[M];(!(Dn.call(R,M)&&Pi(J,$))||$===void 0&&!(M in R))&&Gs(R,M,$)}function Nl(R,M){for(var $=R.length;$--;)if(Pi(R[$][0],M))return $;return-1}function Gs(R,M,$){M=="__proto__"&&Cl?Cl(R,M,{configurable:!0,enumerable:!0,value:$,writable:!0}):R[M]=$}var Ep=Pp();function Ks(R){return R==null?R===void 0?C:b:Jr&&Jr in Object(R)?ni(R):C0(R)}function Ys(R){return Hn(R)&&Ks(R)==a}function rs(R){if(!ss(R)||Ml(R))return!1;var M=ld(R)?xt:ge;return M.test(P0(R))}function rd(R){return Hn(R)&&Op(R.length)&&!!te[Ks(R)]}function E0(R){if(!ss(R))return ua(R);var M=Qs(R),$=[];for(var J in R)J=="constructor"&&(M||!Dn.call(R,J))||$.push(J);return $}function id(R,M,$,J,ve){R!==M&&Ep(M,function(Be,Ke){if(ve||(ve=new Ii),ss(Be))Tp(R,M,Ke,$,id,J,ve);else{var _e=J?J(ad(R,Ke),Be,Ke+"",R,M,ve):void 0;_e===void 0&&(_e=Be),Rl(R,Ke,_e)}},ha)}function Tp(R,M,$,J,ve,Be,Ke){var _e=ad(R,$),Ye=ad(M,$),wt=Ke.get(Ye);if(wt){Rl(R,$,wt);return}var pn=Be?Be(_e,Ye,$+"",R,M,Ke):void 0,pa=pn===void 0;if(pa){var os=Ll(Ye),Vl=!os&&is(Ye),jl=!os&&!Vl&&Dp(Ye);pn=Ye,os||Vl||jl?Ll(_e)?pn=_e:Np(_e)?pn=T0(_e):Vl?(pa=!1,pn=od(Ye)):jl?(pa=!1,pn=Ip(Ye)):pn=[]:A0(Ye)||Ir(Ye)?(pn=_e,Ir(_e)?pn=da(_e):(!ss(_e)||ld(_e))&&(pn=Dl(Ye))):pa=!1}pa&&(Ke.set(Ye,pn),ve(pn,Ye,J,Be,Ke),Ke.delete(Ye)),Rl(R,$,pn)}function xp(R,M){return I0(Rp(R,M,Xs),R+"")}var sd=Cl?function(R,M){return Cl(R,"toString",{configurable:!0,enumerable:!1,value:fa(M),writable:!0})}:Xs;function od(R,M){return R.slice()}function Cp(R){var M=new R.constructor(R.byteLength);return new Ju(M).set(new Ju(R)),M}function Ip(R,M){var $=Cp(R.buffer);return new R.constructor($,R.byteOffset,R.length)}function T0(R,M){var $=-1,J=R.length;for(M||(M=Array(J));++$<J;)M[$]=R[$];return M}function x0(R,M,$,J){var ve=!$;$||($={});for(var Be=-1,Ke=M.length;++Be<Ke;){var _e=M[Be],Ye=void 0;Ye===void 0&&(Ye=R[_e]),ve?Gs($,_e,Ye):Sp($,_e,Ye)}return $}function kp(R){return xp(function(M,$){var J=-1,ve=$.length,Be=ve>1?$[ve-1]:void 0,Ke=ve>2?$[2]:void 0;for(Be=R.length>3&&typeof Be=="function"?(ve--,Be):void 0,Ke&&Ap($[0],$[1],Ke)&&(Be=ve<3?void 0:Be,ve=1),M=Object(M);++J<ve;){var _e=$[J];_e&&R(M,_e,J,Be)}return M})}function Pp(R){return function(M,$,J){for(var ve=-1,Be=Object(M),Ke=J(M),_e=Ke.length;_e--;){var Ye=Ke[++ve];if($(Be[Ye],Ye,Be)===!1)break}return M}}function Ol(R,M){var $=R.__data__;return Ge(M)?$[typeof M=="string"?"string":"hash"]:$.map}function ti(R,M){var $=Jt(R,M);return rs($)?$:void 0}function ni(R){var M=Dn.call(R,Jr),$=R[Jr];try{R[Jr]=void 0;var J=!0}catch{}var ve=Us.call(R);return J&&(M?R[Jr]=$:delete R[Jr]),ve}function Dl(R){return typeof R.constructor=="function"&&!Qs(R)?ed(hp(R)):{}}function ca(R,M){var $=typeof R;return M=M??o,!!M&&($=="number"||$!="symbol"&&ce.test(R))&&R>-1&&R%1==0&&R<M}function Ap(R,M,$){if(!ss($))return!1;var J=typeof M;return(J=="number"?Fl($)&&ca(M,$.length):J=="string"&&M in $)?Pi($[M],R):!1}function Ge(R){var M=typeof R;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?R!=="__proto__":R===null}function Ml(R){return!!Ci&&Ci in R}function Qs(R){var M=R&&R.constructor,$=typeof M=="function"&&M.prototype||Vt;return R===$}function ua(R){var M=[];if(R!=null)for(var $ in Object(R))M.push($);return M}function C0(R){return Us.call(R)}function Rp(R,M,$){return M=Il(M===void 0?R.length-1:M,0),function(){for(var J=arguments,ve=-1,Be=Il(J.length-M,0),Ke=Array(Be);++ve<Be;)Ke[ve]=J[M+ve];ve=-1;for(var _e=Array(M+1);++ve<M;)_e[ve]=J[ve];return _e[M]=$(Ke),Ft(R,this,_e)}}function ad(R,M){if(!(M==="constructor"&&typeof R[M]=="function")&&M!="__proto__")return R[M]}var I0=k0(sd);function k0(R){var M=0,$=0;return function(){var J=mp(),ve=s-(J-$);if($=J,ve>0){if(++M>=i)return arguments[0]}else M=0;return R.apply(void 0,arguments)}}function P0(R){if(R!=null){try{return ts.call(R)}catch{}try{return R+""}catch{}}return""}function Pi(R,M){return R===M||R!==R&&M!==M}var Ir=Ys(function(){return arguments}())?Ys:function(R){return Hn(R)&&Dn.call(R,"callee")&&!fp.call(R,"callee")},Ll=Array.isArray;function Fl(R){return R!=null&&Op(R.length)&&!ld(R)}function Np(R){return Hn(R)&&Fl(R)}var is=_0||Lp;function ld(R){if(!ss(R))return!1;var M=Ks(R);return M==p||M==v||M==c||M==T}function Op(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=o}function ss(R){var M=typeof R;return R!=null&&(M=="object"||M=="function")}function Hn(R){return R!=null&&typeof R=="object"}function A0(R){if(!Hn(R)||Ks(R)!=w)return!1;var M=hp(R);if(M===null)return!0;var $=Dn.call(M,"constructor")&&M.constructor;return typeof $=="function"&&$ instanceof $&&ts.call($)==_t}var Dp=Re?Qr(Re):rd;function da(R){return x0(R,ha(R))}function ha(R){return Fl(R)?nd(R):E0(R)}var Mp=kp(function(R,M,$,J){id(R,M,$,J)});function fa(R){return function(){return R}}function Xs(R){return R}function Lp(){return!1}t.exports=Mp})(Gg,Gg.exports);var bB=Gg.exports;const Mr=jv(bB);var SB=t=>/!(important)?$/.test(t),SI=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,EB=(t,e)=>n=>{const r=String(e),i=SB(r),s=SI(r),o=t?`${t}.${s}`:s;let a=jr(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=SI(a),i?`${a} !important`:a};function nE(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var a;const l=EB(e,s)(o);let c=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var lm=(...t)=>e=>t.reduce((n,r)=>r(n),e);function kr(t,e){return n=>{const r={property:n,scale:t};return r.transform=nE({scale:t,transform:e}),r}}var TB=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function xB(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:TB(e),transform:n?nE({scale:n,compose:r}):r}}var e4=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function CB(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...e4].join(" ")}function IB(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...e4].join(" ")}var kB={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},PB={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function AB(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var RB={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},vw={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},NB=new Set(Object.values(vw)),yw=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),OB=t=>t.trim();function DB(t,e){if(t==null||yw.has(t))return t;if(!(_w(t)||yw.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(OB).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const u=l in vw?vw[l]:l;c.unshift(u);const h=c.map(f=>{if(NB.has(f))return f;const p=f.indexOf(" "),[v,y]=p!==-1?[f.substr(0,p),f.substr(p+1)]:[f],S=_w(y)?y:y&&y.split(" "),b=`colors.${v}`,w=b in e.__cssMap?e.__cssMap[b].varRef:v;return S?[w,...Array.isArray(S)?S:[S]].join(" "):w});return`${a}(${h.join(", ")})`}var _w=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),MB=(t,e)=>DB(t,e??{});function LB(t){return/^var\(--.+\)$/.test(t)}var FB=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Ri=t=>e=>`${t}(${e})`,Te={filter(t){return t!=="auto"?t:kB},backdropFilter(t){return t!=="auto"?t:PB},ring(t){return AB(Te.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?CB():t==="auto-gpu"?IB():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=FB(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(LB(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:MB,blur:Ri("blur"),opacity:Ri("opacity"),brightness:Ri("brightness"),contrast:Ri("contrast"),dropShadow:Ri("drop-shadow"),grayscale:Ri("grayscale"),hueRotate:t=>Ri("hue-rotate")(Te.degree(t)),invert:Ri("invert"),saturate:Ri("saturate"),sepia:Ri("sepia"),bgImage(t){return t==null||_w(t)||yw.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=RB[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},L={borderWidths:kr("borderWidths"),borderStyles:kr("borderStyles"),colors:kr("colors"),borders:kr("borders"),gradients:kr("gradients",Te.gradient),radii:kr("radii",Te.px),space:kr("space",lm(Te.vh,Te.px)),spaceT:kr("space",lm(Te.vh,Te.px)),degreeT(t){return{property:t,transform:Te.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:nE({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:kr("sizes",lm(Te.vh,Te.px)),sizesT:kr("sizes",lm(Te.vh,Te.fraction)),shadows:kr("shadows"),logical:xB,blur:kr("blur",Te.blur)},Km={background:L.colors("background"),backgroundColor:L.colors("backgroundColor"),backgroundImage:L.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Te.bgClip},bgSize:L.prop("backgroundSize"),bgPosition:L.prop("backgroundPosition"),bg:L.colors("background"),bgColor:L.colors("backgroundColor"),bgPos:L.prop("backgroundPosition"),bgRepeat:L.prop("backgroundRepeat"),bgAttachment:L.prop("backgroundAttachment"),bgGradient:L.gradients("backgroundImage"),bgClip:{transform:Te.bgClip}};Object.assign(Km,{bgImage:Km.backgroundImage,bgImg:Km.backgroundImage});var De={border:L.borders("border"),borderWidth:L.borderWidths("borderWidth"),borderStyle:L.borderStyles("borderStyle"),borderColor:L.colors("borderColor"),borderRadius:L.radii("borderRadius"),borderTop:L.borders("borderTop"),borderBlockStart:L.borders("borderBlockStart"),borderTopLeftRadius:L.radii("borderTopLeftRadius"),borderStartStartRadius:L.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:L.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:L.radii("borderTopRightRadius"),borderStartEndRadius:L.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:L.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:L.borders("borderRight"),borderInlineEnd:L.borders("borderInlineEnd"),borderBottom:L.borders("borderBottom"),borderBlockEnd:L.borders("borderBlockEnd"),borderBottomLeftRadius:L.radii("borderBottomLeftRadius"),borderBottomRightRadius:L.radii("borderBottomRightRadius"),borderLeft:L.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:L.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:L.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:L.borders(["borderLeft","borderRight"]),borderInline:L.borders("borderInline"),borderY:L.borders(["borderTop","borderBottom"]),borderBlock:L.borders("borderBlock"),borderTopWidth:L.borderWidths("borderTopWidth"),borderBlockStartWidth:L.borderWidths("borderBlockStartWidth"),borderTopColor:L.colors("borderTopColor"),borderBlockStartColor:L.colors("borderBlockStartColor"),borderTopStyle:L.borderStyles("borderTopStyle"),borderBlockStartStyle:L.borderStyles("borderBlockStartStyle"),borderBottomWidth:L.borderWidths("borderBottomWidth"),borderBlockEndWidth:L.borderWidths("borderBlockEndWidth"),borderBottomColor:L.colors("borderBottomColor"),borderBlockEndColor:L.colors("borderBlockEndColor"),borderBottomStyle:L.borderStyles("borderBottomStyle"),borderBlockEndStyle:L.borderStyles("borderBlockEndStyle"),borderLeftWidth:L.borderWidths("borderLeftWidth"),borderInlineStartWidth:L.borderWidths("borderInlineStartWidth"),borderLeftColor:L.colors("borderLeftColor"),borderInlineStartColor:L.colors("borderInlineStartColor"),borderLeftStyle:L.borderStyles("borderLeftStyle"),borderInlineStartStyle:L.borderStyles("borderInlineStartStyle"),borderRightWidth:L.borderWidths("borderRightWidth"),borderInlineEndWidth:L.borderWidths("borderInlineEndWidth"),borderRightColor:L.colors("borderRightColor"),borderInlineEndColor:L.colors("borderInlineEndColor"),borderRightStyle:L.borderStyles("borderRightStyle"),borderInlineEndStyle:L.borderStyles("borderInlineEndStyle"),borderTopRadius:L.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:L.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:L.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:L.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(De,{rounded:De.borderRadius,roundedTop:De.borderTopRadius,roundedTopLeft:De.borderTopLeftRadius,roundedTopRight:De.borderTopRightRadius,roundedTopStart:De.borderStartStartRadius,roundedTopEnd:De.borderStartEndRadius,roundedBottom:De.borderBottomRadius,roundedBottomLeft:De.borderBottomLeftRadius,roundedBottomRight:De.borderBottomRightRadius,roundedBottomStart:De.borderEndStartRadius,roundedBottomEnd:De.borderEndEndRadius,roundedLeft:De.borderLeftRadius,roundedRight:De.borderRightRadius,roundedStart:De.borderInlineStartRadius,roundedEnd:De.borderInlineEndRadius,borderStart:De.borderInlineStart,borderEnd:De.borderInlineEnd,borderTopStartRadius:De.borderStartStartRadius,borderTopEndRadius:De.borderStartEndRadius,borderBottomStartRadius:De.borderEndStartRadius,borderBottomEndRadius:De.borderEndEndRadius,borderStartRadius:De.borderInlineStartRadius,borderEndRadius:De.borderInlineEndRadius,borderStartWidth:De.borderInlineStartWidth,borderEndWidth:De.borderInlineEndWidth,borderStartColor:De.borderInlineStartColor,borderEndColor:De.borderInlineEndColor,borderStartStyle:De.borderInlineStartStyle,borderEndStyle:De.borderInlineEndStyle});var VB={color:L.colors("color"),textColor:L.colors("color"),fill:L.colors("fill"),stroke:L.colors("stroke")},ww={boxShadow:L.shadows("boxShadow"),mixBlendMode:!0,blendMode:L.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:L.prop("backgroundBlendMode"),opacity:!0};Object.assign(ww,{shadow:ww.boxShadow});var jB={filter:{transform:Te.filter},blur:L.blur("--chakra-blur"),brightness:L.propT("--chakra-brightness",Te.brightness),contrast:L.propT("--chakra-contrast",Te.contrast),hueRotate:L.propT("--chakra-hue-rotate",Te.hueRotate),invert:L.propT("--chakra-invert",Te.invert),saturate:L.propT("--chakra-saturate",Te.saturate),dropShadow:L.propT("--chakra-drop-shadow",Te.dropShadow),backdropFilter:{transform:Te.backdropFilter},backdropBlur:L.blur("--chakra-backdrop-blur"),backdropBrightness:L.propT("--chakra-backdrop-brightness",Te.brightness),backdropContrast:L.propT("--chakra-backdrop-contrast",Te.contrast),backdropHueRotate:L.propT("--chakra-backdrop-hue-rotate",Te.hueRotate),backdropInvert:L.propT("--chakra-backdrop-invert",Te.invert),backdropSaturate:L.propT("--chakra-backdrop-saturate",Te.saturate)},Kg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Te.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:L.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:L.space("gap"),rowGap:L.space("rowGap"),columnGap:L.space("columnGap")};Object.assign(Kg,{flexDir:Kg.flexDirection});var t4={gridGap:L.space("gridGap"),gridColumnGap:L.space("gridColumnGap"),gridRowGap:L.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},$B={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Te.outline},outlineOffset:!0,outlineColor:L.colors("outlineColor")},Ar={width:L.sizesT("width"),inlineSize:L.sizesT("inlineSize"),height:L.sizes("height"),blockSize:L.sizes("blockSize"),boxSize:L.sizes(["width","height"]),minWidth:L.sizes("minWidth"),minInlineSize:L.sizes("minInlineSize"),minHeight:L.sizes("minHeight"),minBlockSize:L.sizes("minBlockSize"),maxWidth:L.sizes("maxWidth"),maxInlineSize:L.sizes("maxInlineSize"),maxHeight:L.sizes("maxHeight"),maxBlockSize:L.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:L.propT("float",Te.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Ar,{w:Ar.width,h:Ar.height,minW:Ar.minWidth,maxW:Ar.maxWidth,minH:Ar.minHeight,maxH:Ar.maxHeight,overscroll:Ar.overscrollBehavior,overscrollX:Ar.overscrollBehaviorX,overscrollY:Ar.overscrollBehaviorY});var BB={listStyleType:!0,listStylePosition:!0,listStylePos:L.prop("listStylePosition"),listStyleImage:!0,listStyleImg:L.prop("listStyleImage")};function zB(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var UB=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},WB=UB(zB),HB={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},qB={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},c_=(t,e,n)=>{const r={},i=WB(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},GB={srOnly:{transform(t){return t===!0?HB:t==="focusable"?qB:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>c_(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>c_(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>c_(e,t,n)}},ih={position:!0,pos:L.prop("position"),zIndex:L.prop("zIndex","zIndices"),inset:L.spaceT("inset"),insetX:L.spaceT(["left","right"]),insetInline:L.spaceT("insetInline"),insetY:L.spaceT(["top","bottom"]),insetBlock:L.spaceT("insetBlock"),top:L.spaceT("top"),insetBlockStart:L.spaceT("insetBlockStart"),bottom:L.spaceT("bottom"),insetBlockEnd:L.spaceT("insetBlockEnd"),left:L.spaceT("left"),insetInlineStart:L.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:L.spaceT("right"),insetInlineEnd:L.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(ih,{insetStart:ih.insetInlineStart,insetEnd:ih.insetInlineEnd});var KB={ring:{transform:Te.ring},ringColor:L.colors("--chakra-ring-color"),ringOffset:L.prop("--chakra-ring-offset-width"),ringOffsetColor:L.colors("--chakra-ring-offset-color"),ringInset:L.prop("--chakra-ring-inset")},rt={margin:L.spaceT("margin"),marginTop:L.spaceT("marginTop"),marginBlockStart:L.spaceT("marginBlockStart"),marginRight:L.spaceT("marginRight"),marginInlineEnd:L.spaceT("marginInlineEnd"),marginBottom:L.spaceT("marginBottom"),marginBlockEnd:L.spaceT("marginBlockEnd"),marginLeft:L.spaceT("marginLeft"),marginInlineStart:L.spaceT("marginInlineStart"),marginX:L.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:L.spaceT("marginInline"),marginY:L.spaceT(["marginTop","marginBottom"]),marginBlock:L.spaceT("marginBlock"),padding:L.space("padding"),paddingTop:L.space("paddingTop"),paddingBlockStart:L.space("paddingBlockStart"),paddingRight:L.space("paddingRight"),paddingBottom:L.space("paddingBottom"),paddingBlockEnd:L.space("paddingBlockEnd"),paddingLeft:L.space("paddingLeft"),paddingInlineStart:L.space("paddingInlineStart"),paddingInlineEnd:L.space("paddingInlineEnd"),paddingX:L.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:L.space("paddingInline"),paddingY:L.space(["paddingTop","paddingBottom"]),paddingBlock:L.space("paddingBlock")};Object.assign(rt,{m:rt.margin,mt:rt.marginTop,mr:rt.marginRight,me:rt.marginInlineEnd,marginEnd:rt.marginInlineEnd,mb:rt.marginBottom,ml:rt.marginLeft,ms:rt.marginInlineStart,marginStart:rt.marginInlineStart,mx:rt.marginX,my:rt.marginY,p:rt.padding,pt:rt.paddingTop,py:rt.paddingY,px:rt.paddingX,pb:rt.paddingBottom,pl:rt.paddingLeft,ps:rt.paddingInlineStart,paddingStart:rt.paddingInlineStart,pr:rt.paddingRight,pe:rt.paddingInlineEnd,paddingEnd:rt.paddingInlineEnd});var YB={textDecorationColor:L.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:L.shadows("textShadow")},QB={clipPath:!0,transform:L.propT("transform",Te.transform),transformOrigin:!0,translateX:L.spaceT("--chakra-translate-x"),translateY:L.spaceT("--chakra-translate-y"),skewX:L.degreeT("--chakra-skew-x"),skewY:L.degreeT("--chakra-skew-y"),scaleX:L.prop("--chakra-scale-x"),scaleY:L.prop("--chakra-scale-y"),scale:L.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:L.degreeT("--chakra-rotate")},XB={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:L.prop("transitionDuration","transition.duration"),transitionProperty:L.prop("transitionProperty","transition.property"),transitionTimingFunction:L.prop("transitionTimingFunction","transition.easing")},JB={fontFamily:L.prop("fontFamily","fonts"),fontSize:L.prop("fontSize","fontSizes",Te.px),fontWeight:L.prop("fontWeight","fontWeights"),lineHeight:L.prop("lineHeight","lineHeights"),letterSpacing:L.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},ZB={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:L.spaceT("scrollMargin"),scrollMarginTop:L.spaceT("scrollMarginTop"),scrollMarginBottom:L.spaceT("scrollMarginBottom"),scrollMarginLeft:L.spaceT("scrollMarginLeft"),scrollMarginRight:L.spaceT("scrollMarginRight"),scrollMarginX:L.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:L.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:L.spaceT("scrollPadding"),scrollPaddingTop:L.spaceT("scrollPaddingTop"),scrollPaddingBottom:L.spaceT("scrollPaddingBottom"),scrollPaddingLeft:L.spaceT("scrollPaddingLeft"),scrollPaddingRight:L.spaceT("scrollPaddingRight"),scrollPaddingX:L.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:L.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function n4(t){return jr(t)&&t.reference?t.reference:String(t)}var vy=(t,...e)=>e.map(n4).join(` ${t} `).replace(/calc/g,""),EI=(...t)=>`calc(${vy("+",...t)})`,TI=(...t)=>`calc(${vy("-",...t)})`,bw=(...t)=>`calc(${vy("*",...t)})`,xI=(...t)=>`calc(${vy("/",...t)})`,CI=t=>{const e=n4(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:bw(e,-1)},Ta=Object.assign(t=>({add:(...e)=>Ta(EI(t,...e)),subtract:(...e)=>Ta(TI(t,...e)),multiply:(...e)=>Ta(bw(t,...e)),divide:(...e)=>Ta(xI(t,...e)),negate:()=>Ta(CI(t)),toString:()=>t.toString()}),{add:EI,subtract:TI,multiply:bw,divide:xI,negate:CI});function ez(t,e="-"){return t.replace(/\s+/g,e)}function tz(t){const e=ez(t.toString());return rz(nz(e))}function nz(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function rz(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function iz(t,e=""){return[e,t].filter(Boolean).join("-")}function sz(t,e){return`var(${t}${e?`, ${e}`:""})`}function oz(t,e=""){return tz(`--${iz(t,e)}`)}function se(t,e,n){const r=oz(t,n);return{variable:r,reference:sz(r,e)}}function az(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=se(`${t}-${i}`,s);continue}n[r]=se(`${t}-${r}`)}return n}function lz(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function cz(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function Sw(t){if(t==null)return t;const{unitless:e}=cz(t);return e||typeof t=="number"?`${t}px`:t}var r4=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,rE=t=>Object.fromEntries(Object.entries(t).sort(r4));function II(t){const e=rE(t);return Object.assign(Object.values(e),e)}function uz(t){const e=Object.keys(rE(t));return new Set(e)}function kI(t){var e;if(!t)return t;t=(e=Sw(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Md(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${Sw(t)})`),e&&n.push("and",`(max-width: ${Sw(e)})`),n.join(" ")}function dz(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=II(t),r=Object.entries(t).sort(r4).map(([o,a],l,c)=>{var u;let[,h]=(u=c[l+1])!=null?u:[];return h=parseFloat(h)>0?kI(h):void 0,{_minW:kI(a),breakpoint:o,minW:a,maxW:h,maxWQuery:Md(null,h),minWQuery:Md(a),minMaxQuery:Md(a,h)}}),i=uz(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:rE(t),asArray:II(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>Md(o)).slice(1)],toArrayValue(o){if(!jr(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;lz(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const u=s[c];return u!=null&&l!=null&&(a[u]=l),a},{})}}}var tn={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},Zs=t=>i4(e=>t(e,"&"),"[role=group]","[data-group]",".group"),as=t=>i4(e=>t(e,"~ &"),"[data-peer]",".peer"),i4=(t,...e)=>e.map(t).join(", "),yy={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Zs(tn.hover),_peerHover:as(tn.hover),_groupFocus:Zs(tn.focus),_peerFocus:as(tn.focus),_groupFocusVisible:Zs(tn.focusVisible),_peerFocusVisible:as(tn.focusVisible),_groupActive:Zs(tn.active),_peerActive:as(tn.active),_groupDisabled:Zs(tn.disabled),_peerDisabled:as(tn.disabled),_groupInvalid:Zs(tn.invalid),_peerInvalid:as(tn.invalid),_groupChecked:Zs(tn.checked),_peerChecked:as(tn.checked),_groupFocusWithin:Zs(tn.focusWithin),_peerFocusWithin:as(tn.focusWithin),_peerPlaceholderShown:as(tn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},s4=Object.keys(yy);function PI(t,e){return se(String(t).replace(/\./g,"-"),void 0,e)}function hz(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=PI(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const f=i.split("."),[p,...v]=f,y=`${p}.-${v.join(".")}`,S=Ta.negate(a),b=Ta.negate(c);r[y]={value:S,var:l,varRef:b}}n[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=f=>{const v=[String(i).split(".")[0],f].join(".");if(!t[v])return f;const{reference:S}=PI(v,e==null?void 0:e.cssVarPrefix);return S},h=jr(a)?a:{default:a};n=Mr(n,Object.entries(h).reduce((f,[p,v])=>{var y,S;if(!v)return f;const b=u(`${v}`);if(p==="default")return f[l]=b,f;const w=(S=(y=yy)==null?void 0:y[p])!=null?S:p;return f[w]={[l]:b},f},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}function fz(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function pz(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mz(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function AI(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){var l;if(mz(o)||Array.isArray(o)){const c={};for(const[u,h]of Object.entries(o)){const f=(l=i==null?void 0:i(u))!=null?l:u,p=[...a,f];if(r!=null&&r(o,p))return e(o,a);c[f]=s(h,p)}return c}return e(o,a)}return s(t)}var gz=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function vz(t){return pz(t,gz)}function yz(t){return t.semanticTokens}function _z(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var wz=t=>s4.includes(t)||t==="default";function bz({tokens:t,semanticTokens:e}){const n={};return AI(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),AI(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(wz)}),n}function Sz(t){var e;const n=_z(t),r=vz(n),i=yz(n),s=bz({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=hz(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:dz(n.breakpoints)}),n}var iE=Mr({},Km,De,VB,Kg,Ar,jB,KB,$B,t4,GB,ih,ww,rt,ZB,JB,YB,QB,BB,XB);Object.assign({},rt,Ar,Kg,t4,ih);var Ez=[...Object.keys(iE),...s4],Tz={...iE,...yy},xz=t=>t in Tz,Cz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=ji(t[o],e);if(a==null)continue;if(a=jr(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function Iz(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function kz(t){return/^var\(--.+\)$/.test(t)}var Pz=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!kz(e),Az=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var c,u;return(u=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:u.varRef},s=l=>{var c;return(c=i(l))!=null?c:l},[o,a]=Iz(e);return e=(r=(n=i(o))!=null?n:s(a))!=null?r:s(e),e};function Rz(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var a,l,c;const u=ji(s,r),h=Cz(u)(r);let f={};for(let p in h){const v=h[p];let y=ji(v,r);p in n&&(p=n[p]),Pz(p,y)&&(y=Az(r,y));let S=e[p];if(S===!0&&(S={property:p}),jr(y)){f[p]=(a=f[p])!=null?a:{},f[p]=Mr({},f[p],i(y,!0));continue}let b=(c=(l=S==null?void 0:S.transform)==null?void 0:l.call(S,y,r,u))!=null?c:y;b=S!=null&&S.processResult?i(b,!0):b;const w=ji(S==null?void 0:S.property,r);if(!o&&(S!=null&&S.static)){const T=ji(S.static,r);f=Mr({},f,T)}if(w&&Array.isArray(w)){for(const T of w)f[T]=b;continue}if(w){w==="&"&&jr(b)?f=Mr({},f,b):f[w]=b;continue}if(jr(b)){f=Mr({},f,b);continue}f[p]=b}return f};return i}var o4=t=>e=>Rz({theme:e,pseudos:yy,configs:iE})(t);function tt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function Nz(t,e){if(Array.isArray(t))return t;if(jr(t))return e(t);if(t!=null)return[t]}function Oz(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function Dz(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},u=Nz(s,e.toArrayValue);if(!u)return c;const h=u.length,f=h===1,p=!!r.parts;for(let v=0;v<h;v++){const y=e.details[v],S=e.details[Oz(u,v)],b=Md(y.minW,S==null?void 0:S._minW),w=ji((a=r[i])==null?void 0:a[u[v]],o);if(w){if(p){(l=r.parts)==null||l.forEach(T=>{Mr(c,{[T]:f?w[T]:{[b]:w[T]}})});continue}if(!p){f?Mr(c,w):c[b]=w;continue}c[b]=w}}return c}}function Mz(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,o=Dz(s);return Mr({},ji((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",i,e),o(t,"variants",r,e))}}function Lz(t,e,n){var r,i,s;return(s=(i=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:i.varRef)!=null?s:n}function Xt(t){return fz(t,["styleConfig","size","variant","colorScheme"])}var Fz=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function Vz(t){return jr(t)?Fz.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}var jz={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},$z={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},Bz={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},zz={property:jz,easing:$z,duration:Bz},Uz=zz,Wz={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Hz=Wz,qz={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Gz=qz,Kz={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Yz=Kz,Qz={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Xz=Qz,Jz={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Zz=Jz,eU={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},tU=eU,nU={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},rU=nU,iU={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},a4=iU,l4={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},sU={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},oU={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},aU={...l4,...sU,container:oU},c4=aU,lU={breakpoints:Yz,zIndices:Hz,radii:Zz,blur:rU,colors:Xz,...a4,sizes:c4,shadows:tU,space:l4,borders:Gz,transition:Uz},{defineMultiStyleConfig:cU,definePartsStyle:Ld}=tt(["stepper","step","title","description","indicator","separator","icon","number"]),ds=se("stepper-indicator-size"),uc=se("stepper-icon-size"),dc=se("stepper-title-font-size"),Fd=se("stepper-description-font-size"),_d=se("stepper-accent-color"),uU=Ld(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[_d.variable]:`colors.${t}.500`,_dark:{[_d.variable]:`colors.${t}.200`}},title:{fontSize:dc.reference,fontWeight:"medium"},description:{fontSize:Fd.reference,color:"chakra-subtle-text"},number:{fontSize:dc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:uc.reference,height:uc.reference},indicator:{flexShrink:0,borderRadius:"full",width:ds.reference,height:ds.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:_d.reference},"&[data-status=complete]":{bg:_d.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:_d.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ds.reference} - 8px)`,top:`calc(${ds.reference} + 4px)`,insetStart:`calc(${ds.reference} / 2 - 1px)`}}})),dU=cU({baseStyle:uU,sizes:{xs:Ld({stepper:{[ds.variable]:"sizes.4",[uc.variable]:"sizes.3",[dc.variable]:"fontSizes.xs",[Fd.variable]:"fontSizes.xs"}}),sm:Ld({stepper:{[ds.variable]:"sizes.6",[uc.variable]:"sizes.4",[dc.variable]:"fontSizes.sm",[Fd.variable]:"fontSizes.xs"}}),md:Ld({stepper:{[ds.variable]:"sizes.8",[uc.variable]:"sizes.5",[dc.variable]:"fontSizes.md",[Fd.variable]:"fontSizes.sm"}}),lg:Ld({stepper:{[ds.variable]:"sizes.10",[uc.variable]:"sizes.6",[dc.variable]:"fontSizes.lg",[Fd.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function je(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const h of u)e[h]=l(h);return je(t,e)}function s(...u){for(const h of u)h in e||(e[h]=l(h));return je(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([h,f])=>[h,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([h,f])=>[h,f.className]))}function l(u){const p=`chakra-${(["container","root"].includes(u??"")?[t]:[t,u]).filter(Boolean).join("__")}`;return{className:p,selector:`.${p}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var hU=je("accordion").parts("root","container","button","panel").extend("icon"),fU=je("alert").parts("title","description","container").extend("icon","spinner"),pU=je("avatar").parts("label","badge","container").extend("excessLabel","group"),mU=je("breadcrumb").parts("link","item","container").extend("separator");je("button").parts();var gU=je("checkbox").parts("control","icon","container").extend("label");je("progress").parts("track","filledTrack").extend("label");var vU=je("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),yU=je("editable").parts("preview","input","textarea"),_U=je("form").parts("container","requiredIndicator","helperText"),wU=je("formError").parts("text","icon"),bU=je("input").parts("addon","field","element","group"),SU=je("list").parts("container","item","icon"),EU=je("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),TU=je("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),xU=je("numberinput").parts("root","field","stepperGroup","stepper");je("pininput").parts("field");var CU=je("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),IU=je("progress").parts("label","filledTrack","track"),kU=je("radio").parts("container","control","label"),PU=je("select").parts("field","icon"),AU=je("slider").parts("container","track","thumb","filledTrack","mark"),RU=je("stat").parts("container","label","helpText","number","icon"),NU=je("switch").parts("container","track","thumb","label"),OU=je("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),DU=je("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),MU=je("tag").parts("container","label","closeButton"),LU=je("card").parts("container","header","body","footer");je("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Pa(t,e,n){return Math.min(Math.max(t,n),e)}class FU extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Vd=FU;function sE(t){if(typeof t!="string")throw new Vd(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=HU.test(t)?$U(t):t;const n=BU.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(Zh(a,2),16)),parseInt(Zh(o[3]||"f",2),16)/255]}const r=zU.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=UU.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=WU.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Pa(0,100,a)!==a)throw new Vd(t);if(Pa(0,100,l)!==l)throw new Vd(t);return[...qU(o,a,l),Number.isNaN(c)?1:c]}throw new Vd(t)}function VU(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const RI=t=>parseInt(t.replace(/_/g,""),36),jU="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=RI(e.substring(0,3)),r=RI(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function $U(t){const e=t.toLowerCase().trim(),n=jU[VU(e)];if(!n)throw new Vd(t);return`#${n}`}const Zh=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),BU=new RegExp(`^#${Zh("([a-f0-9])",3)}([a-f0-9])?$`,"i"),zU=new RegExp(`^#${Zh("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),UU=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Zh(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),WU=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,HU=/^[a-z]+$/i,NI=t=>Math.round(t*255),qU=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(NI);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,h=a+u,f=l+u,p=c+u;return[h,f,p].map(NI)};function GU(t,e,n,r){return`rgba(${Pa(0,255,t).toFixed()}, ${Pa(0,255,e).toFixed()}, ${Pa(0,255,n).toFixed()}, ${parseFloat(Pa(0,1,r).toFixed(3))})`}function KU(t,e){const[n,r,i,s]=sE(t);return GU(n,r,i,s-e)}function YU(t){const[e,n,r,i]=sE(t);let s=o=>{const a=Pa(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function QU(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var XU=t=>Object.keys(t).length===0,Fn=(t,e,n)=>{const r=QU(t,`colors.${e}`,e);try{return YU(r),r}catch{return n??"#000000"}},JU=t=>{const[e,n,r]=sE(t);return(e*299+n*587+r*114)/1e3},ZU=t=>e=>{const n=Fn(e,t);return JU(n)<128?"dark":"light"},e8=t=>e=>ZU(t)(e)==="dark",Zc=(t,e)=>n=>{const r=Fn(n,t);return KU(r,1-e)};function OI(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var t8=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function n8(t){const e=t8();return!t||XU(t)?e:t.string&&t.colors?i8(t.string,t.colors):t.string&&!t.colors?r8(t.string):t.colors&&!t.string?s8(t.colors):e}function r8(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function i8(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function s8(t){return t[Math.floor(Math.random()*t.length)]}function re(t,e){return n=>n.colorMode==="dark"?e:t}function oE(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function u4(t){return jr(t)&&t.reference?t.reference:String(t)}var _y=(t,...e)=>e.map(u4).join(` ${t} `).replace(/calc/g,""),DI=(...t)=>`calc(${_y("+",...t)})`,MI=(...t)=>`calc(${_y("-",...t)})`,Ew=(...t)=>`calc(${_y("*",...t)})`,LI=(...t)=>`calc(${_y("/",...t)})`,FI=t=>{const e=u4(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Ew(e,-1)},hs=Object.assign(t=>({add:(...e)=>hs(DI(t,...e)),subtract:(...e)=>hs(MI(t,...e)),multiply:(...e)=>hs(Ew(t,...e)),divide:(...e)=>hs(LI(t,...e)),negate:()=>hs(FI(t)),toString:()=>t.toString()}),{add:DI,subtract:MI,multiply:Ew,divide:LI,negate:FI});function o8(t){return!Number.isInteger(parseFloat(t.toString()))}function a8(t,e="-"){return t.replace(/\s+/g,e)}function d4(t){const e=a8(t.toString());return e.includes("\\.")?t:o8(t)?e.replace(".","\\."):t}function l8(t,e=""){return[e,d4(t)].filter(Boolean).join("-")}function c8(t,e){return`var(${d4(t)}${e?`, ${e}`:""})`}function u8(t,e=""){return`--${l8(t,e)}`}function zt(t,e){const n=u8(t,void 0);return{variable:n,reference:c8(n,d8(void 0))}}function d8(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:h8,definePartsStyle:Ym}=tt(NU.keys),sh=zt("switch-track-width"),La=zt("switch-track-height"),u_=zt("switch-track-diff"),f8=hs.subtract(sh,La),Tw=zt("switch-thumb-x"),wd=zt("switch-bg"),p8=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[sh.reference],height:[La.reference],transitionProperty:"common",transitionDuration:"fast",[wd.variable]:"colors.gray.300",_dark:{[wd.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[wd.variable]:`colors.${e}.500`,_dark:{[wd.variable]:`colors.${e}.200`}},bg:wd.reference}},m8={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[La.reference],height:[La.reference],_checked:{transform:`translateX(${Tw.reference})`}},g8=Ym(t=>({container:{[u_.variable]:f8,[Tw.variable]:u_.reference,_rtl:{[Tw.variable]:hs(u_).negate().toString()}},track:p8(t),thumb:m8})),v8={sm:Ym({container:{[sh.variable]:"1.375rem",[La.variable]:"sizes.3"}}),md:Ym({container:{[sh.variable]:"1.875rem",[La.variable]:"sizes.4"}}),lg:Ym({container:{[sh.variable]:"2.875rem",[La.variable]:"sizes.6"}})},y8=h8({baseStyle:g8,sizes:v8,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:_8,definePartsStyle:Nc}=tt(OU.keys),w8=Nc({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Yg={"&[data-is-numeric=true]":{textAlign:"end"}},b8=Nc(t=>{const{colorScheme:e}=t;return{th:{color:re("gray.600","gray.400")(t),borderBottom:"1px",borderColor:re(`${e}.100`,`${e}.700`)(t),...Yg},td:{borderBottom:"1px",borderColor:re(`${e}.100`,`${e}.700`)(t),...Yg},caption:{color:re("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),S8=Nc(t=>{const{colorScheme:e}=t;return{th:{color:re("gray.600","gray.400")(t),borderBottom:"1px",borderColor:re(`${e}.100`,`${e}.700`)(t),...Yg},td:{borderBottom:"1px",borderColor:re(`${e}.100`,`${e}.700`)(t),...Yg},caption:{color:re("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:re(`${e}.100`,`${e}.700`)(t)},td:{background:re(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),E8={simple:b8,striped:S8,unstyled:{}},T8={sm:Nc({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Nc({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Nc({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},x8=_8({baseStyle:w8,variants:E8,sizes:T8,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Gn=se("tabs-color"),ui=se("tabs-bg"),cm=se("tabs-border-color"),{defineMultiStyleConfig:C8,definePartsStyle:Wi}=tt(DU.keys),I8=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},k8=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},P8=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},A8={p:4},R8=Wi(t=>({root:I8(t),tab:k8(t),tablist:P8(t),tabpanel:A8})),N8={sm:Wi({tab:{py:1,px:4,fontSize:"sm"}}),md:Wi({tab:{fontSize:"md",py:2,px:4}}),lg:Wi({tab:{fontSize:"lg",py:3,px:4}})},O8=Wi(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[Gn.variable]:`colors.${e}.600`,_dark:{[Gn.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[ui.variable]:"colors.gray.200",_dark:{[ui.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Gn.reference,bg:ui.reference}}}),D8=Wi(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[cm.variable]:"transparent",_selected:{[Gn.variable]:`colors.${e}.600`,[cm.variable]:"colors.white",_dark:{[Gn.variable]:`colors.${e}.300`,[cm.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:cm.reference},color:Gn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),M8=Wi(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[ui.variable]:"colors.gray.50",_dark:{[ui.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ui.variable]:"colors.white",[Gn.variable]:`colors.${e}.600`,_dark:{[ui.variable]:"colors.gray.800",[Gn.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Gn.reference,bg:ui.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),L8=Wi(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Fn(n,`${e}.700`),bg:Fn(n,`${e}.100`)}}}}),F8=Wi(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Gn.variable]:"colors.gray.600",_dark:{[Gn.variable]:"inherit"},_selected:{[Gn.variable]:"colors.white",[ui.variable]:`colors.${e}.600`,_dark:{[Gn.variable]:"colors.gray.800",[ui.variable]:`colors.${e}.300`}},color:Gn.reference,bg:ui.reference}}}),V8=Wi({}),j8={line:O8,enclosed:D8,"enclosed-colored":M8,"soft-rounded":L8,"solid-rounded":F8,unstyled:V8},$8=C8({baseStyle:R8,sizes:N8,variants:j8,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Et=az("badge",["bg","color","shadow"]),B8={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Et.bg.reference,color:Et.color.reference,boxShadow:Et.shadow.reference},z8=t=>{const{colorScheme:e,theme:n}=t,r=Zc(`${e}.500`,.6)(n);return{[Et.bg.variable]:`colors.${e}.500`,[Et.color.variable]:"colors.white",_dark:{[Et.bg.variable]:r,[Et.color.variable]:"colors.whiteAlpha.800"}}},U8=t=>{const{colorScheme:e,theme:n}=t,r=Zc(`${e}.200`,.16)(n);return{[Et.bg.variable]:`colors.${e}.100`,[Et.color.variable]:`colors.${e}.800`,_dark:{[Et.bg.variable]:r,[Et.color.variable]:`colors.${e}.200`}}},W8=t=>{const{colorScheme:e,theme:n}=t,r=Zc(`${e}.200`,.8)(n);return{[Et.color.variable]:`colors.${e}.500`,_dark:{[Et.color.variable]:r},[Et.shadow.variable]:`inset 0 0 0px 1px ${Et.color.reference}`}},H8={solid:z8,subtle:U8,outline:W8},oh={baseStyle:B8,variants:H8,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:q8,definePartsStyle:Fa}=tt(MU.keys),VI=se("tag-bg"),jI=se("tag-color"),d_=se("tag-shadow"),Qm=se("tag-min-height"),Xm=se("tag-min-width"),Jm=se("tag-font-size"),Zm=se("tag-padding-inline"),G8={fontWeight:"medium",lineHeight:1.2,outline:0,[jI.variable]:Et.color.reference,[VI.variable]:Et.bg.reference,[d_.variable]:Et.shadow.reference,color:jI.reference,bg:VI.reference,boxShadow:d_.reference,borderRadius:"md",minH:Qm.reference,minW:Xm.reference,fontSize:Jm.reference,px:Zm.reference,_focusVisible:{[d_.variable]:"shadows.outline"}},K8={lineHeight:1.2,overflow:"visible"},Y8={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Q8=Fa({container:G8,label:K8,closeButton:Y8}),X8={sm:Fa({container:{[Qm.variable]:"sizes.5",[Xm.variable]:"sizes.5",[Jm.variable]:"fontSizes.xs",[Zm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Fa({container:{[Qm.variable]:"sizes.6",[Xm.variable]:"sizes.6",[Jm.variable]:"fontSizes.sm",[Zm.variable]:"space.2"}}),lg:Fa({container:{[Qm.variable]:"sizes.8",[Xm.variable]:"sizes.8",[Jm.variable]:"fontSizes.md",[Zm.variable]:"space.3"}})},J8={subtle:Fa(t=>{var e;return{container:(e=oh.variants)==null?void 0:e.subtle(t)}}),solid:Fa(t=>{var e;return{container:(e=oh.variants)==null?void 0:e.solid(t)}}),outline:Fa(t=>{var e;return{container:(e=oh.variants)==null?void 0:e.outline(t)}})},Z8=q8({variants:J8,baseStyle:Q8,sizes:X8,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:gs,defineMultiStyleConfig:e7}=tt(bU.keys),hc=se("input-height"),fc=se("input-font-size"),pc=se("input-padding"),mc=se("input-border-radius"),t7=gs({addon:{height:hc.reference,fontSize:fc.reference,px:pc.reference,borderRadius:mc.reference},field:{width:"100%",height:hc.reference,fontSize:fc.reference,px:pc.reference,borderRadius:mc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),eo={lg:{[fc.variable]:"fontSizes.lg",[pc.variable]:"space.4",[mc.variable]:"radii.md",[hc.variable]:"sizes.12"},md:{[fc.variable]:"fontSizes.md",[pc.variable]:"space.4",[mc.variable]:"radii.md",[hc.variable]:"sizes.10"},sm:{[fc.variable]:"fontSizes.sm",[pc.variable]:"space.3",[mc.variable]:"radii.sm",[hc.variable]:"sizes.8"},xs:{[fc.variable]:"fontSizes.xs",[pc.variable]:"space.2",[mc.variable]:"radii.sm",[hc.variable]:"sizes.6"}},n7={lg:gs({field:eo.lg,group:eo.lg}),md:gs({field:eo.md,group:eo.md}),sm:gs({field:eo.sm,group:eo.sm}),xs:gs({field:eo.xs,group:eo.xs})};function aE(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||re("blue.500","blue.300")(t),errorBorderColor:n||re("red.500","red.300")(t)}}var r7=gs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=aE(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:re("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Fn(e,r),boxShadow:`0 0 0 1px ${Fn(e,r)}`},_focusVisible:{zIndex:1,borderColor:Fn(e,n),boxShadow:`0 0 0 1px ${Fn(e,n)}`}},addon:{border:"1px solid",borderColor:re("inherit","whiteAlpha.50")(t),bg:re("gray.100","whiteAlpha.300")(t)}}}),i7=gs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=aE(t);return{field:{border:"2px solid",borderColor:"transparent",bg:re("gray.100","whiteAlpha.50")(t),_hover:{bg:re("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Fn(e,r)},_focusVisible:{bg:"transparent",borderColor:Fn(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:re("gray.100","whiteAlpha.50")(t)}}}),s7=gs(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=aE(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Fn(e,r),boxShadow:`0px 1px 0px 0px ${Fn(e,r)}`},_focusVisible:{borderColor:Fn(e,n),boxShadow:`0px 1px 0px 0px ${Fn(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),o7=gs({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),a7={outline:r7,filled:i7,flushed:s7,unstyled:o7},Ve=e7({baseStyle:t7,sizes:n7,variants:a7,defaultProps:{size:"md",variant:"outline"}}),$I,l7={...($I=Ve.baseStyle)==null?void 0:$I.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},BI,zI,c7={outline:t=>{var e,n;return(n=(e=Ve.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Ve.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Ve.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(zI=(BI=Ve.variants)==null?void 0:BI.unstyled.field)!=null?zI:{}},UI,WI,HI,qI,GI,KI,YI,QI,u7={xs:(WI=(UI=Ve.sizes)==null?void 0:UI.xs.field)!=null?WI:{},sm:(qI=(HI=Ve.sizes)==null?void 0:HI.sm.field)!=null?qI:{},md:(KI=(GI=Ve.sizes)==null?void 0:GI.md.field)!=null?KI:{},lg:(QI=(YI=Ve.sizes)==null?void 0:YI.lg.field)!=null?QI:{}},d7={baseStyle:l7,sizes:u7,variants:c7,defaultProps:{size:"md",variant:"outline"}},um=zt("tooltip-bg"),h_=zt("tooltip-fg"),h7=zt("popper-arrow-bg"),f7={bg:um.reference,color:h_.reference,[um.variable]:"colors.gray.700",[h_.variable]:"colors.whiteAlpha.900",_dark:{[um.variable]:"colors.gray.300",[h_.variable]:"colors.gray.900"},[h7.variable]:um.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},p7={baseStyle:f7},{defineMultiStyleConfig:m7,definePartsStyle:jd}=tt(IU.keys),g7=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=re(OI(),OI("1rem","rgba(0,0,0,0.1)"))(t),o=re(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Fn(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},v7={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},y7=t=>({bg:re("gray.100","whiteAlpha.300")(t)}),_7=t=>({transitionProperty:"common",transitionDuration:"slow",...g7(t)}),w7=jd(t=>({label:v7,filledTrack:_7(t),track:y7(t)})),b7={xs:jd({track:{h:"1"}}),sm:jd({track:{h:"2"}}),md:jd({track:{h:"3"}}),lg:jd({track:{h:"4"}})},S7=m7({sizes:b7,baseStyle:w7,defaultProps:{size:"md",colorScheme:"blue"}}),E7=t=>typeof t=="function";function jn(t,...e){return E7(t)?t(...e):t}var{definePartsStyle:eg,defineMultiStyleConfig:T7}=tt(gU.keys),ah=se("checkbox-size"),x7=t=>{const{colorScheme:e}=t;return{w:ah.reference,h:ah.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:re(`${e}.500`,`${e}.200`)(t),borderColor:re(`${e}.500`,`${e}.200`)(t),color:re("white","gray.900")(t),_hover:{bg:re(`${e}.600`,`${e}.300`)(t),borderColor:re(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:re("gray.200","transparent")(t),bg:re("gray.200","whiteAlpha.300")(t),color:re("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:re(`${e}.500`,`${e}.200`)(t),borderColor:re(`${e}.500`,`${e}.200`)(t),color:re("white","gray.900")(t)},_disabled:{bg:re("gray.100","whiteAlpha.100")(t),borderColor:re("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:re("red.500","red.300")(t)}}},C7={_disabled:{cursor:"not-allowed"}},I7={userSelect:"none",_disabled:{opacity:.4}},k7={transitionProperty:"transform",transitionDuration:"normal"},P7=eg(t=>({icon:k7,container:C7,control:jn(x7,t),label:I7})),A7={sm:eg({control:{[ah.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:eg({control:{[ah.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:eg({control:{[ah.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Qg=T7({baseStyle:P7,sizes:A7,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:R7,definePartsStyle:tg}=tt(kU.keys),N7=t=>{var e;const n=(e=jn(Qg.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},O7=tg(t=>{var e,n,r,i;return{label:(n=(e=Qg).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=Qg).baseStyle)==null?void 0:i.call(r,t).container,control:N7(t)}}),D7={md:tg({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:tg({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:tg({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},M7=R7({baseStyle:O7,sizes:D7,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:L7,definePartsStyle:F7}=tt(PU.keys),dm=se("select-bg"),XI,V7={...(XI=Ve.baseStyle)==null?void 0:XI.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:dm.reference,[dm.variable]:"colors.white",_dark:{[dm.variable]:"colors.gray.700"},"> option, > optgroup":{bg:dm.reference}},j7={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},$7=F7({field:V7,icon:j7}),hm={paddingInlineEnd:"8"},JI,ZI,ek,tk,nk,rk,ik,sk,B7={lg:{...(JI=Ve.sizes)==null?void 0:JI.lg,field:{...(ZI=Ve.sizes)==null?void 0:ZI.lg.field,...hm}},md:{...(ek=Ve.sizes)==null?void 0:ek.md,field:{...(tk=Ve.sizes)==null?void 0:tk.md.field,...hm}},sm:{...(nk=Ve.sizes)==null?void 0:nk.sm,field:{...(rk=Ve.sizes)==null?void 0:rk.sm.field,...hm}},xs:{...(ik=Ve.sizes)==null?void 0:ik.xs,field:{...(sk=Ve.sizes)==null?void 0:sk.xs.field,...hm},icon:{insetEnd:"1"}}},z7=L7({baseStyle:$7,sizes:B7,variants:Ve.variants,defaultProps:Ve.defaultProps}),f_=se("skeleton-start-color"),p_=se("skeleton-end-color"),U7={[f_.variable]:"colors.gray.100",[p_.variable]:"colors.gray.400",_dark:{[f_.variable]:"colors.gray.800",[p_.variable]:"colors.gray.600"},background:f_.reference,borderColor:p_.reference,opacity:.7,borderRadius:"sm"},W7={baseStyle:U7},m_=se("skip-link-bg"),H7={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[m_.variable]:"colors.white",_dark:{[m_.variable]:"colors.gray.700"},bg:m_.reference}},q7={baseStyle:H7},{defineMultiStyleConfig:G7,definePartsStyle:wy}=tt(AU.keys),ef=se("slider-thumb-size"),tf=se("slider-track-size"),co=se("slider-bg"),K7=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...oE({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},Y7=t=>({...oE({orientation:t.orientation,horizontal:{h:tf.reference},vertical:{w:tf.reference}}),overflow:"hidden",borderRadius:"sm",[co.variable]:"colors.gray.200",_dark:{[co.variable]:"colors.whiteAlpha.200"},_disabled:{[co.variable]:"colors.gray.300",_dark:{[co.variable]:"colors.whiteAlpha.300"}},bg:co.reference}),Q7=t=>{const{orientation:e}=t;return{...oE({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ef.reference,h:ef.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},X7=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[co.variable]:`colors.${e}.500`,_dark:{[co.variable]:`colors.${e}.200`},bg:co.reference}},J7=wy(t=>({container:K7(t),track:Y7(t),thumb:Q7(t),filledTrack:X7(t)})),Z7=wy({container:{[ef.variable]:"sizes.4",[tf.variable]:"sizes.1"}}),eW=wy({container:{[ef.variable]:"sizes.3.5",[tf.variable]:"sizes.1"}}),tW=wy({container:{[ef.variable]:"sizes.2.5",[tf.variable]:"sizes.0.5"}}),nW={lg:Z7,md:eW,sm:tW},rW=G7({baseStyle:J7,sizes:nW,defaultProps:{size:"md",colorScheme:"blue"}}),xa=zt("spinner-size"),iW={width:[xa.reference],height:[xa.reference]},sW={xs:{[xa.variable]:"sizes.3"},sm:{[xa.variable]:"sizes.4"},md:{[xa.variable]:"sizes.6"},lg:{[xa.variable]:"sizes.8"},xl:{[xa.variable]:"sizes.12"}},oW={baseStyle:iW,sizes:sW,defaultProps:{size:"md"}},{defineMultiStyleConfig:aW,definePartsStyle:h4}=tt(RU.keys),lW={fontWeight:"medium"},cW={opacity:.8,marginBottom:"2"},uW={verticalAlign:"baseline",fontWeight:"semibold"},dW={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},hW=h4({container:{},label:lW,helpText:cW,number:uW,icon:dW}),fW={md:h4({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},pW=aW({baseStyle:hW,sizes:fW,defaultProps:{size:"md"}}),g_=se("kbd-bg"),mW={[g_.variable]:"colors.gray.100",_dark:{[g_.variable]:"colors.whiteAlpha.100"},bg:g_.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},gW={baseStyle:mW},vW={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},yW={baseStyle:vW},{defineMultiStyleConfig:_W,definePartsStyle:wW}=tt(SU.keys),bW={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},SW=wW({icon:bW}),EW=_W({baseStyle:SW}),{defineMultiStyleConfig:TW,definePartsStyle:xW}=tt(EU.keys),Oi=se("menu-bg"),v_=se("menu-shadow"),CW={[Oi.variable]:"#fff",[v_.variable]:"shadows.sm",_dark:{[Oi.variable]:"colors.gray.700",[v_.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Oi.reference,boxShadow:v_.reference},IW={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Oi.variable]:"colors.gray.100",_dark:{[Oi.variable]:"colors.whiteAlpha.100"}},_active:{[Oi.variable]:"colors.gray.200",_dark:{[Oi.variable]:"colors.whiteAlpha.200"}},_expanded:{[Oi.variable]:"colors.gray.100",_dark:{[Oi.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Oi.reference},kW={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},PW={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},AW={opacity:.6},RW={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},NW={transitionProperty:"common",transitionDuration:"normal"},OW=xW({button:NW,list:CW,item:IW,groupTitle:kW,icon:PW,command:AW,divider:RW}),DW=TW({baseStyle:OW}),{defineMultiStyleConfig:MW,definePartsStyle:xw}=tt(TU.keys),y_=se("modal-bg"),__=se("modal-shadow"),LW={bg:"blackAlpha.600",zIndex:"modal"},FW=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},VW=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[y_.variable]:"colors.white",[__.variable]:"shadows.lg",_dark:{[y_.variable]:"colors.gray.700",[__.variable]:"shadows.dark-lg"},bg:y_.reference,boxShadow:__.reference}},jW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},$W={position:"absolute",top:"2",insetEnd:"3"},BW=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},zW={px:"6",py:"4"},UW=xw(t=>({overlay:LW,dialogContainer:jn(FW,t),dialog:jn(VW,t),header:jW,closeButton:$W,body:jn(BW,t),footer:zW}));function si(t){return xw(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var WW={xs:si("xs"),sm:si("sm"),md:si("md"),lg:si("lg"),xl:si("xl"),"2xl":si("2xl"),"3xl":si("3xl"),"4xl":si("4xl"),"5xl":si("5xl"),"6xl":si("6xl"),full:si("full")},HW=MW({baseStyle:UW,sizes:WW,defaultProps:{size:"md"}}),{defineMultiStyleConfig:qW,definePartsStyle:f4}=tt(xU.keys),lE=zt("number-input-stepper-width"),p4=zt("number-input-input-padding"),GW=hs(lE).add("0.5rem").toString(),w_=zt("number-input-bg"),b_=zt("number-input-color"),S_=zt("number-input-border-color"),KW={[lE.variable]:"sizes.6",[p4.variable]:GW},YW=t=>{var e,n;return(n=(e=jn(Ve.baseStyle,t))==null?void 0:e.field)!=null?n:{}},QW={width:lE.reference},XW={borderStart:"1px solid",borderStartColor:S_.reference,color:b_.reference,bg:w_.reference,[b_.variable]:"colors.chakra-body-text",[S_.variable]:"colors.chakra-border-color",_dark:{[b_.variable]:"colors.whiteAlpha.800",[S_.variable]:"colors.whiteAlpha.300"},_active:{[w_.variable]:"colors.gray.200",_dark:{[w_.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},JW=f4(t=>{var e;return{root:KW,field:(e=jn(YW,t))!=null?e:{},stepperGroup:QW,stepper:XW}});function fm(t){var e,n,r;const i=(e=Ve.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=a4.fontSizes[o];return f4({field:{...i.field,paddingInlineEnd:p4.reference,verticalAlign:"top"},stepper:{fontSize:hs(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var ZW={xs:fm("xs"),sm:fm("sm"),md:fm("md"),lg:fm("lg")},eH=qW({baseStyle:JW,sizes:ZW,variants:Ve.variants,defaultProps:Ve.defaultProps}),ok,tH={...(ok=Ve.baseStyle)==null?void 0:ok.field,textAlign:"center"},nH={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},ak,lk,rH={outline:t=>{var e,n,r;return(r=(n=jn((e=Ve.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=jn((e=Ve.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=jn((e=Ve.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(lk=(ak=Ve.variants)==null?void 0:ak.unstyled.field)!=null?lk:{}},iH={baseStyle:tH,sizes:nH,variants:rH,defaultProps:Ve.defaultProps},{defineMultiStyleConfig:sH,definePartsStyle:oH}=tt(CU.keys),pm=zt("popper-bg"),aH=zt("popper-arrow-bg"),ck=zt("popper-arrow-shadow-color"),lH={zIndex:10},cH={[pm.variable]:"colors.white",bg:pm.reference,[aH.variable]:pm.reference,[ck.variable]:"colors.gray.200",_dark:{[pm.variable]:"colors.gray.700",[ck.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},uH={px:3,py:2,borderBottomWidth:"1px"},dH={px:3,py:2},hH={px:3,py:2,borderTopWidth:"1px"},fH={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},pH=oH({popper:lH,content:cH,header:uH,body:dH,footer:hH,closeButton:fH}),mH=sH({baseStyle:pH}),{definePartsStyle:Cw,defineMultiStyleConfig:gH}=tt(vU.keys),E_=se("drawer-bg"),T_=se("drawer-box-shadow");function Ul(t){return Cw(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var vH={bg:"blackAlpha.600",zIndex:"modal"},yH={display:"flex",zIndex:"modal",justifyContent:"center"},_H=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[E_.variable]:"colors.white",[T_.variable]:"shadows.lg",_dark:{[E_.variable]:"colors.gray.700",[T_.variable]:"shadows.dark-lg"},bg:E_.reference,boxShadow:T_.reference}},wH={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},bH={position:"absolute",top:"2",insetEnd:"3"},SH={px:"6",py:"2",flex:"1",overflow:"auto"},EH={px:"6",py:"4"},TH=Cw(t=>({overlay:vH,dialogContainer:yH,dialog:jn(_H,t),header:wH,closeButton:bH,body:SH,footer:EH})),xH={xs:Ul("xs"),sm:Ul("md"),md:Ul("lg"),lg:Ul("2xl"),xl:Ul("4xl"),full:Ul("full")},CH=gH({baseStyle:TH,sizes:xH,defaultProps:{size:"xs"}}),{definePartsStyle:IH,defineMultiStyleConfig:kH}=tt(yU.keys),PH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},AH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},RH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},NH=IH({preview:PH,input:AH,textarea:RH}),OH=kH({baseStyle:NH}),{definePartsStyle:DH,defineMultiStyleConfig:MH}=tt(_U.keys),Oc=se("form-control-color"),LH={marginStart:"1",[Oc.variable]:"colors.red.500",_dark:{[Oc.variable]:"colors.red.300"},color:Oc.reference},FH={mt:"2",[Oc.variable]:"colors.gray.600",_dark:{[Oc.variable]:"colors.whiteAlpha.600"},color:Oc.reference,lineHeight:"normal",fontSize:"sm"},VH=DH({container:{width:"100%",position:"relative"},requiredIndicator:LH,helperText:FH}),jH=MH({baseStyle:VH}),{definePartsStyle:$H,defineMultiStyleConfig:BH}=tt(wU.keys),Dc=se("form-error-color"),zH={[Dc.variable]:"colors.red.500",_dark:{[Dc.variable]:"colors.red.300"},color:Dc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},UH={marginEnd:"0.5em",[Dc.variable]:"colors.red.500",_dark:{[Dc.variable]:"colors.red.300"},color:Dc.reference},WH=$H({text:zH,icon:UH}),HH=BH({baseStyle:WH}),qH={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},GH={baseStyle:qH},KH={fontFamily:"heading",fontWeight:"bold"},YH={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},QH={baseStyle:KH,sizes:YH,defaultProps:{size:"xl"}},{defineMultiStyleConfig:XH,definePartsStyle:JH}=tt(mU.keys),x_=se("breadcrumb-link-decor"),ZH={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:x_.reference,[x_.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[x_.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},eq=JH({link:ZH}),tq=XH({baseStyle:eq}),nq={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},m4=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:re("gray.800","whiteAlpha.900")(t),_hover:{bg:re("gray.100","whiteAlpha.200")(t)},_active:{bg:re("gray.200","whiteAlpha.300")(t)}};const r=Zc(`${e}.200`,.12)(n),i=Zc(`${e}.200`,.24)(n);return{color:re(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:re(`${e}.50`,r)(t)},_active:{bg:re(`${e}.100`,i)(t)}}},rq=t=>{const{colorScheme:e}=t,n=re("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...jn(m4,t)}},iq={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},sq=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=re("gray.100","whiteAlpha.200")(t);return{bg:l,color:re("gray.800","whiteAlpha.900")(t),_hover:{bg:re("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:re("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:o=`${n}.700`}=(e=iq[n])!=null?e:{},a=re(r,`${n}.200`)(t);return{bg:a,color:re(i,"gray.800")(t),_hover:{bg:re(s,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:re(o,`${n}.400`)(t)}}},oq=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:re(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:re(`${e}.700`,`${e}.500`)(t)}}},aq={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},lq={ghost:m4,outline:rq,solid:sq,link:oq,unstyled:aq},cq={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},uq={baseStyle:nq,variants:lq,sizes:cq,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Va,defineMultiStyleConfig:dq}=tt(LU.keys),Xg=se("card-bg"),Es=se("card-padding"),g4=se("card-shadow"),ng=se("card-radius"),v4=se("card-border-width","0"),y4=se("card-border-color"),hq=Va({container:{[Xg.variable]:"colors.chakra-body-bg",backgroundColor:Xg.reference,boxShadow:g4.reference,borderRadius:ng.reference,color:"chakra-body-text",borderWidth:v4.reference,borderColor:y4.reference},body:{padding:Es.reference,flex:"1 1 0%"},header:{padding:Es.reference},footer:{padding:Es.reference}}),fq={sm:Va({container:{[ng.variable]:"radii.base",[Es.variable]:"space.3"}}),md:Va({container:{[ng.variable]:"radii.md",[Es.variable]:"space.5"}}),lg:Va({container:{[ng.variable]:"radii.xl",[Es.variable]:"space.7"}})},pq={elevated:Va({container:{[g4.variable]:"shadows.base",_dark:{[Xg.variable]:"colors.gray.700"}}}),outline:Va({container:{[v4.variable]:"1px",[y4.variable]:"colors.chakra-border-color"}}),filled:Va({container:{[Xg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Es.variable]:0},header:{[Es.variable]:0},footer:{[Es.variable]:0}}},mq=dq({baseStyle:hq,variants:pq,sizes:fq,defaultProps:{variant:"elevated",size:"md"}}),lh=zt("close-button-size"),bd=zt("close-button-bg"),gq={w:[lh.reference],h:[lh.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[bd.variable]:"colors.blackAlpha.100",_dark:{[bd.variable]:"colors.whiteAlpha.100"}},_active:{[bd.variable]:"colors.blackAlpha.200",_dark:{[bd.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:bd.reference},vq={lg:{[lh.variable]:"sizes.10",fontSize:"md"},md:{[lh.variable]:"sizes.8",fontSize:"xs"},sm:{[lh.variable]:"sizes.6",fontSize:"2xs"}},yq={baseStyle:gq,sizes:vq,defaultProps:{size:"md"}},{variants:_q,defaultProps:wq}=oh,bq={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Et.bg.reference,color:Et.color.reference,boxShadow:Et.shadow.reference},Sq={baseStyle:bq,variants:_q,defaultProps:wq},Eq={w:"100%",mx:"auto",maxW:"prose",px:"4"},Tq={baseStyle:Eq},xq={opacity:.6,borderColor:"inherit"},Cq={borderStyle:"solid"},Iq={borderStyle:"dashed"},kq={solid:Cq,dashed:Iq},Pq={baseStyle:xq,variants:kq,defaultProps:{variant:"solid"}},{definePartsStyle:Aq,defineMultiStyleConfig:Rq}=tt(hU.keys),Nq={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Oq={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Dq={pt:"2",px:"4",pb:"5"},Mq={fontSize:"1.25em"},Lq=Aq({container:Nq,button:Oq,panel:Dq,icon:Mq}),Fq=Rq({baseStyle:Lq}),{definePartsStyle:Of,defineMultiStyleConfig:Vq}=tt(fU.keys),fr=se("alert-fg"),Ds=se("alert-bg"),jq=Of({container:{bg:Ds.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:fr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:fr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function cE(t){const{theme:e,colorScheme:n}=t,r=Zc(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var $q=Of(t=>{const{colorScheme:e}=t,n=cE(t);return{container:{[fr.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[fr.variable]:`colors.${e}.200`,[Ds.variable]:n.dark}}}}),Bq=Of(t=>{const{colorScheme:e}=t,n=cE(t);return{container:{[fr.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[fr.variable]:`colors.${e}.200`,[Ds.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:fr.reference}}}),zq=Of(t=>{const{colorScheme:e}=t,n=cE(t);return{container:{[fr.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[fr.variable]:`colors.${e}.200`,[Ds.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:fr.reference}}}),Uq=Of(t=>{const{colorScheme:e}=t;return{container:{[fr.variable]:"colors.white",[Ds.variable]:`colors.${e}.600`,_dark:{[fr.variable]:"colors.gray.900",[Ds.variable]:`colors.${e}.200`},color:fr.reference}}}),Wq={subtle:$q,"left-accent":Bq,"top-accent":zq,solid:Uq},Hq=Vq({baseStyle:jq,variants:Wq,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:_4,defineMultiStyleConfig:qq}=tt(pU.keys),Mc=se("avatar-border-color"),ch=se("avatar-bg"),nf=se("avatar-font-size"),eu=se("avatar-size"),Gq={borderRadius:"full",border:"0.2em solid",borderColor:Mc.reference,[Mc.variable]:"white",_dark:{[Mc.variable]:"colors.gray.800"}},Kq={bg:ch.reference,fontSize:nf.reference,width:eu.reference,height:eu.reference,lineHeight:"1",[ch.variable]:"colors.gray.200",_dark:{[ch.variable]:"colors.whiteAlpha.400"}},Yq=t=>{const{name:e,theme:n}=t,r=e?n8({string:e}):"colors.gray.400",i=e8(r)(n);let s="white";return i||(s="gray.800"),{bg:ch.reference,fontSize:nf.reference,color:s,borderColor:Mc.reference,verticalAlign:"top",width:eu.reference,height:eu.reference,"&:not([data-loaded])":{[ch.variable]:r},[Mc.variable]:"colors.white",_dark:{[Mc.variable]:"colors.gray.800"}}},Qq={fontSize:nf.reference,lineHeight:"1"},Xq=_4(t=>({badge:jn(Gq,t),excessLabel:jn(Kq,t),container:jn(Yq,t),label:Qq}));function to(t){const e=t!=="100%"?c4[t]:void 0;return _4({container:{[eu.variable]:e??t,[nf.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[eu.variable]:e??t,[nf.variable]:`calc(${e??t} / 2.5)`}})}var Jq={"2xs":to(4),xs:to(6),sm:to(8),md:to(12),lg:to(16),xl:to(24),"2xl":to(32),full:to("100%")},Zq=qq({baseStyle:Xq,sizes:Jq,defaultProps:{size:"md"}}),eG={Accordion:Fq,Alert:Hq,Avatar:Zq,Badge:oh,Breadcrumb:tq,Button:uq,Checkbox:Qg,CloseButton:yq,Code:Sq,Container:Tq,Divider:Pq,Drawer:CH,Editable:OH,Form:jH,FormError:HH,FormLabel:GH,Heading:QH,Input:Ve,Kbd:gW,Link:yW,List:EW,Menu:DW,Modal:HW,NumberInput:eH,PinInput:iH,Popover:mH,Progress:S7,Radio:M7,Select:z7,Skeleton:W7,SkipLink:q7,Slider:rW,Spinner:oW,Stat:pW,Switch:y8,Table:x8,Tabs:$8,Tag:Z8,Textarea:d7,Tooltip:p7,Card:mq,Stepper:dU},tG={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},nG={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},rG="ltr",iG={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},w4={semanticTokens:tG,direction:rG,...lU,components:eG,styles:nG,config:iG};function $d(t){return typeof t=="function"}function sG(...t){return e=>t.reduce((n,r)=>r(n),e)}var oG=t=>function(...n){let r=[...n],i=n[n.length-1];return Vz(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,sG(...r.map(s=>o=>$d(s)?s(o):lG(o,s)))(i)},aG=oG(w4);function lG(...t){return Mr({},...t,b4)}function b4(t,e,n,r){if(($d(t)||$d(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=$d(t)?t(...i):t,o=$d(e)?e(...i):e;return Mr({},s,o,b4)}}function cG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var uG=cG();function dG(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function hG(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var fG=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},S4=fG(hG);function E4(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var T4=t=>E4(t,e=>e!=null);function pG(t){return typeof t=="function"}function x4(t,...e){return pG(t)?t(...e):t}function mG(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var gG=typeof Element<"u",vG=typeof Map=="function",yG=typeof Set=="function",_G=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function rg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!rg(t[r],e[r]))return!1;return!0}var s;if(vG&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!rg(r.value[1],e.get(r.value[0])))return!1;return!0}if(yG&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(_G&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(gG&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!rg(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var wG=function(e,n){try{return rg(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const bG=jv(wG);function C4(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=ZO(),a=t?S4(s,`components.${t}`):void 0,l=r||a,c=Mr({theme:s,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},T4(dG(i,["children"]))),u=E.useRef({});if(l){const f=Mz(l)(c);bG(u.current,f)||(u.current=f)}return u.current}function br(t,e={}){return C4(t,e)}function ml(t,e={}){return C4(t,e)}var SG=new Set([...Ez,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),EG=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function TG(t){return EG.has(t)||!SG.has(t)}function xG(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function uE(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var CG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,IG=LO(function(t){return CG.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),kG=IG,PG=function(e){return e!=="theme"},uk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kG:PG},dk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},AG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return zO(n,r,i),J9(function(){return UO(n,r,i)}),null},RG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=dk(e,n,r),l=a||uk(i),c=!l("as");return function(){var u=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)h.push(u[p],u[0][p])}var v=GO(function(y,S,b){var w=c&&y.as||i,T="",A=[],D=y;if(y.theme==null){D={};for(var V in y)D[V]=y[V];D.theme=E.useContext(Xh)}typeof y.className=="string"?T=H9(S.registered,A,y.className):y.className!=null&&(T=y.className+" ");var C=QS(h.concat(A),S.registered,D);T+=S.key+"-"+C.name,o!==void 0&&(T+=" "+o);var x=c&&a===void 0?uk(w):l,I={};for(var P in y)c&&P==="as"||x(P)&&(I[P]=y[P]);return I.className=T,I.ref=b,E.createElement(E.Fragment,null,E.createElement(AG,{cache:S,serialized:C,isStringTag:typeof w=="string"}),E.createElement(w,I))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,S){return t(y,Xa({},n,S,{shouldForwardProp:dk(v,S,!0)})).apply(void 0,h)},v}},NG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Jg=RG.bind();NG.forEach(function(t){Jg[t]=Jg(t)});var hk,OG=(hk=Jg.default)!=null?hk:Jg,DG=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=E4(o,(h,f)=>xz(f)),l=x4(t,e),c=xG({},i,l,T4(a),s),u=o4(c)(e.theme);return r?[u,r]:u};function C_(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=TG);const i=DG({baseStyle:n}),s=OG(t,r)(i);return Fr.forwardRef(function(l,c){const{colorMode:u,forced:h}=tE();return Fr.createElement(s,{ref:c,"data-theme":h?u:void 0,...l})})}function MG(){const t=new Map;return new Proxy(C_,{apply(e,n,r){return C_(...r)},get(e,n){return t.has(n)||t.set(n,C_(n)),t.get(n)}})}var ee=MG();function he(t){return E.forwardRef(t)}function LG(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=E.createContext(void 0);i.displayName=r;function s(){var o;const a=E.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function FG(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=E.useMemo(()=>Sz(n),[n]);return g.jsxs(tB,{theme:i,children:[g.jsx(VG,{root:e}),r]})}function VG({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return g.jsx(gy,{styles:n=>({[e]:n.__cssVars})})}LG({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function jG(){const{colorMode:t}=tE();return g.jsx(gy,{styles:e=>{const n=S4(e,"styles.global"),r=x4(n,{theme:e,colorMode:t});return r?o4(r)(e):void 0}})}var I4=E.createContext({getDocument(){return document},getWindow(){return window}});I4.displayName="EnvironmentContext";function k4(t){const{children:e,environment:n,disabled:r}=t,i=E.useRef(null),s=E.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return g.jsxs(I4.Provider,{value:s,children:[e,o&&g.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}k4.displayName="EnvironmentProvider";var $G=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,h=g.jsx(k4,{environment:a,disabled:c,children:e});return g.jsx(FG,{theme:o,cssVarsRoot:l,children:g.jsxs(JO,{colorModeManager:n,options:o.config,children:[s?g.jsx(iB,{scope:i}):g.jsx(rB,{}),!u&&g.jsx(jG,{}),r?g.jsx(QO,{zIndex:r,children:h}):h]})})},BG=(t,e)=>t.find(n=>n.id===e);function fk(t,e){const n=P4(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function P4(t,e){for(const[n,r]of Object.entries(t))if(BG(r,e))return n}function zG(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function UG(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}function Zg(t,e=[]){const n=E.useRef(t);return E.useEffect(()=>{n.current=t}),E.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function WG(t,e){const n=Zg(t);E.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function pk(t,e){const n=E.useRef(!1),r=E.useRef(!1);E.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const dE=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),by=E.createContext({}),Df=E.createContext(null),hE=typeof document<"u",fE=hE?E.useLayoutEffect:E.useEffect,A4=E.createContext({strict:!1}),pE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HG="framerAppearId",R4="data-"+pE(HG),qG={skipAnimations:!1,useManualTiming:!1};class mk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function GG(t){let e=new mk,n=new mk,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];o.has(u)&&(a.schedule(u),t()),u(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const mm=["read","resolveKeyframes","update","preRender","render","postRender"],KG=40;function N4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=mm.reduce((h,f)=>(h[f]=GG(()=>n=!0),h),{}),o=h=>{s[h].process(i)},a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,KG),1),i.timestamp=h,i.isProcessing=!0,mm.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:mm.reduce((h,f)=>{const p=s[f];return h[f]=(v,y=!1,S=!1)=>(n||l(),p.schedule(v,y,S)),h},{}),cancel:h=>mm.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:mE,cancel:vge}=N4(queueMicrotask,!1);function YG(t,e,n,r){const{visualElement:i}=E.useContext(by),s=E.useContext(A4),o=E.useContext(Df),a=E.useContext(dE).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(n,o)});const u=E.useRef(!!(n[R4]&&!window.HandoffComplete));return fE(()=>{c&&(mE.postRender(c.render),u.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function gc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QG(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gc(n)&&(n.current=r))},[e])}function rf(t){return typeof t=="string"||Array.isArray(t)}function Sy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vE=["initial",...gE];function Ey(t){return Sy(t.animate)||vE.some(e=>rf(t[e]))}function O4(t){return!!(Ey(t)||t.variants)}function XG(t,e){if(Ey(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rf(n)?n:void 0,animate:rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function JG(t){const{initial:e,animate:n}=XG(t,E.useContext(by));return E.useMemo(()=>({initial:e,animate:n}),[gk(e),gk(n)])}function gk(t){return Array.isArray(t)?t.join(" "):t}const vk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sf={};for(const t in vk)sf[t]={isEnabled:e=>vk[t].some(n=>!!e[n])};function ZG(t){for(const e in t)sf[e]={...sf[e],...t[e]}}const yE=E.createContext({}),D4=E.createContext({}),eK=Symbol.for("motionComponentSymbol");function tK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&ZG(t);function s(a,l){let c;const u={...E.useContext(dE),...a,layoutId:nK(a)},{isStatic:h}=u,f=JG(a),p=r(a,h);if(!h&&hE){f.visualElement=YG(i,p,u,e);const v=E.useContext(D4),y=E.useContext(A4).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,y,t,v))}return g.jsxs(by.Provider,{value:f,children:[c&&f.visualElement?g.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,QG(p,f.visualElement,l),p,h,f.visualElement)]})}const o=E.forwardRef(s);return o[eK]=i,o}function nK({layoutId:t}){const e=E.useContext(yE).id;return e&&t!==void 0?e+"-"+t:t}function rK(t){function e(r,i={}){return tK(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const iK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _E(t){return typeof t!="string"||t.includes("-")?!1:!!(iK.indexOf(t)>-1||/[A-Z]/u.test(t))}const ev={};function sK(t){Object.assign(ev,t)}const Mf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gl=new Set(Mf);function M4(t,{layout:e,layoutId:n}){return gl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ev[t]||t==="opacity")}const In=t=>!!(t&&t.getVelocity),oK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aK=Mf.length;function lK(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<aK;o++){const a=Mf[o];if(t[a]!==void 0){const l=oK[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const L4=t=>e=>typeof e=="string"&&e.startsWith(t),F4=L4("--"),cK=L4("var(--"),wE=t=>cK(t)?uK.test(t.split("/*")[0].trim()):!1,uK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dK=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vo=(t,e,n)=>n>e?e:n<t?t:n,Pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uh={...Pu,transform:t=>Vo(0,1,t)},gm={...Pu,default:1},dh=t=>Math.round(t*1e5)/1e5,bE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,hK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,fK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Lf(t){return typeof t=="string"}const Ff=t=>({test:e=>Lf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ro=Ff("deg"),Hi=Ff("%"),oe=Ff("px"),pK=Ff("vh"),mK=Ff("vw"),yk={...Hi,parse:t=>Hi.parse(t)/100,transform:t=>Hi.transform(t*100)},_k={...Pu,transform:Math.round},V4={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:ro,rotateX:ro,rotateY:ro,rotateZ:ro,scale:gm,scaleX:gm,scaleY:gm,scaleZ:gm,skew:ro,skewX:ro,skewY:ro,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:uh,originX:yk,originY:yk,originZ:oe,zIndex:_k,backgroundPositionX:oe,backgroundPositionY:oe,fillOpacity:uh,strokeOpacity:uh,numOctaves:_k};function SE(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const f=e[h];if(F4(h)){s[h]=f;continue}const p=V4[h],v=dK(f,p);if(gl.has(h)){if(l=!0,o[h]=v,!u)continue;f!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):i[h]=v}if(e.transform||(l||r?i.transform=lK(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const EE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j4(t,e,n){for(const r in e)!In(e[r])&&!M4(r,n)&&(t[r]=e[r])}function gK({transformTemplate:t},e,n){return E.useMemo(()=>{const r=EE();return SE(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vK(t,e,n){const r=t.style||{},i={};return j4(i,r,t),Object.assign(i,gK(t,e,n)),i}function yK(t,e,n){const r={},i=vK(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const _K=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_K.has(t)}let $4=t=>!tv(t);function wK(t){t&&($4=e=>e.startsWith("on")?!tv(e):t(e))}try{wK(require("@emotion/is-prop-valid").default)}catch{}function bK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($4(i)||n===!0&&tv(i)||!e&&!tv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function wk(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function SK(t,e,n){const r=wk(e,t.x,t.width),i=wk(n,t.y,t.height);return`${r} ${i}`}const EK={offset:"stroke-dashoffset",array:"stroke-dasharray"},TK={offset:"strokeDashoffset",array:"strokeDasharray"};function xK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?EK:TK;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function TE(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,f){if(SE(t,c,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:y}=t;p.transform&&(y&&(v.transform=p.transform),delete p.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=SK(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&xK(p,o,a,l,!1)}const B4=()=>({...EE(),attrs:{}}),xE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CK(t,e,n,r){const i=E.useMemo(()=>{const s=B4();return TE(s,e,{enableHardwareAcceleration:!1},xE(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};j4(s,t.style,t),i.style={...s,...i.style}}return i}function IK(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(_E(n)?CK:yK)(r,s,o,n),c=bK(r,typeof n=="string",t),u=n!==E.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=E.useMemo(()=>In(h)?h.get():h,[h]);return E.createElement(n,{...u,children:f})}}function z4(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const U4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function W4(t,e,n,r){z4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(U4.has(i)?i:pE(i),e.attrs[i])}function CE(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(In(i[o])||e.style&&In(e.style[o])||M4(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function H4(t,e,n){const r=CE(t,e,n);for(const i in t)if(In(t[i])||In(e[i])){const s=Mf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function bk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function IE(t,e,n,r){if(typeof e=="function"){const[i,s]=bk(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=bk(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function q4(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Iw=t=>Array.isArray(t),kK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),PK=t=>Iw(t)?t[t.length-1]||0:t;function ig(t){const e=In(t)?t.get():t;return kK(e)?e.toValue():e}function AK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:RK(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const G4=t=>(e,n)=>{const r=E.useContext(by),i=E.useContext(Df),s=()=>AK(t,e,r,i);return n?s():q4(s)};function RK(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=ig(s[f]);let{initial:o,animate:a}=t;const l=Ey(t),c=O4(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!Sy(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const v=IE(t,p);if(!v)return;const{transitionEnd:y,transition:S,...b}=v;for(const w in b){let T=b[w];if(Array.isArray(T)){const A=u?T.length-1:0;T=T[A]}T!==null&&(i[w]=T)}for(const w in y)i[w]=y[w]}),i}const An=t=>t,{schedule:qe,cancel:jo,state:rn,steps:I_}=N4(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),NK={useVisualState:G4({scrapeMotionValuesFromProps:H4,createRenderState:B4,onMount:(t,e,{renderState:n,latestValues:r})=>{qe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qe.render(()=>{TE(n,r,{enableHardwareAcceleration:!1},xE(e.tagName),t.transformTemplate),W4(e,n)})}})},OK={useVisualState:G4({scrapeMotionValuesFromProps:CE,createRenderState:EE})};function DK(t,{forwardMotionProps:e=!1},n,r){return{..._E(t)?NK:OK,preloadedFeatures:n,useRender:IK(e),createVisualElement:r,Component:t}}function vs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const K4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ty(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const MK=t=>e=>K4(e)&&t(e,Ty(e));function Ts(t,e,n,r){return vs(t,e,MK(n),r)}const LK=(t,e)=>n=>e(t(n)),xs=(...t)=>t.reduce(LK);function Y4(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Sk=Y4("dragHorizontal"),Ek=Y4("dragVertical");function Q4(t){let e=!1;if(t==="y")e=Ek();else if(t==="x")e=Sk();else{const n=Sk(),r=Ek();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function X4(){const t=Q4(!0);return t?(t(),!1):!0}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Tk(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||X4())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&qe.postRender(()=>l(s,o))};return Ts(t.current,n,i,{passive:!t.getProps()[r]})}class FK extends Jo{mount(){this.unmount=xs(Tk(this.node,!0),Tk(this.node,!1))}unmount(){}}class VK extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xs(vs(this.node.current,"focus",()=>this.onFocus()),vs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const J4=(t,e)=>e?t===e?!0:J4(t,e.parentElement):!1;function k_(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ty(n))}class jK extends Jo{constructor(){super(...arguments),this.removeStartListeners=An,this.removeEndListeners=An,this.removeAccessibleListeners=An,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ts(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),f=!h&&!J4(this.node.current,a.target)?u:c;f&&qe.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ts(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xs(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||k_("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&qe.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=vs(this.node.current,"keyup",o),k_("down",(a,l)=>{this.startPress(a,l)})},n=vs(this.node.current,"keydown",e),r=()=>{this.isPressing&&k_("cancel",(s,o)=>this.cancelPress(s,o))},i=vs(this.node.current,"blur",r);this.removeAccessibleListeners=xs(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&qe.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!X4()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&qe.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ts(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kw=new WeakMap,P_=new WeakMap,$K=t=>{const e=kw.get(t.target);e&&e(t)},BK=t=>{t.forEach($K)};function zK({root:t,...e}){const n=t||document;P_.has(n)||P_.set(n,{});const r=P_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(BK,{root:t,...e})),r[i]}function UK(t,e,n){const r=zK(e);return kw.set(t,n),r.observe(t),()=>{kw.delete(t),r.unobserve(t)}}const WK={some:0,all:1};class HK extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WK[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return UK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qK(e,n))&&this.startObserver()}unmount(){}}function qK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GK={inView:{Feature:HK},tap:{Feature:jK},focus:{Feature:VK},hover:{Feature:FK}};function Z4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xy(t,e,n){const r=t.getProps();return IE(r,e,n!==void 0?n:r.custom,t)}const ko=t=>t*1e3,Cs=t=>t/1e3,KK={type:"spring",stiffness:500,damping:25,restSpeed:10},YK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QK={type:"keyframes",duration:.8},XK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JK=(t,{keyframes:e})=>e.length>2?QK:gl.has(t)?t.startsWith("scale")?YK(e[1]):KK:XK;function ZK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function kE(t,e){return t[e]||t.default||t}const eY=t=>t!==null;function Cy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(eY),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let sg;function tY(){sg=void 0}const Po={now:()=>(sg===void 0&&Po.set(rn.isProcessing||qG.useManualTiming?rn.timestamp:performance.now()),sg),set:t=>{sg=t,queueMicrotask(tY)}},eD=t=>/^0[^.\s]+$/u.test(t);function nY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eD(t):!0}let Pw=An;const tD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iY(t){const e=rY.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nD(t,e,n=1){const[r,i]=iY(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return tD(o)?parseFloat(o):o}return wE(i)?nD(i,e,n+1):i}const sY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xk=t=>t===Pu||t===oe,Ck=(t,e)=>parseFloat(t.split(", ")[e]),Ik=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ck(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Ck(s[1],t):0}},oY=new Set(["x","y","z"]),aY=Mf.filter(t=>!oY.has(t));function lY(t){const e=[];return aY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ik(4,13),y:Ik(5,14)};tu.translateX=tu.x;tu.translateY=tu.y;const rD=t=>e=>e.test(t),cY={test:t=>t==="auto",parse:t=>t},iD=[Pu,oe,Hi,ro,mK,pK,cY],kk=t=>iD.find(rD(t)),ja=new Set;let Aw=!1,Rw=!1;function sD(){if(Rw){const t=Array.from(ja).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rw=!1,Aw=!1,ja.forEach(t=>t.complete()),ja.clear()}function oD(){ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rw=!0)})}function uY(){oD(),sD()}class PE{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ja.add(this),Aw||(Aw=!0,qe.read(oD),qe.resolveKeyframes(sD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ja.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ja.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AE=(t,e)=>n=>!!(Lf(n)&&fK.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),aD=(t,e,n)=>r=>{if(!Lf(r))return r;const[i,s,o,a]=r.match(bE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dY=t=>Vo(0,255,t),A_={...Pu,transform:t=>Math.round(dY(t))},Aa={test:AE("rgb","red"),parse:aD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+A_.transform(t)+", "+A_.transform(e)+", "+A_.transform(n)+", "+dh(uh.transform(r))+")"};function hY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Nw={test:AE("#"),parse:hY,transform:Aa.transform},vc={test:AE("hsl","hue"),parse:aD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hi.transform(dh(e))+", "+Hi.transform(dh(n))+", "+dh(uh.transform(r))+")"},bn={test:t=>Aa.test(t)||Nw.test(t)||vc.test(t),parse:t=>Aa.test(t)?Aa.parse(t):vc.test(t)?vc.parse(t):Nw.parse(t),transform:t=>Lf(t)?t:t.hasOwnProperty("red")?Aa.transform(t):vc.transform(t)};function fY(t){var e,n;return isNaN(t)&&Lf(t)&&(((e=t.match(bE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hK))===null||n===void 0?void 0:n.length)||0)>0}const lD="number",cD="color",pY="var",mY="var(",Pk="${}",gY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function of(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(gY,l=>(bn.test(l)?(r.color.push(s),i.push(cD),n.push(bn.parse(l))):l.startsWith(mY)?(r.var.push(s),i.push(pY),n.push(l)):(r.number.push(s),i.push(lD),n.push(parseFloat(l))),++s,Pk)).split(Pk);return{values:n,split:a,indexes:r,types:i}}function uD(t){return of(t).values}function dD(t){const{split:e,types:n}=of(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===lD?s+=dh(i[o]):a===cD?s+=bn.transform(i[o]):s+=i[o]}return s}}const vY=t=>typeof t=="number"?0:t;function yY(t){const e=uD(t);return dD(t)(e.map(vY))}const $o={test:fY,parse:uD,createTransformer:dD,getAnimatableNone:yY},_Y=new Set(["brightness","contrast","saturate","opacity"]);function wY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bE)||[];if(!r)return t;const i=n.replace(r,"");let s=_Y.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const bY=/\b([a-z-]*)\(.*?\)/gu,Ow={...$o,getAnimatableNone:t=>{const e=t.match(bY);return e?e.map(wY).join(" "):t}},SY={...V4,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Ow,WebkitFilter:Ow},RE=t=>SY[t];function hD(t,e){let n=RE(t);return n!==Ow&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const EY=new Set(["auto","none","0"]);function TY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!EY.has(s)&&of(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=hD(n,i)}class fD extends PE{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const c=e[l];if(typeof c=="string"&&wE(c)){const u=nD(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!sY.has(r)||e.length!==2)return;const[i,s]=e,o=kk(i),a=kk(s);if(o!==a)if(xk(o)&&xk(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)nY(e[i])&&r.push(i);r.length&&TY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=tu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function xY(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ak=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($o.test(t)||t==="0")&&!t.startsWith("url("));function CY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ak(i,e),a=Ak(s,e);return!o||!a?!1:CY(t)||n==="spring"&&r}class pD{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uY(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!IY(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Cy(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function mD(t,e){return e?t*(1e3/e):0}const kY=5;function gD(t,e,n){const r=Math.max(e-kY,0);return mD(n-t(r),e-r)}const R_=.001,PY=.01,AY=10,RY=.05,NY=1;function OY({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Vo(RY,NY,o),t=Vo(PY,AY,Cs(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,p=Dw(c,o),v=Math.exp(-h);return R_-f/p*v},s=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),y=Dw(Math.pow(c,2),o);return(-i(c)+R_>0?-1:1)*((f-p)*v)/y}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-R_+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=MY(i,s,a);if(t=ko(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const DY=12;function MY(t,e,n){let r=n;for(let i=1;i<DY;i++)r=r-t(r)/e(r);return r}function Dw(t,e){return t*Math.sqrt(1-e*e)}const LY=["duration","bounce"],FY=["stiffness","damping","mass"];function Rk(t,e){return e.some(n=>t[n]!==void 0)}function VY(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Rk(t,FY)&&Rk(t,LY)){const n=OY(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function vD({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:f}=VY({...r,velocity:-Cs(r.velocity||0)}),p=h||0,v=l/(2*Math.sqrt(a*c)),y=s-i,S=Cs(Math.sqrt(a/c)),b=Math.abs(y)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let w;if(v<1){const T=Dw(S,v);w=A=>{const D=Math.exp(-v*S*A);return s-D*((p+v*S*y)/T*Math.sin(T*A)+y*Math.cos(T*A))}}else if(v===1)w=T=>s-Math.exp(-S*T)*(y+(p+S*y)*T);else{const T=S*Math.sqrt(v*v-1);w=A=>{const D=Math.exp(-v*S*A),V=Math.min(T*A,300);return s-D*((p+v*S*y)*Math.sinh(V)+T*y*Math.cosh(V))/T}}return{calculatedDuration:f&&u||null,next:T=>{const A=w(T);if(f)o.done=T>=u;else{let D=p;T!==0&&(v<1?D=gD(w,T,A):D=0);const V=Math.abs(D)<=n,C=Math.abs(s-A)<=e;o.done=V&&C}return o.value=o.done?s:A,o}}}function Nk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=x=>a!==void 0&&x<a||l!==void 0&&x>l,v=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let y=n*e;const S=h+y,b=o===void 0?S:o(S);b!==S&&(y=b-h);const w=x=>-y*Math.exp(-x/r),T=x=>b+w(x),A=x=>{const I=w(x),P=T(x);f.done=Math.abs(I)<=c,f.value=f.done?b:P};let D,V;const C=x=>{p(f.value)&&(D=x,V=vD({keyframes:[f.value,v(f.value)],velocity:gD(T,x,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!V&&D===void 0&&(I=!0,A(x),C(x)),D!==void 0&&x>=D?V.next(x-D):(!I&&A(x),f)}}}const yD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jY=1e-7,$Y=12;function BY(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=yD(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>jY&&++a<$Y);return o}function Vf(t,e,n,r){if(t===e&&n===r)return An;const i=s=>BY(s,0,1,t,n);return s=>s===0||s===1?s:yD(i(s),e,r)}const zY=Vf(.42,0,1,1),UY=Vf(0,0,.58,1),_D=Vf(.42,0,.58,1),WY=t=>Array.isArray(t)&&typeof t[0]!="number",wD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bD=t=>e=>1-t(1-e),NE=t=>1-Math.sin(Math.acos(t)),SD=bD(NE),HY=wD(NE),ED=Vf(.33,1.53,.69,.99),OE=bD(ED),qY=wD(OE),GY=t=>(t*=2)<1?.5*OE(t):.5*(2-Math.pow(2,-10*(t-1))),Ok={linear:An,easeIn:zY,easeInOut:_D,easeOut:UY,circIn:NE,circInOut:HY,circOut:SD,backIn:OE,backInOut:qY,backOut:ED,anticipate:GY},Dk=t=>{if(Array.isArray(t)){Pw(t.length===4);const[e,n,r,i]=t;return Vf(e,n,r,i)}else if(typeof t=="string")return Pw(Ok[t]!==void 0),Ok[t];return t},af=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ht=(t,e,n)=>t+(e-t)*n;function N_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=N_(l,a,t+1/3),s=N_(l,a,t),o=N_(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const O_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},YY=[Nw,Aa,vc],QY=t=>YY.find(e=>e.test(t));function Mk(t){const e=QY(t);let n=e.parse(t);return e===vc&&(n=KY(n)),n}const Lk=(t,e)=>{const n=Mk(t),r=Mk(e),i={...n};return s=>(i.red=O_(n.red,r.red,s),i.green=O_(n.green,r.green,s),i.blue=O_(n.blue,r.blue,s),i.alpha=ht(n.alpha,r.alpha,s),Aa.transform(i))},Mw=new Set(["none","hidden"]);function XY(t,e){return Mw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Lw(t,e){return n=>n>0?e:t}function JY(t,e){return n=>ht(t,e,n)}function DE(t){return typeof t=="number"?JY:typeof t=="string"?wE(t)?Lw:bn.test(t)?Lk:tQ:Array.isArray(t)?TD:typeof t=="object"?bn.test(t)?Lk:ZY:Lw}function TD(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>DE(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function ZY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=DE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function eQ(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const tQ=(t,e)=>{const n=$o.createTransformer(e),r=of(t),i=of(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Mw.has(t)&&!i.values.length||Mw.has(e)&&!r.values.length?XY(t,e):xs(TD(eQ(r,i),i.values),n):Lw(t,e)};function xD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):DE(t)(t,e)}function nQ(t,e,n){const r=[],i=n||xD,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||An:e;a=xs(l,a)}r.push(a)}return r}function rQ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Pw(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=nQ(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=af(t[u],t[u+1],c);return o[u](h)};return n?c=>l(Vo(t[0],t[s-1],c)):l}function iQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=af(0,e,r);t.push(ht(n,1,i))}}function sQ(t){const e=[0];return iQ(e,t.length-1),e}function oQ(t,e){return t.map(n=>n*e)}function aQ(t,e){return t.map(()=>e||_D).splice(0,t.length-1)}function nv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=WY(r)?r.map(Dk):Dk(r),s={done:!1,value:e[0]},o=oQ(n&&n.length===e.length?n:sQ(e),t),a=rQ(o,e,{ease:Array.isArray(i)?i:aQ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Fk=2e4;function lQ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fk;)e+=n,r=t.next(e);return e>=Fk?1/0:e}const cQ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qe.update(e,!0),stop:()=>jo(e),now:()=>rn.isProcessing?rn.timestamp:Po.now()}},uQ={decay:Nk,inertia:Nk,tween:nv,keyframes:nv,spring:vD},dQ=t=>t/100;class ME extends pD{constructor({KeyframeResolver:e=PE,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=uQ[n]||nv;let l,c;a!==nv&&typeof e[0]!="number"&&(l=xs(dQ,xD(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=lQ(u));const{calculatedDuration:h}=u,f=h+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:v,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let T=this.currentTime,A=s;if(p){const x=Math.min(this.currentTime,u)/h;let I=Math.floor(x),P=x%1;!P&&x>=1&&(P=1),P===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(v==="reverse"?(P=1-P,y&&(P-=y/h)):v==="mirror"&&(A=o)),T=Vo(0,1,P)*h}const D=w?{done:!1,value:l[0]}:A.next(T);a&&(D.value=a(D.value));let{done:V}=D;!w&&c!==null&&(V=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return C&&i!==void 0&&(D.value=Cy(l,this.options,i)),S&&S(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?Cs(e.calculatedDuration):0}get time(){return Cs(this.currentTime)}set time(e){e=ko(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cQ,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CD=t=>Array.isArray(t)&&typeof t[0]=="number";function ID(t){return!!(!t||typeof t=="string"&&t in LE||CD(t)||Array.isArray(t)&&t.every(ID))}const Bd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,LE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function hQ(t){return kD(t)||LE.easeOut}function kD(t){if(t)return CD(t)?Bd(t):Array.isArray(t)?t.map(hQ):LE[t]}function fQ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=kD(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const pQ=xY(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mQ=new Set(["opacity","clipPath","filter","transform"]),rv=10,gQ=2e4;function vQ(t){return t.type==="spring"||t.name==="backgroundColor"||!ID(t.ease)}function yQ(t,e){const n=new ME({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<gQ;)r=n.sample(s),i.push(r.value),s+=rv;return{times:void 0,keyframes:i,duration:s-rv,ease:"linear"}}class Vk extends pD{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new fD(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(vQ(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,...v}=this.options,y=yQ(e,v);e=y.keyframes,e.length===1&&(e[1]=e[0]),i=y.duration,s=y.times,o=y.ease,a="keyframes"}const u=fQ(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return u.startTime=Po.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Cy(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Cs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Cs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ko(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return An;const{animation:r}=n;r.timeline=e,r.onfinish=null}return An}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:u,...h}=this.options,f=new ME({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=ko(this.time);l.setWithVelocity(f.sample(p-rv).value,f.sample(p).value,rv)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return pQ()&&r&&mQ.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const FE=(t,e,n,r={},i,s)=>o=>{const a=kE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ko(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};ZK(a)||(u={...u,...JK(t,u)}),u.duration&&(u.duration=ko(u.duration)),u.repeatDelay&&(u.repeatDelay=ko(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=Cy(u.keyframes,a);if(f!==void 0){qe.update(()=>{u.onUpdate(f),u.onComplete()});return}}return!s&&Vk.supports(u)?new Vk(u):new ME(u)};function iv(t){return!!(In(t)&&t.add)}function VE(t,e){t.indexOf(e)===-1&&t.push(e)}function jE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $E{constructor(){this.subscriptions=[]}add(e){return VE(this.subscriptions,e),()=>jE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jk=30,_Q=t=>!isNaN(parseFloat(t));class wQ{constructor(e,n={}){this.version="11.2.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Po.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Po.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_Q(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $E);const r=this.events[e].add(n);return e==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jk);return mD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lf(t,e){return new wQ(t,e)}function bQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lf(n))}function SQ(t,e){const n=xy(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=PK(s[o]);bQ(t,o,a)}}function EQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function PD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),v=l[f];if(v===void 0||h&&EQ(h,f))continue;const y={delay:n,elapsed:0,...kE(o||{},f)};let S=!1;if(window.HandoffAppearAnimations){const T=t.getProps()[R4];if(T){const A=window.HandoffAppearAnimations(T,f,p,qe);A!==null&&(y.elapsed=A,S=!0)}}p.start(FE(f,p,v,t.shouldReduceMotion&&gl.has(f)?{type:!1}:y,t,S));const b=p.animation;b&&(iv(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b))}return a&&Promise.all(u).then(()=>{qe.update(()=>{a&&SQ(t,a)})}),u}function Fw(t,e,n={}){var r;const i=xy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(PD(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return TQ(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function TQ(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(xQ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Fw(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function xQ(t,e){return t.sortNodePosition(e)}function CQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fw(t,e,n);else{const i=typeof e=="function"?xy(t,e,n.custom):e;r=Promise.all(PD(t,i,n))}return r.then(()=>{qe.postRender(()=>{t.notify("AnimationComplete",e)})})}const IQ=[...gE].reverse(),kQ=gE.length;function PQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CQ(t,n,r)))}function AQ(t){let e=PQ(t);const n=NQ();let r=!0;const i=l=>(c,u)=>{var h;const f=xy(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...y}=f;c={...c,...y,...v}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),u=t.getVariantContext(!0)||{},h=[],f=new Set;let p={},v=1/0;for(let S=0;S<kQ;S++){const b=IQ[S],w=n[b],T=c[b]!==void 0?c[b]:u[b],A=rf(T),D=b===l?w.isActive:null;D===!1&&(v=S);let V=T===u[b]&&T!==c[b]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),w.protectedKeys={...p},!w.isActive&&D===null||!T&&!w.prevProp||Sy(T)||typeof T=="boolean")continue;let x=RQ(w.prevProp,T)||b===l&&w.isActive&&!V&&A||S>v&&A,I=!1;const P=Array.isArray(T)?T:[T];let O=P.reduce(i(b),{});D===!1&&(O={});const{prevResolvedValues:F={}}=w,N={...F,...O},$e=pe=>{x=!0,f.has(pe)&&(I=!0,f.delete(pe)),w.needsAnimating[pe]=!0;const fe=t.getValue(pe);fe&&(fe.liveStyle=!1)};for(const pe in N){const fe=O[pe],me=F[pe];if(p.hasOwnProperty(pe))continue;let H=!1;Iw(fe)&&Iw(me)?H=!Z4(fe,me):H=fe!==me,H?fe!=null?$e(pe):f.add(pe):fe!==void 0&&f.has(pe)?$e(pe):w.protectedKeys[pe]=!0}w.prevProp=T,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&t.blockInitialAnimation&&(x=!1),x&&(!V||I)&&h.push(...P.map(pe=>({animation:pe,options:{type:b}})))}if(f.size){const S={};f.forEach(b=>{const w=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),S[b]=w??null}),h.push({animation:S})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function RQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Z4(e,t):!1}function ga(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NQ(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class OQ extends Jo{constructor(e){super(e),e.animationState||(e.animationState=AQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Sy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let DQ=0;class MQ extends Jo{constructor(){super(...arguments),this.id=DQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LQ={animation:{Feature:OQ},exit:{Feature:MQ}},$k=(t,e)=>Math.abs(t-e);function FQ(t,e){const n=$k(t.x,e.x),r=$k(t.y,e.y);return Math.sqrt(n**2+r**2)}class AD{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=M_(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=FQ(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:y}=rn;this.history.push({...v,timestamp:y});const{onStart:S,onMove:b}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=D_(f,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=M_(h.type==="pointercancel"?this.lastMoveEventInfo:D_(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),v&&v(h,S)},!K4(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ty(e),a=D_(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=rn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,M_(a,this.history)),this.removeListeners=xs(Ts(this.contextWindow,"pointermove",this.handlePointerMove),Ts(this.contextWindow,"pointerup",this.handlePointerUp),Ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}}function D_(t,e){return e?{point:e(t.point)}:t}function Bk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function M_({point:t},e){return{point:t,delta:Bk(t,RD(e)),offset:Bk(t,VQ(e)),velocity:jQ(e,.1)}}function VQ(t){return t[0]}function RD(t){return t[t.length-1]}function jQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=RD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ko(e)));)n--;if(!r)return{x:0,y:0};const s=Cs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gr(t){return t.max-t.min}function Vw(t,e=0,n=.01){return Math.abs(t-e)<=n}function zk(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=gr(n)/gr(e),(Vw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(Vw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function hh(t,e,n,r){zk(t.x,e.x,n.x,r?r.originX:void 0),zk(t.y,e.y,n.y,r?r.originY:void 0)}function Uk(t,e,n){t.min=n.min+e.min,t.max=t.min+gr(e)}function $Q(t,e,n){Uk(t.x,e.x,n.x),Uk(t.y,e.y,n.y)}function Wk(t,e,n){t.min=e.min-n.min,t.max=t.min+gr(e)}function fh(t,e,n){Wk(t.x,e.x,n.x),Wk(t.y,e.y,n.y)}function BQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function Hk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zQ(t,{top:e,left:n,bottom:r,right:i}){return{x:Hk(t.x,n,i),y:Hk(t.y,e,r)}}function qk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UQ(t,e){return{x:qk(t.x,e.x),y:qk(t.y,e.y)}}function WQ(t,e){let n=.5;const r=gr(t),i=gr(e);return i>r?n=af(e.min,e.max-r,t.min):r>i&&(n=af(t.min,t.max-i,e.min)),Vo(0,1,n)}function HQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jw=.35;function qQ(t=jw){return t===!1?t=0:t===!0&&(t=jw),{x:Gk(t,"left","right"),y:Gk(t,"top","bottom")}}function Gk(t,e,n){return{min:Kk(t,e),max:Kk(t,n)}}function Kk(t,e){return typeof t=="number"?t:t[e]||0}const Yk=()=>({translate:0,scale:1,origin:0,originPoint:0}),yc=()=>({x:Yk(),y:Yk()}),Qk=()=>({min:0,max:0}),bt=()=>({x:Qk(),y:Qk()});function Rr(t){return[t("x"),t("y")]}function ND({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function GQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function L_(t){return t===void 0||t===1}function $w({scale:t,scaleX:e,scaleY:n}){return!L_(t)||!L_(e)||!L_(n)}function _a(t){return $w(t)||OD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OD(t){return Xk(t.x)||Xk(t.y)}function Xk(t){return t&&t!=="0%"}function sv(t,e,n){const r=t-n,i=e*r;return n+i}function Jk(t,e,n,r,i){return i!==void 0&&(t=sv(t,i,r)),sv(t,n,r)+e}function Bw(t,e=0,n=1,r,i){t.min=Jk(t.min,e,n,r,i),t.max=Jk(t.max,e,n,r,i)}function DD(t,{x:e,y:n}){Bw(t.x,e.translate,e.scale,e.originPoint),Bw(t.y,n.translate,n.scale,n.originPoint)}function YQ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_c(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DD(t,o)),r&&_a(s.latestValues)&&_c(t,s.latestValues))}e.x=Zk(e.x),e.y=Zk(e.y)}function Zk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function oo(t,e){t.min=t.min+e,t.max=t.max+e}function eP(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=ht(t.min,t.max,s);Bw(t,e[n],e[r],o,e.scale)}const QQ=["x","scaleX","originX"],XQ=["y","scaleY","originY"];function _c(t,e){eP(t.x,e,QQ),eP(t.y,e,XQ)}function MD(t,e){return ND(KQ(t.getBoundingClientRect(),e))}function JQ(t,e,n){const r=MD(t,n),{scroll:i}=e;return i&&(oo(r.x,i.offset.x),oo(r.y,i.offset.y)),r}const LD=({current:t})=>t?t.ownerDocument.defaultView:null,ZQ=new WeakMap;class eX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ty(u,"page").point)},s=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Q4(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(S=>{let b=this.getAxisMotionValue(S).get()||0;if(Hi.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[S];T&&(b=gr(T)*(parseFloat(b)/100))}}this.originPoint[S]=b}),v&&qe.postRender(()=>v(u,h));const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=tX(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Rr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new AD(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:LD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&qe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!vm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BQ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&gc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=zQ(i.layoutBox,n):this.constraints=!1,this.elastic=qQ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HQ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=JQ(r,i.root,this.visualElement.getTransformPagePoint());let o=UQ(i.layout.layoutBox,s);if(n){const a=n(GQ(o));this.hasMutatedConstraints=!!a,a&&(o=ND(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Rr(u=>{if(!vm(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(FE(e,r,0,n,this.visualElement))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rr(n=>{const{drag:r}=this.getProps();if(!vm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ht(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=WQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!vm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ht(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZQ.set(this.visualElement,this);const e=this.visualElement.current,n=Ts(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=vs(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Rr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=jw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function vm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nX extends Jo{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new eX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const tP=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class rX extends Jo{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new AD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tP(e),onStart:tP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&qe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ts(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function FD(){const t=E.useContext(Df);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function iX(){return sX(E.useContext(Df))}function sX(t){return t===null?!0:t.isPresent}const og={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=nP(t,e.target.x),r=nP(t,e.target.y);return`${n}% ${r}%`}},oX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$o.parse(t);if(i.length>5)return r;const s=$o.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ht(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class aX extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sK(lX),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),og.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VD(t){const[e,n]=FD(),r=E.useContext(yE);return g.jsx(aX,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(D4),isPresent:e,safeToRemove:n})}const lX={borderRadius:{...Sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:oX},jD=["TopLeft","TopRight","BottomLeft","BottomRight"],cX=jD.length,rP=t=>typeof t=="string"?parseFloat(t):t,iP=t=>typeof t=="number"||oe.test(t);function uX(t,e,n,r,i,s){i?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,dX(r)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,hX(r))):s&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<cX;o++){const a=`border${jD[o]}Radius`;let l=sP(e,a),c=sP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||iP(l)===iP(c)?(t[a]=Math.max(ht(rP(l),rP(c),r),0),(Hi.test(c)||Hi.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function sP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dX=$D(0,.5,SD),hX=$D(.5,.95,An);function $D(t,e,n){return r=>r<t?0:r>e?1:n(af(t,e,r))}function oP(t,e){t.min=e.min,t.max=e.max}function Pr(t,e){oP(t.x,e.x),oP(t.y,e.y)}function aP(t,e,n,r,i){return t-=e,t=sv(t,1/n,r),i!==void 0&&(t=sv(t,1/i,r)),t}function fX(t,e=0,n=1,r=.5,i,s=t,o=t){if(Hi.test(e)&&(e=parseFloat(e),e=ht(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ht(s.min,s.max,r);t===s&&(a-=e),t.min=aP(t.min,e,n,a,i),t.max=aP(t.max,e,n,a,i)}function lP(t,e,[n,r,i],s,o){fX(t,e[n],e[r],e[i],e.scale,s,o)}const pX=["x","scaleX","originX"],mX=["y","scaleY","originY"];function cP(t,e,n,r){lP(t.x,e,pX,n?n.x:void 0,r?r.x:void 0),lP(t.y,e,mX,n?n.y:void 0,r?r.y:void 0)}function uP(t){return t.translate===0&&t.scale===1}function BD(t){return uP(t.x)&&uP(t.y)}function gX(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function zD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function dP(t){return gr(t.x)/gr(t.y)}class vX{constructor(){this.members=[]}add(e){VE(this.members,e),e.scheduleRender()}remove(e){if(jE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hP(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yX=(t,e)=>t.depth-e.depth;class _X{constructor(){this.children=[],this.isDirty=!1}add(e){VE(this.children,e),this.isDirty=!0}remove(e){jE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yX),this.isDirty=!1,this.children.forEach(e)}}function wX(t,e){const n=Po.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(jo(r),t(s-e))};return qe.read(r,!0),()=>jo(r)}function bX(t){window.MotionDebug&&window.MotionDebug.record(t)}function SX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function EX(t,e,n){const r=In(t)?t:lf(t);return r.start(FE("",r,e,n)),r.animation}const F_=["","X","Y","Z"],TX={visibility:"hidden"},fP=1e3;let xX=0;const wa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function V_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function UD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=xX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wa.totalNodes=wa.resolvedTargetDeltas=wa.recalculatedProjection=0,this.nodes.forEach(kX),this.nodes.forEach(OX),this.nodes.forEach(DX),this.nodes.forEach(PX),bX(wa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _X)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $E),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=wX(f,250),og.hasAnimatedSinceResize&&(og.hasAnimatedSinceResize=!1,this.nodes.forEach(mP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||jX,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!zD(this.targetLayout,v)||p,T=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const A={...kE(y,"layout"),onPlay:S,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||mP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pP);return}this.isUpdating||this.nodes.forEach(RX),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(NX),this.nodes.forEach(CX),this.nodes.forEach(IX),this.clearAllSnapshots();const a=Po.now();rn.delta=Vo(0,1e3/60,a-rn.timestamp),rn.timestamp=a,rn.isProcessing=!0,I_.update.process(rn),I_.preRender.process(rn),I_.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mE.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(AX),this.sharedNodes.forEach(LX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!BD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||_a(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$X(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(oo(a.x,l.offset.x),oo(a.y,l.offset.y)),a}removeElementScroll(o){const a=bt();Pr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){Pr(a,o);const{scroll:f}=this.root;f&&(oo(a.x,-f.offset.x),oo(a.y,-f.offset.y))}oo(a.x,u.offset.x),oo(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=bt();Pr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_c(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),_a(u.latestValues)&&_c(l,u.latestValues)}return _a(this.latestValues)&&_c(l,this.latestValues),l}removeTransform(o){const a=bt();Pr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!_a(c.latestValues))continue;$w(c.latestValues)&&c.updateSnapshot();const u=bt(),h=c.measurePageBox();Pr(u,h),cP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return _a(this.latestValues)&&cP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),fh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$Q(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),DD(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),fh(this.relativeTargetOrigin,this.target,p.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||OD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Pr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;YQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bt());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=yc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yc(),this.projectionDeltaWithTransform=yc());const y=this.projectionTransform;hh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=hP(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),wa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=bt(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,S=this.getStack(),b=!S||S.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(VX));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const D=A/1e3;gP(h.x,o.x,D),gP(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FX(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&gX(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=bt()),Pr(T,this.relativeTarget)),y&&(this.animationValues=u,uX(u,c,this.latestValues,D,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{og.hasAnimatedSinceResize=!0,this.currentAnimation=EX(0,fP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&WD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bt();const h=gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Pr(a,l),_c(a,u),hh(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&V_("z",o,c,this.animationValues);for(let u=0;u<F_.length;u++)V_(`rotate${F_[u]}`,o,c,this.animationValues),V_(`skew${F_[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ig(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ig(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=hP(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:v}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ev){if(f[y]===void 0)continue;const{correct:S,applyTo:b}=ev[y],w=c.transform==="none"?f[y]:S(f[y],h);if(b){const T=b.length;for(let A=0;A<T;A++)c[b[A]]=w}else c[y]=w}return this.options.layoutId&&(c.pointerEvents=h===this?ig(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pP),this.root.sharedNodes.clear()}}}function CX(t){t.updateLayout()}function IX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Rr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=gr(f);f.min=r[h].min,f.max=f.min+p}):WD(s,n.layoutBox,r)&&Rr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=gr(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=yc();hh(a,r,n.layoutBox);const l=yc();o?hh(l,t.applyTransform(i,!0),n.measuredBox):hh(l,r,n.layoutBox);const c=!BD(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=bt();fh(v,n.layoutBox,f.layoutBox);const y=bt();fh(y,r,p.layoutBox),zD(v,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kX(t){wa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AX(t){t.clearSnapshot()}function pP(t){t.clearMeasurements()}function RX(t){t.isLayoutDirty=!1}function NX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OX(t){t.resolveTargetDelta()}function DX(t){t.calcProjection()}function MX(t){t.resetSkewAndRotation()}function LX(t){t.removeLeadSnapshot()}function gP(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vP(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function FX(t,e,n,r){vP(t.x,e.x,n.x,r),vP(t.y,e.y,n.y,r)}function VX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jX={duration:.45,ease:[.4,0,.1,1]},yP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_P=yP("applewebkit/")&&!yP("chrome/")?Math.round:An;function wP(t){t.min=_P(t.min),t.max=_P(t.max)}function $X(t){wP(t.x),wP(t.y)}function WD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vw(dP(e),dP(n),.2)}const BX=UD({attachResizeListener:(t,e)=>vs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),j_={current:void 0},HD=UD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!j_.current){const t=new BX({});t.mount(window),t.setOptions({layoutScroll:!0}),j_.current=t}return j_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zX={pan:{Feature:rX},drag:{Feature:nX,ProjectionNode:HD,MeasureLayout:VD}},zw={current:null},qD={current:!1};function UX(){if(qD.current=!0,!!hE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zw.current=t.matches;t.addListener(e),e()}else zw.current=!1}function WX(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(In(s))t.addValue(i,s),iv(r)&&r.add(i);else if(In(o))t.addValue(i,lf(s,{owner:t})),iv(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,lf(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const bP=new WeakMap,HX=[...iD,bn,$o],qX=t=>HX.find(rD(t)),GD=Object.keys(sf),GX=GD.length,SP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],KX=vE.length;function KD(t){if(t)return t.options.allowProjection!==!1?t.projection:KD(t.parent)}class YX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(f,p,v,y)=>new this.KeyframeResolver(f,p,v,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ey(n),this.isVariantNode=O4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&In(p)&&(p.set(l[f],!1),iv(u)&&u.add(f))}}mount(e){this.current=e,bP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qD.current||UX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;bP.delete(this.current),this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=gl.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<GX;l++){const c=GD[l],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:p}=sf[c];f&&(o=f),u(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,KD(this.parent));const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&gc(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SP.length;r++){const i=SP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=WX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<KX;r++){const i=vE[r],s=this.props[i];(rf(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(tD(i)||eD(i))?i=parseFloat(i):!qX(i)&&$o.test(n)&&(i=hD(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=IE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $E),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YD extends YX{constructor(){super(...arguments),this.KeyframeResolver=fD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function QX(t){return window.getComputedStyle(t)}class XX extends YD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(gl.has(n)){const r=RE(n);return r&&r.default||0}else{const r=QX(e),i=(F4(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MD(e,n)}build(e,n,r,i){SE(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return CE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){z4(e,n,r,i)}}class JX extends YD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gl.has(n)){const r=RE(n);return r&&r.default||0}return n=U4.has(n)?n:pE(n),e.getAttribute(n)}measureInstanceViewportBox(){return bt()}scrapeMotionValuesFromProps(e,n,r){return H4(e,n,r)}build(e,n,r,i){TE(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){W4(e,n,r,i)}mount(e){this.isSVGTag=xE(e.tagName),super.mount(e)}}const ZX=(t,e)=>_E(t)?new JX(e,{enableHardwareAcceleration:!1}):new XX(e,{allowProjection:t!==E.Fragment,enableHardwareAcceleration:!0}),eJ={layout:{ProjectionNode:HD,MeasureLayout:VD}},tJ={...LQ,...GK,...zX,...eJ},vl=rK((t,e)=>DK(t,e,tJ,ZX));function QD(){const t=E.useRef(!1);return fE(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nJ(){const t=QD(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>qe.postRender(r),[r]),e]}class rJ extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iJ({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=E.useContext(dE);return E.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.jsx(rJ,{isPresent:e,childRef:r,sizeRef:i,children:E.cloneElement(t,{ref:r})})}const $_=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=q4(sJ),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random()]:[n]);return E.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(iJ,{isPresent:n,children:t})),g.jsx(Df.Provider,{value:c,children:t})};function sJ(){return new Map}function oJ(t){return E.useEffect(()=>()=>t(),[])}const ba=t=>t.key||"";function aJ(t,e){t.forEach(n=>{const r=ba(n);e.set(r,n)})}function lJ(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Au=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(yE).forceRender||nJ()[0],l=QD(),c=lJ(t);let u=c;const h=E.useRef(new Map).current,f=E.useRef(u),p=E.useRef(new Map).current,v=E.useRef(!0);if(fE(()=>{v.current=!1,aJ(c,p),f.current=u}),oJ(()=>{v.current=!0,p.clear(),h.clear()}),v.current)return g.jsx(g.Fragment,{children:u.map(w=>g.jsx($_,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o,children:w},ba(w)))});u=[...u];const y=f.current.map(ba),S=c.map(ba),b=y.length;for(let w=0;w<b;w++){const T=y[w];S.indexOf(T)===-1&&!h.has(T)&&h.set(T,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((w,T)=>{if(S.indexOf(T)!==-1)return;const A=p.get(T);if(!A)return;const D=y.indexOf(T);let V=w;if(!V){const C=()=>{h.delete(T);const x=Array.from(p.keys()).filter(I=>!S.includes(I));if(x.forEach(I=>p.delete(I)),f.current=c.filter(I=>{const P=ba(I);return P===T||x.includes(P)}),!h.size){if(l.current===!1)return;a(),r&&r()}};V=g.jsx($_,{isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:s,mode:o,children:A},ba(A)),h.set(T,V)}u.splice(D,0,V)}),u=u.map(w=>{const T=w.key;return h.has(T)?w:g.jsx($_,{isPresent:!0,presenceAffectsLayout:s,mode:o,children:w},ba(w))}),g.jsx(g.Fragment,{children:h.size?u:u.map(w=>E.cloneElement(w))})};var cJ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},XD=E.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=cJ,toastSpacing:u="0.5rem"}=t,[h,f]=E.useState(a),p=iX();pk(()=>{p||r==null||r()},[p]),pk(()=>{f(a)},[a]);const v=()=>f(null),y=()=>f(a),S=()=>{p&&i()};E.useEffect(()=>{p&&s&&i()},[p,s,i]),WG(S,h);const b=E.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),w=E.useMemo(()=>zG(o),[o]);return g.jsx(vl.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:v,onHoverEnd:y,custom:{position:o},style:w,children:g.jsx(ee.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:b,children:ji(n,{id:e,onClose:S})})})});XD.displayName="ToastComponent";function uJ(t,e){var n;const r=t??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=s==null?void 0:s[e])!=null?n:r}var EP={path:g.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[g.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),g.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),g.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Ru=he((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=t,u=Ee("chakra-icon",a),h=br("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...h},p={ref:e,focusable:s,className:u,__css:f},v=r??EP.viewBox;if(n&&typeof n!="string")return g.jsx(ee.svg,{as:n,...p,...c});const y=o??EP.path;return g.jsx(ee.svg,{verticalAlign:"middle",viewBox:v,...p,...c,children:y})});Ru.displayName="Icon";function JD(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:i={}}=t,s=E.Children.toArray(t.path),o=he((a,l)=>g.jsx(Ru,{ref:l,viewBox:e,...i,...a,children:s.length?s:g.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}function dJ(t){return g.jsx(Ru,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function hJ(t){return g.jsx(Ru,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function TP(t){return g.jsx(Ru,{viewBox:"0 0 24 24",...t,children:g.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var fJ=XS({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Iy=he((t,e)=>{const n=br("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=Xt(t),c=Ee("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${fJ} ${s} linear infinite`,...n};return g.jsx(ee.div,{ref:e,__css:u,className:c,...l,children:r&&g.jsx(ee.span,{srOnly:!0,children:r})})});Iy.displayName="Spinner";var[pJ,BE]=Yr({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[mJ,zE]=Yr({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),ZD={info:{icon:hJ,colorScheme:"blue"},warning:{icon:TP,colorScheme:"orange"},success:{icon:dJ,colorScheme:"green"},error:{icon:TP,colorScheme:"red"},loading:{icon:Iy,colorScheme:"blue"}};function gJ(t){return ZD[t].colorScheme}function vJ(t){return ZD[t].icon}var eM=he(function(e,n){const r=zE(),{status:i}=BE(),s={display:"inline",...r.description};return g.jsx(ee.div,{ref:n,"data-status":i,...e,className:Ee("chakra-alert__desc",e.className),__css:s})});eM.displayName="AlertDescription";function ky(t){const{status:e}=BE(),n=vJ(e),r=zE(),i=e==="loading"?r.spinner:r.icon;return g.jsx(ee.span,{display:"inherit","data-status":e,...t,className:Ee("chakra-alert__icon",t.className),__css:i,children:t.children||g.jsx(n,{h:"100%",w:"100%"})})}ky.displayName="AlertIcon";var tM=he(function(e,n){const r=zE(),{status:i}=BE();return g.jsx(ee.div,{ref:n,"data-status":i,...e,className:Ee("chakra-alert__title",e.className),__css:r.title})});tM.displayName="AlertTitle";var Py=he(function(e,n){var r;const{status:i="info",addRole:s=!0,...o}=Xt(e),a=(r=e.colorScheme)!=null?r:gJ(i),l=ml("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return g.jsx(pJ,{value:{status:i},children:g.jsx(mJ,{value:l,children:g.jsx(ee.div,{"data-status":i,role:s?"alert":void 0,ref:n,...o,className:Ee("chakra-alert",e.className),__css:c})})})});Py.displayName="Alert";function yJ(t){return g.jsx(Ru,{focusable:"false","aria-hidden":!0,...t,children:g.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Ay=he(function(e,n){const r=br("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=Xt(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return g.jsx(ee.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||g.jsx(yJ,{width:"1em",height:"1em"})})});Ay.displayName="CloseButton";var _J={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Fi=wJ(_J);function wJ(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=bJ(i,s),{position:a,id:l}=o;return r(c=>{var u,h;const p=a.includes("top")?[o,...(u=c[a])!=null?u:[]]:[...(h=c[a])!=null?h:[],o];return{...c,[a]:p}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=fk(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:nM(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=P4(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!fk(Fi.getState(),i).position}}var xP=0;function bJ(t,e={}){var n,r;xP+=1;const i=(n=e.id)!=null?n:xP,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Fi.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var SJ=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return g.jsxs(Py,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[g.jsx(ky,{children:c}),g.jsxs(ee.div,{flex:"1",maxWidth:"100%",children:[i&&g.jsx(tM,{id:u==null?void 0:u.title,children:i}),a&&g.jsx(eM,{id:u==null?void 0:u.description,display:"block",children:a})]}),s&&g.jsx(Ay,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function nM(t={}){const{render:e,toastComponent:n=SJ}=t;return i=>typeof e=="function"?e({...i,...t}):g.jsx(n,{...i,...t})}function EJ(t,e){const n=i=>{var s;return{...e,...i,position:uJ((s=i==null?void 0:i.position)!=null?s:e==null?void 0:e.position,t)}},r=i=>{const s=n(i),o=nM(s);return Fi.notify(o,s)};return r.update=(i,s)=>{Fi.update(i,n(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...ji(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...ji(s.error,a)}))},r.closeAll=Fi.closeAll,r.close=Fi.close,r.isActive=Fi.isActive,r}var[TJ,xJ]=Yr({name:"ToastOptionsContext",strict:!1}),CJ=t=>{const e=E.useSyncExternalStore(Fi.subscribe,Fi.getState,Fi.getState),{motionVariants:n,component:r=XD,portalProps:i}=t,o=Object.keys(e).map(a=>{const l=e[a];return g.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:UG(a),children:g.jsx(Au,{initial:!1,children:l.map(c=>g.jsx(r,{motionVariants:n,...c},c.id))})},a)});return g.jsx(ku,{...i,children:o})};function IJ(t){const{theme:e}=ZO(),n=xJ();return E.useMemo(()=>EJ(e.direction,{...n,...t}),[t,e.direction,n])}var kJ=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return g.jsxs($G,{theme:r,...s,children:[g.jsx(TJ,{value:i==null?void 0:i.defaultOptions,children:n}),g.jsx(CJ,{...i})]})},PJ=kJ(w4);function AJ(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Bo(...t){return e=>{t.forEach(n=>{AJ(n,e)})}}function RJ(...t){return E.useMemo(()=>Bo(...t),t)}var CP={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},$a={enter:{duration:.2,ease:CP.easeOut},exit:{duration:.1,ease:CP.easeIn}},Ba={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},NJ={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:Ba.enter($a.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:Ba.exit($a.exit,n),transitionEnd:e==null?void 0:e.exit}}},rM={initial:"exit",animate:"enter",exit:"exit",variants:NJ},OJ=E.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,...c}=e,u=i||r?"enter":"exit",h=r?i&&r:!0,f={transition:o,transitionEnd:a,delay:l};return g.jsx(Au,{custom:f,children:h&&g.jsx(vl.div,{ref:n,className:Ee("chakra-fade",s),custom:f,...rM,animate:u,...c})})});OJ.displayName="Fade";var DJ={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:Ba.exit($a.exit,i)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:Ba.enter($a.enter,n),transitionEnd:t==null?void 0:t.enter}}},iM={initial:"exit",animate:"enter",exit:"exit",variants:DJ},MJ=E.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:u,...h}=e,f=r?i&&r:!0,p=i||r?"enter":"exit",v={initialScale:o,reverse:s,transition:l,transitionEnd:c,delay:u};return g.jsx(Au,{custom:v,children:f&&g.jsx(vl.div,{ref:n,className:Ee("chakra-offset-slide",a),...iM,animate:p,custom:v,...h})})});MJ.displayName="ScaleFade";var LJ={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,x:t,y:e,transition:(s=n==null?void 0:n.exit)!=null?s:Ba.exit($a.exit,i),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:Ba.enter($a.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:i,delay:s})=>{var o;const a={x:e,y:t};return{opacity:0,transition:(o=n==null?void 0:n.exit)!=null?o:Ba.exit($a.exit,s),...i?{...a,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...a,...r==null?void 0:r.exit}}}}},zd={initial:"initial",animate:"enter",exit:"exit",variants:LJ},FJ=E.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:u,delay:h,...f}=e,p=r?i&&r:!0,v=i||r?"enter":"exit",y={offsetX:a,offsetY:l,reverse:s,transition:c,transitionEnd:u,delay:h};return g.jsx(Au,{custom:y,children:p&&g.jsx(vl.div,{ref:n,className:Ee("chakra-offset-slide",o),custom:y,...zd,animate:v,...f})})});FJ.displayName="SlideFade";var[VJ,jJ]=Yr({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function $J(t){var e;const n=t.split(" "),r=(e=n[0])!=null?e:"",i=n.length>1?n[n.length-1]:"";return r&&i?`${r.charAt(0)}${i.charAt(0)}`:r.charAt(0)}function sM(t){const{name:e,getInitials:n,...r}=t,i=jJ();return g.jsx(ee.div,{role:"img","aria-label":e,...r,__css:i.label,children:e?n==null?void 0:n(e):null})}sM.displayName="AvatarName";var oM=t=>g.jsxs(ee.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[g.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),g.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),Uw=he(function(e,n){const{htmlWidth:r,htmlHeight:i,alt:s,...o}=e;return g.jsx("img",{width:r,height:i,ref:n,alt:s,...o})});Uw.displayName="NativeImage";function aM(t){const{loading:e,src:n,srcSet:r,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[c,u]=E.useState("pending");E.useEffect(()=>{u(n?"loading":"pending")},[n]);const h=E.useRef(),f=E.useCallback(()=>{if(!n)return;p();const v=new Image;v.src=n,o&&(v.crossOrigin=o),r&&(v.srcset=r),a&&(v.sizes=a),e&&(v.loading=e),v.onload=y=>{p(),u("loaded"),i==null||i(y)},v.onerror=y=>{p(),u("failed"),s==null||s(y)},h.current=v},[n,o,r,a,i,s,e]),p=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return Jh(()=>{if(!l)return c==="loading"&&f(),()=>{p()}},[c,f,l]),l?"loaded":c}var BJ=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function zJ(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var vi=he(function(e,n){const{fallbackSrc:r,fallback:i,src:s,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:u,crossOrigin:h,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:p,...v}=e,y=r!==void 0||i!==void 0,S=c!=null||u||!y,b=aM({...e,crossOrigin:h,ignoreFallback:S}),w=BJ(b,f),T={ref:n,objectFit:l,objectPosition:a,...S?v:zJ(v,["onError","onLoad"])};return w?i||g.jsx(ee.img,{as:Uw,className:"chakra-image__placeholder",src:r,...T}):g.jsx(ee.img,{as:Uw,src:s,srcSet:o,crossOrigin:h,loading:c,referrerPolicy:p,className:"chakra-image",...T})});vi.displayName="Image";function lM(t){const{src:e,srcSet:n,onError:r,onLoad:i,getInitials:s,name:o,borderRadius:a,loading:l,iconLabel:c,icon:u=g.jsx(oM,{}),ignoreFallback:h,referrerPolicy:f,crossOrigin:p}=t,y=aM({src:e,onError:r,crossOrigin:p,ignoreFallback:h})==="loaded";return!e||!y?o?g.jsx(sM,{className:"chakra-avatar__initials",getInitials:s,name:o}):E.cloneElement(u,{role:"img","aria-label":c}):g.jsx(ee.img,{src:e,srcSet:n,alt:o,onLoad:i,referrerPolicy:f,crossOrigin:p??void 0,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}lM.displayName="AvatarImage";var cM={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},Ji=he((t,e)=>{const n=ml("Avatar",t),[r,i]=E.useState(!1),{src:s,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:u,onLoad:h,getInitials:f=$J,icon:p=g.jsx(oM,{}),iconLabel:v=" avatar",loading:y,children:S,borderColor:b,ignoreFallback:w,crossOrigin:T,referrerPolicy:A,...D}=Xt(t),V={borderRadius:c,borderWidth:l?"2px":void 0,...cM,...n.container};return b&&(V.borderColor=b),g.jsx(ee.span,{ref:e,...D,className:Ee("chakra-avatar",t.className),"data-loaded":ai(r),__css:V,children:g.jsxs(VJ,{value:n,children:[g.jsx(lM,{src:s,srcSet:o,loading:y,onLoad:ar(h,()=>{i(!0)}),onError:u,getInitials:f,name:a,borderRadius:c,icon:p,iconLabel:v,ignoreFallback:w,crossOrigin:T,referrerPolicy:A}),S]})})});Ji.displayName="Avatar";function UE(t){return E.Children.toArray(t).filter(e=>E.isValidElement(e))}function UJ(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var uM=he(function(e,n){const r=ml("Avatar",e),{children:i,borderColor:s,max:o,spacing:a="-0.75rem",borderRadius:l="full",...c}=Xt(e),u=UE(i),h=o!=null?u.slice(0,o):u,f=o!=null?u.length-o:0,v=h.reverse().map((b,w)=>{var T;const D={marginEnd:w===0?0:a,size:e.size,borderColor:(T=b.props.borderColor)!=null?T:s,showBorder:!0};return E.cloneElement(b,UJ(D))}),y={display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"row-reverse",...r.group},S={borderRadius:l,marginStart:a,...cM,...r.excessLabel};return g.jsxs(ee.div,{ref:n,role:"group",__css:y,...c,className:Ee("chakra-avatar__group",e.className),children:[f>0&&g.jsx(ee.span,{className:"chakra-avatar__excess",__css:S,children:`+${f}`}),v]})});uM.displayName="AvatarGroup";var[_ge,WJ]=Yr({strict:!1,name:"ButtonGroupContext"});function HJ(t){const[e,n]=E.useState(!t);return{ref:E.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function Ww(t){const{children:e,className:n,...r}=t,i=E.isValidElement(e)?E.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=Ee("chakra-button__icon",n);return g.jsx(ee.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}Ww.displayName="ButtonIcon";function Hw(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=g.jsx(Iy,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=Ee("chakra-button__spinner",s),c=n==="start"?"marginEnd":"marginStart",u=E.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return g.jsx(ee.div,{className:l,...a,__css:u,children:i})}Hw.displayName="ButtonSpinner";var Nt=he((t,e)=>{const n=WJ(),r=br("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:h="0.5rem",type:f,spinner:p,spinnerPlacement:v="start",className:y,as:S,...b}=Xt(t),w=E.useMemo(()=>{const V={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:V}}},[r,n]),{ref:T,type:A}=HJ(S),D={rightIcon:c,leftIcon:l,iconSpacing:h,children:a};return g.jsxs(ee.button,{ref:RJ(e,T),as:S,type:f??A,"data-active":ai(o),"data-loading":ai(s),__css:w,className:Ee("chakra-button",y),...b,disabled:i||s,children:[s&&v==="start"&&g.jsx(Hw,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:h,children:p}),s?u||g.jsx(ee.span,{opacity:0,children:g.jsx(IP,{...D})}):g.jsx(IP,{...D}),s&&v==="end"&&g.jsx(Hw,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:h,children:p})]})});Nt.displayName="Button";function IP(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return g.jsxs(g.Fragment,{children:[e&&g.jsx(Ww,{marginEnd:i,children:e}),r,n&&g.jsx(Ww,{marginStart:i,children:n})]})}var[qJ,dM]=Yr({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[GJ,Ry]=Yr({strict:!1,name:"FormControlContext"});function KJ(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=t,a=E.useId(),l=e||`field-${a}`,c=`${l}-label`,u=`${l}-feedback`,h=`${l}-helptext`,[f,p]=E.useState(!1),[v,y]=E.useState(!1),[S,b]=E.useState(!1),w=E.useCallback((C={},x=null)=>({id:h,...C,ref:Bo(x,I=>{I&&y(!0)})}),[h]),T=E.useCallback((C={},x=null)=>({...C,ref:x,"data-focus":ai(S),"data-disabled":ai(i),"data-invalid":ai(r),"data-readonly":ai(s),id:C.id!==void 0?C.id:c,htmlFor:C.htmlFor!==void 0?C.htmlFor:l}),[l,i,S,r,s,c]),A=E.useCallback((C={},x=null)=>({id:u,...C,ref:Bo(x,I=>{I&&p(!0)}),"aria-live":"polite"}),[u]),D=E.useCallback((C={},x=null)=>({...C,...o,ref:x,role:"group","data-focus":ai(S),"data-disabled":ai(i),"data-invalid":ai(r),"data-readonly":ai(s)}),[o,i,S,r,s]),V=E.useCallback((C={},x=null)=>({...C,ref:x,role:"presentation","aria-hidden":!0,children:C.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!S,onFocus:()=>b(!0),onBlur:()=>b(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:v,setHasHelpText:y,id:l,labelId:c,feedbackId:u,helpTextId:h,htmlProps:o,getHelpTextProps:w,getErrorMessageProps:A,getRootProps:D,getLabelProps:T,getRequiredIndicatorProps:V}}var wc=he(function(e,n){const r=ml("Form",e),i=Xt(e),{getRootProps:s,htmlProps:o,...a}=KJ(i),l=Ee("chakra-form-control",e.className);return g.jsx(GJ,{value:a,children:g.jsx(qJ,{value:r,children:g.jsx(ee.div,{...s({},n),className:l,__css:r.container})})})});wc.displayName="FormControl";var YJ=he(function(e,n){const r=Ry(),i=dM(),s=Ee("chakra-form__helper-text",e.className);return g.jsx(ee.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});YJ.displayName="FormHelperText";var ph=he(function(e,n){var r;const i=br("FormLabel",e),s=Xt(e),{className:o,children:a,requiredIndicator:l=g.jsx(hM,{}),optionalIndicator:c=null,...u}=s,h=Ry(),f=(r=h==null?void 0:h.getLabelProps(u,n))!=null?r:{ref:n,...u};return g.jsxs(ee.label,{...f,className:Ee("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...i},children:[a,h!=null&&h.isRequired?l:c]})});ph.displayName="FormLabel";var hM=he(function(e,n){const r=Ry(),i=dM();if(!(r!=null&&r.isRequired))return null;const s=Ee("chakra-form__required-indicator",e.className);return g.jsx(ee.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:s})});hM.displayName="RequiredIndicator";function fM(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=QJ(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":l_(n),"aria-required":l_(i),"aria-readonly":l_(r)}}function QJ(t){var e,n,r;const i=Ry(),{id:s,disabled:o,readOnly:a,required:l,isRequired:c,isInvalid:u,isReadOnly:h,isDisabled:f,onFocus:p,onBlur:v,...y}=t,S=t["aria-describedby"]?[t["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&S.push(i.feedbackId),i!=null&&i.hasHelpText&&S.push(i.helpTextId),{...y,"aria-describedby":S.join(" ")||void 0,id:s??(i==null?void 0:i.id),isDisabled:(e=o??f)!=null?e:i==null?void 0:i.isDisabled,isReadOnly:(n=a??h)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??c)!=null?r:i==null?void 0:i.isRequired,isInvalid:u??(i==null?void 0:i.isInvalid),onFocus:ar(i==null?void 0:i.onFocus,p),onBlur:ar(i==null?void 0:i.onBlur,v)}}function B_(t,e,n,r){const i=Zg(n);return E.useEffect(()=>{const s=typeof t=="function"?t():t??document;if(!(!n||!s))return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,t,r,i,n]),()=>{const s=typeof t=="function"?t():t??document;s==null||s.removeEventListener(e,i,r)}}function XJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qw="data-focus-lock",pM="data-focus-lock-disabled",JJ="data-no-focus-lock",ZJ="data-autofocus-inside",eZ="data-no-autofocus";function z_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tZ(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var nZ=typeof window<"u"?E.useLayoutEffect:E.useEffect,kP=new WeakMap;function mM(t,e){var n=tZ(null,function(r){return t.forEach(function(i){return z_(i,r)})});return nZ(function(){var r=kP.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||z_(a,null)}),s.forEach(function(a){i.has(a)||z_(a,o)})}kP.set(n,t)},[t]),n}var U_={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Vi=function(){return Vi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vi.apply(this,arguments)};function jf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rZ(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function gM(t){return t}function vM(t,e){e===void 0&&(e=gM);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function WE(t,e){return e===void 0&&(e=gM),vM(t,e)}function yM(t){t===void 0&&(t={});var e=vM(null);return e.options=Vi({async:!0,ssr:!1},t),e}var _M=function(t){var e=t.sideCar,n=jf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Vi({},n))};_M.isSideCarExport=!0;function iZ(t,e){return t.useMedium(e),_M}var wM=WE({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),bM=WE(),sZ=WE(),oZ=yM({async:!0,ssr:typeof document<"u"}),aZ=E.createContext(void 0),lZ=[],HE=E.forwardRef(function(e,n){var r,i=E.useState(),s=i[0],o=i[1],a=E.useRef(),l=E.useRef(!1),c=E.useRef(null),u=E.useState({}),h=u[1],f=e.children,p=e.disabled,v=p===void 0?!1:p,y=e.noFocusGuards,S=y===void 0?!1:y,b=e.persistentFocus,w=b===void 0?!1:b,T=e.crossFrame,A=T===void 0?!0:T,D=e.autoFocus,V=D===void 0?!0:D;e.allowTextSelection;var C=e.group,x=e.className,I=e.whiteList,P=e.hasPositiveIndices,O=e.shards,F=O===void 0?lZ:O,N=e.as,$e=N===void 0?"div":N,pe=e.lockProps,fe=pe===void 0?{}:pe,me=e.sideCar,H=e.returnFocus,K=H===void 0?!1:H,ne=e.focusOptions,ge=e.onActivation,ce=e.onDeactivation,te=E.useState({}),Xe=te[0],Ae=E.useCallback(function(Jt){var ir=Jt.captureFocusRestore;if(!c.current){var Tr,Wn=(Tr=document)==null?void 0:Tr.activeElement;c.current=Wn,Wn!==document.body&&(c.current=ir(Wn))}a.current&&ge&&ge(a.current),l.current=!0,h()},[ge]),Je=E.useCallback(function(){l.current=!1,ce&&ce(a.current),h()},[ce]),mt=E.useCallback(function(Jt){var ir=c.current;if(ir){var Tr=(typeof ir=="function"?ir():ir)||document.body,Wn=typeof K=="function"?K(Tr):K;if(Wn){var Vt=typeof Wn=="object"?Wn:void 0;c.current=null,Jt?Promise.resolve().then(function(){return Tr.focus(Vt)}):Tr.focus(Vt)}}},[K]),Lt=E.useCallback(function(Jt){l.current&&wM.useMedium(Jt)},[]),Sr=bM.useMedium,Un=E.useCallback(function(Jt){a.current!==Jt&&(a.current=Jt,o(Jt))},[]),On=Xa((r={},r[pM]=v&&"disabled",r[qw]=C,r),fe),Re=S!==!0,Ft=Re&&S!=="tail",Er=mM([n,Un]),Qr=E.useMemo(function(){return{observed:a,shards:F,enabled:!v,active:l.current}},[v,l.current,F,s]);return E.createElement(E.Fragment,null,Re&&[E.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:U_}),P?E.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:U_}):null],!v&&E.createElement(me,{id:Xe,sideCar:oZ,observed:s,disabled:v,persistentFocus:w,crossFrame:A,autoFocus:V,whiteList:I,shards:F,onActivation:Ae,onDeactivation:Je,returnFocus:mt,focusOptions:ne}),E.createElement($e,Xa({ref:Er},On,{className:x,onBlur:Sr,onFocus:Lt}),E.createElement(aZ.Provider,{value:Qr},f)),Ft&&E.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:U_}))});HE.propTypes={};function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function cZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gw(t,e)}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function uZ(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t){var e=uZ(t,"string");return cf(e)=="symbol"?e:e+""}function hZ(t,e,n){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(c){return c.props})),e(o)}var l=function(c){cZ(u,c);function u(){return c.apply(this,arguments)||this}u.peek=function(){return o};var h=u.prototype;return h.componentDidMount=function(){s.push(this),a()},h.componentDidUpdate=function(){a()},h.componentWillUnmount=function(){var p=s.indexOf(this);s.splice(p,1),a()},h.render=function(){return Fr.createElement(i,this.props)},u}(E.PureComponent);return hZ(l,"displayName","SideEffect("+n(i)+")"),l}}var Zi=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},Ja=function(t){return Array.isArray(t)?t:[t]},SM=function(t){return Array.isArray(t)?t[0]:t},pZ=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},EM=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},TM=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},mZ=function(t){return t.hasAttribute("inert")},gZ=function(t,e){return!t||TM(t)||!pZ(t)&&!mZ(t)&&e(EM(t))},xM=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=gZ(e,xM.bind(void 0,t));return t.set(e,r),r},vZ=function(t,e){return t&&!TM(t)?wZ(t)?e(EM(t)):!1:!0},CM=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=vZ(e,CM.bind(void 0,t));return t.set(e,r),r},IM=function(t){return t.dataset},yZ=function(t){return t.tagName==="BUTTON"},kM=function(t){return t.tagName==="INPUT"},PM=function(t){return kM(t)&&t.type==="radio"},_Z=function(t){return!((kM(t)||yZ(t))&&(t.type==="hidden"||t.disabled))},wZ=function(t){var e=t.getAttribute(eZ);return![!0,"true",""].includes(e)},qE=function(t){var e;return!!(t&&(!((e=IM(t))===null||e===void 0)&&e.focusGuard))},Kw=function(t){return!qE(t)},bZ=function(t){return!!t},SZ=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),i=n-r,s=t.index-e.index;if(i){if(!n)return 1;if(!r)return-1}return i||s},EZ=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},GE=function(t,e,n){return Zi(t).map(function(r,i){var s=EZ(r);return{node:r,index:i,tabIndex:n&&s===-1?(r.dataset||{}).focusGuard?0:-1:s}}).filter(function(r){return!e||r.tabIndex>=0}).sort(SZ)},TZ=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],KE=TZ.join(","),xZ="".concat(KE,", [data-focus-guard]"),AM=function(t,e){return Zi((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?xZ:KE)?[r]:[],AM(r))},[])},CZ=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?nu([t.contentDocument.body],e):[t]},nu=function(t,e){return t.reduce(function(n,r){var i,s=AM(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return CZ(a,e)}));return n.concat(o,r.parentNode?Zi(r.parentNode.querySelectorAll(KE)).filter(function(a){return a===r}):[])},[])},IZ=function(t){var e=t.querySelectorAll("[".concat(ZJ,"]"));return Zi(e).map(function(n){return nu([n])}).reduce(function(n,r){return n.concat(r)},[])},YE=function(t,e){return Zi(t).filter(function(n){return xM(e,n)}).filter(function(n){return _Z(n)})},PP=function(t,e){return e===void 0&&(e=new Map),Zi(t).filter(function(n){return CM(e,n)})},QE=function(t,e,n){return GE(YE(nu(t,n),e),!0,n)},ov=function(t,e){return GE(YE(nu(t),e),!1)},kZ=function(t,e){return YE(IZ(t),e)},za=function(t,e){return t.shadowRoot?za(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Zi(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?za(i,e):!1}return za(n,e)})},PZ=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},RM=function(t){return t.parentNode?RM(t.parentNode):t},XE=function(t){var e=Ja(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(qw);return n.push.apply(n,i?PZ(Zi(RM(r).querySelectorAll("[".concat(qw,'="').concat(i,'"]:not([').concat(pM,'="disabled"])')))):[r]),n},[])},AZ=function(t){try{return t()}catch{return}},uf=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?uf(e.shadowRoot):e instanceof HTMLIFrameElement&&AZ(function(){return e.contentWindow.document})?uf(e.contentWindow.document):e}},RZ=function(t,e){return t===e},NZ=function(t,e){return!!Zi(t.querySelectorAll("iframe")).some(function(n){return RZ(n,e)})},NM=function(t,e){return e===void 0&&(e=uf(SM(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:XE(t).some(function(n){return za(n,e)||NZ(n,e)})},OZ=function(t){t===void 0&&(t=document);var e=uf(t);return e?Zi(t.querySelectorAll("[".concat(JJ,"]"))).some(function(n){return za(n,e)}):!1},DZ=function(t,e){return e.filter(PM).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},JE=function(t,e){return PM(t)&&t.name?DZ(t,e):t},MZ=function(t){var e=new Set;return t.forEach(function(n){return e.add(JE(n,t))}),t.filter(function(n){return e.has(n)})},AP=function(t){return t[0]&&t.length>1?JE(t[0],t):t[0]},RP=function(t,e){return t.indexOf(JE(e,t))},Yw="NEW_FOCUS",LZ=function(t,e,n,r,i){var s=t.length,o=t[0],a=t[s-1],l=qE(r);if(!(r&&t.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,u=i?n.indexOf(i):c,h=i?t.indexOf(i):-1;if(c===-1)return h!==-1?h:Yw;if(h===-1)return Yw;var f=c-u,p=n.indexOf(o),v=n.indexOf(a),y=MZ(n),S=r!==void 0?y.indexOf(r):-1,b=S-(i?y.indexOf(i):c);if(!f&&h>=0||e.length===0)return h;var w=RP(t,e[0]),T=RP(t,e[e.length-1]);if(c<=p&&l&&Math.abs(f)>1)return T;if(c>=v&&l&&Math.abs(f)>1)return w;if(f&&Math.abs(b)>1)return h;if(c<=p)return T;if(c>v)return w;if(f)return Math.abs(f)>1?h:(s+h+f)%s}},FZ=function(t){return function(e){var n,r=(n=IM(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},NP=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=PP(r.filter(FZ(n)));return i&&i.length?AP(i):AP(PP(e))},Qw=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&Qw(t.parentNode.host||t.parentNode,e),e},W_=function(t,e){for(var n=Qw(t),r=Qw(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},OM=function(t,e,n){var r=Ja(t),i=Ja(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=W_(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=W_(s,l);c&&(!o||za(c,o)?o=c:o=W_(c,o))})}),o},OP=function(t,e){return t.reduce(function(n,r){return n.concat(kZ(r,e))},[])},VZ=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(bZ)},jZ=function(t,e){var n=uf(Ja(t).length>0?document:SM(t).ownerDocument),r=XE(t).filter(Kw),i=OM(n||t,t,r),s=new Map,o=ov(r,s),a=o.filter(function(v){var y=v.node;return Kw(y)});if(a[0]){var l=ov([i],s).map(function(v){var y=v.node;return y}),c=VZ(l,a),u=c.map(function(v){var y=v.node;return y}),h=c.filter(function(v){var y=v.tabIndex;return y>=0}).map(function(v){var y=v.node;return y}),f=LZ(u,h,l,n,e);if(f===Yw){var p=NP(o,h,OP(r,s))||NP(o,u,OP(r,s));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:c[f]}},$Z=function(t){var e=XE(t).filter(Kw),n=OM(t,t,e),r=GE(nu([n],!0),!0,!0),i=nu(e,!1);return r.map(function(s){var o=s.node,a=s.index;return{node:o,index:a,lockItem:i.indexOf(o)>=0,guard:qE(o)}})},ZE=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},H_=0,q_=!1,DM=function(t,e,n){n===void 0&&(n={});var r=jZ(t,e);if(!q_&&r){if(H_>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),q_=!0,setTimeout(function(){q_=!1},1);return}H_++,ZE(r.node,n.focusOptions),H_--}};function Ed(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var BZ=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:Ed(n),parent:Ed(n.parentElement),left:Ed(n.previousElementSibling),right:Ed(n.nextElementSibling)}),n=n.parentElement;return{element:Ed(t),stack:e,ownerDocument:t.ownerDocument}},zZ=function(t){var e,n,r,i,s;if(t)for(var o=t.stack,a=t.ownerDocument,l=new Map,c=0,u=o;c<u.length;c++){var h=u[c],f=(e=h.parent)===null||e===void 0?void 0:e.call(h);if(f&&a.contains(f)){for(var p=(n=h.left)===null||n===void 0?void 0:n.call(h),v=h.current(),y=f.contains(v)?v:void 0,S=(r=h.right)===null||r===void 0?void 0:r.call(h),b=QE([f],l),w=(s=(i=y??(p==null?void 0:p.nextElementSibling))!==null&&i!==void 0?i:S)!==null&&s!==void 0?s:p;w;){for(var T=0,A=b;T<A.length;T++){var D=A[T];if(w!=null&&w.contains(D.node))return D.node}w=w.nextElementSibling}if(b.length)return b[0].node}}},UZ=function(t){var e=BZ(t);return function(){return zZ(e)}},WZ=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=Ja(e);if(r.every(function(o){return!za(o,t)}))return console.error("Active element is not contained in the scope"),{};var i=n?QE(r,new Map):ov(r,new Map),s=i.findIndex(function(o){var a=o.node;return a===t});if(s!==-1)return{prev:i[s-1],next:i[s+1],first:i[0],last:i[i.length-1]}},HZ=function(t,e){var n=e?QE(Ja(t),new Map):ov(Ja(t),new Map);return{first:n[0],last:n[n.length-1]}},qZ=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},MM=function(t,e,n){e===void 0&&(e={});var r=qZ(e),i=WZ(t,r.scope,r.onlyTabbable);if(i){var s=n(i,r.cycle);s&&ZE(s.node,r.focusOptions)}},GZ=function(t,e){e===void 0&&(e={}),MM(t,e,function(n,r){var i=n.next,s=n.first;return i||r&&s})},KZ=function(t,e){e===void 0&&(e={}),MM(t,e,function(n,r){var i=n.prev,s=n.last;return i||r&&s})},LM=function(t,e,n){var r,i=HZ(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),s=i[n];s&&ZE(s.node,e.focusOptions)},YZ=function(t,e){e===void 0&&(e={}),LM(t,e,"first")},QZ=function(t,e){e===void 0&&(e={}),LM(t,e,"last")};function eT(t){setTimeout(t,1)}var XZ=function(e){return e&&"current"in e?e.current:e},JZ=function(){return document&&document.activeElement===document.body},ZZ=function(){return JZ()||OZ()},Lc=null,bc=null,Fc=null,df=!1,eee=function(){return!0},tee=function(e){return(Lc.whiteList||eee)(e)},nee=function(e,n){Fc={observerNode:e,portaledElement:n}},ree=function(e){return Fc&&Fc.portaledElement===e};function DP(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var iee=function(e){return e?!!df:df==="meanwhile"},see=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},oee=function(e,n){return n.some(function(r){return see(e,r,r)})},av=function(){var e=!1;if(Lc){var n=Lc,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=r||Fc&&Fc.portaledElement,u=document&&document.activeElement;if(c){var h=[c].concat(o.map(XZ).filter(Boolean));if((!u||tee(u))&&(i||iee(a)||!ZZ()||!bc&&s)&&(c&&!(NM(h)||u&&oee(u,h)||ree(u))&&(document&&!bc&&u&&!s?(u.blur&&u.blur(),document.body.focus()):(e=DM(h,bc,{focusOptions:l}),Fc={})),df=!1,bc=document&&document.activeElement),document&&u!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var f=document&&document.activeElement,p=$Z(h),v=p.map(function(y){var S=y.node;return S}).indexOf(f);v>-1&&(p.filter(function(y){var S=y.guard,b=y.node;return S&&b.dataset.focusAutoGuard}).forEach(function(y){var S=y.node;return S.removeAttribute("tabIndex")}),DP(v,p.length,1,p),DP(v,-1,-1,p))}}}return e},FM=function(e){av()&&e&&(e.stopPropagation(),e.preventDefault())},tT=function(){return eT(av)},aee=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||nee(r,n)},lee=function(){return null},VM=function(){df="just",eT(function(){df="meanwhile"})},cee=function(){document.addEventListener("focusin",FM),document.addEventListener("focusout",tT),window.addEventListener("blur",VM)},uee=function(){document.removeEventListener("focusin",FM),document.removeEventListener("focusout",tT),window.removeEventListener("blur",VM)};function dee(t){return t.filter(function(e){var n=e.disabled;return!n})}var jM={moveFocusInside:DM,focusInside:NM,focusNextElement:GZ,focusPrevElement:KZ,focusFirstElement:YZ,focusLastElement:QZ,captureFocusRestore:UZ};function hee(t){var e=t.slice(-1)[0];e&&!Lc&&cee();var n=Lc,r=n&&e&&e.id===n.id;Lc=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(bc=null,(!r||n.observed!==e.observed)&&e.onActivation(jM),av(),eT(av)):(uee(),bc=null)}wM.assignSyncMedium(aee);bM.assignMedium(tT);sZ.assignMedium(function(t){return t(jM)});const fee=fZ(dee,hee)(lee);var Xw=E.forwardRef(function(e,n){return E.createElement(HE,Xa({sideCar:fee,ref:n},e))}),$M=HE.propTypes||{};$M.sideCar;XJ($M,["sideCar"]);Xw.propTypes={};function pee(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function BM(t){var e;if(!pee(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function mee(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:i}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+i+r)}function gee(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function zM(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:BM(t)&&mee(t)?t:zM(gee(t))}var vee=t=>t.hasAttribute("tabindex");function yee(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function UM(t){return t.parentElement&&UM(t.parentElement)?!0:t.hidden}function _ee(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function wee(t){if(!BM(t)||UM(t)||yee(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():_ee(t)?!0:vee(t)}var bee=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],See=bee.join(),Eee=t=>t.offsetWidth>0&&t.offsetHeight>0;function Tee(t){const e=Array.from(t.querySelectorAll(See));return e.unshift(t),e.filter(n=>wee(n)&&Eee(n))}var MP,xee=(MP=Xw.default)!=null?MP:Xw,WM=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:s,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,u=E.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&Tee(r.current).length===0&&requestAnimationFrame(()=>{var v;(v=r.current)==null||v.focus()})},[e,r]),h=E.useCallback(()=>{var p;(p=n==null?void 0:n.current)==null||p.focus()},[n]),f=i&&!n;return g.jsx(xee,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:u,onDeactivation:h,returnFocus:f,children:s})};WM.displayName="FocusLock";var Cee=uG?E.useLayoutEffect:E.useEffect;function LP(t,e=[]){const n=E.useRef(t);return Cee(()=>{n.current=t}),E.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function Iee(t,e){const n=E.useId();return E.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function kee(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function $f(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=LP(n),o=LP(e),[a,l]=E.useState(t.defaultIsOpen||!1),[c,u]=kee(r,a),h=Iee(i,"disclosure"),f=E.useCallback(()=>{c||l(!1),o==null||o()},[c,o]),p=E.useCallback(()=>{c||l(!0),s==null||s()},[c,s]),v=E.useCallback(()=>{(u?f:p)()},[u,p,f]);return{isOpen:!!u,onOpen:p,onClose:f,onToggle:v,isControlled:c,getButtonProps:(y={})=>({...y,"aria-expanded":u,"aria-controls":h,onClick:mG(y.onClick,v)}),getDisclosureProps:(y={})=>({...y,hidden:!u,id:h})}}var[Pee,Aee]=Yr({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),nT=he(function(e,n){const r=ml("Input",e),{children:i,className:s,...o}=Xt(e),a=Ee("chakra-input__group",s),l={},c=UE(i),u=r.field;c.forEach(f=>{var p,v;r&&(u&&f.type.id==="InputLeftElement"&&(l.paddingStart=(p=u.height)!=null?p:u.h),u&&f.type.id==="InputRightElement"&&(l.paddingEnd=(v=u.height)!=null?v:u.h),f.type.id==="InputRightAddon"&&(l.borderEndRadius=0),f.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const h=c.map(f=>{var p,v;const y=uE({size:((p=f.props)==null?void 0:p.size)||e.size,variant:((v=f.props)==null?void 0:v.variant)||e.variant});return f.type.id!=="Input"?E.cloneElement(f,y):E.cloneElement(f,Object.assign(y,l,f.props))});return g.jsx(ee.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:g.jsx(Pee,{value:r,children:h})})});nT.displayName="InputGroup";var Ree=ee("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Ny=he(function(e,n){var r,i;const{placement:s="left",...o}=e,a=Aee(),l=a.field,u={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return g.jsx(Ree,{ref:n,__css:u,...o})});Ny.id="InputElement";Ny.displayName="InputElement";var HM=he(function(e,n){const{className:r,...i}=e,s=Ee("chakra-input__left-element",r);return g.jsx(Ny,{ref:n,placement:"left",className:s,...i})});HM.id="InputLeftElement";HM.displayName="InputLeftElement";var Oy=he(function(e,n){const{className:r,...i}=e,s=Ee("chakra-input__right-element",r);return g.jsx(Ny,{ref:n,placement:"right",className:s,...i})});Oy.id="InputRightElement";Oy.displayName="InputRightElement";var kn=he(function(e,n){const{htmlSize:r,...i}=e,s=ml("Input",i),o=Xt(i),a=fM(o),l=Ee("chakra-input",e.className);return g.jsx(ee.input,{size:r,...a,__css:s.field,ref:n,className:l})});kn.displayName="Input";kn.id="Input";var Ao=he(function(e,n){const r=br("Link",e),{className:i,isExternal:s,...o}=Xt(e);return g.jsx(ee.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Ee("chakra-link",i),...o,__css:r})});Ao.displayName="Link";var qM=he(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:c,autoRows:u,templateRows:h,autoColumns:f,templateColumns:p,...v}=e,y={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:f,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:h,gridTemplateColumns:p};return g.jsx(ee.div,{ref:n,__css:y,...v})});qM.displayName="Grid";function GM(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):jr(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}var be=he(function(e,n){const r=br("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=Xt(e),c=uE({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return g.jsx(ee.p,{ref:n,className:Ee("chakra-text",e.className),...c,...l,__css:r})});be.displayName="Text";var KM=t=>g.jsx(ee.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});KM.displayName="StackItem";function Nee(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":GM(n,i=>r[i])}}var mh=he((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:u,shouldWrapChildren:h,...f}=t,p=n?"row":r??"column",v=E.useMemo(()=>Nee({spacing:o,direction:p}),[o,p]),y=!!c,S=!h&&!y,b=E.useMemo(()=>{const T=UE(l);return S?T:T.map((A,D)=>{const V=typeof A.key<"u"?A.key:D,C=D+1===T.length,I=h?g.jsx(KM,{children:A},V):A;if(!y)return I;const P=E.cloneElement(c,{__css:v}),O=C?null:P;return g.jsxs(E.Fragment,{children:[I,O]},V)})},[c,v,y,S,h,l]),w=Ee("chakra-stack",u);return g.jsx(ee.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:p,flexWrap:a,gap:y?void 0:o,className:w,...f,children:b})});mh.displayName="Stack";var Si=he((t,e)=>g.jsx(mh,{align:"center",...t,direction:"column",ref:e}));Si.displayName="VStack";function FP(t){return GM(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var YM=he(function(e,n){const{area:r,colSpan:i,colStart:s,colEnd:o,rowEnd:a,rowSpan:l,rowStart:c,...u}=e,h=uE({gridArea:r,gridColumn:FP(i),gridRow:FP(l),gridColumnStart:s,gridColumnEnd:o,gridRowStart:c,gridRowEnd:a});return g.jsx(ee.div,{ref:n,__css:h,...u})});YM.displayName="GridItem";var QM=he(function(e,n){const r=br("Heading",e),{className:i,...s}=Xt(e);return g.jsx(ee.h2,{ref:n,className:Ee("chakra-heading",e.className),...s,__css:r})});QM.displayName="Heading";var ke=ee("div");ke.displayName="Box";var XM=he(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return g.jsx(ke,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});XM.displayName="Square";var Oee=he(function(e,n){const{size:r,...i}=e;return g.jsx(XM,{size:r,ref:n,borderRadius:"9999px",...i})});Oee.displayName="Circle";var Jw=ee("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Jw.displayName="Center";var Dee={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};he(function(e,n){const{axis:r="both",...i}=e;return g.jsx(ee.div,{ref:n,__css:Dee[r],...i,position:"absolute"})});var Nu=he(function(e,n){const{className:r,centerContent:i,...s}=Xt(e),o=br("Container",e);return g.jsx(ee.div,{ref:n,className:Ee("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Nu.displayName="Container";var Zw=he(function(e,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...u}=br("Divider",e),{className:h,orientation:f="horizontal",__css:p,...v}=Xt(e),y={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||a||"1px",width:"100%"}};return g.jsx(ee.hr,{ref:n,"aria-orientation":f,...v,__css:{...u,border:"0",borderColor:c,borderStyle:l,...y[f],...p},className:Ee("chakra-divider",h)})});Zw.displayName="Divider";var X=he(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,...u}=e,h={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return g.jsx(ee.div,{ref:n,__css:h,...u})});X.displayName="Flex";var Wl=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),on={arrowShadowColor:Wl("--popper-arrow-shadow-color"),arrowSize:Wl("--popper-arrow-size","8px"),arrowSizeHalf:Wl("--popper-arrow-size-half"),arrowBg:Wl("--popper-arrow-bg"),transformOrigin:Wl("--popper-transform-origin"),arrowOffset:Wl("--popper-arrow-offset")};function Mee(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var Lee={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},Fee=t=>Lee[t],VP={scroll:!0,resize:!0};function Vee(t){let e;return typeof t=="object"?e={enabled:!0,options:{...VP,...t}}:e={enabled:t,options:VP},e}var jee={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},$ee={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{jP(t)},effect:({state:t})=>()=>{jP(t)}},jP=t=>{t.elements.popper.style.setProperty(on.transformOrigin.var,Fee(t.placement))},Bee={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{zee(t)}},zee=t=>{var e;if(!t.placement)return;const n=Uee(t.placement);if((e=t.elements)!=null&&e.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:on.arrowSize.varRef,height:on.arrowSize.varRef,zIndex:-1});const r={[on.arrowSizeHalf.var]:`calc(${on.arrowSize.varRef} / 2 - 1px)`,[on.arrowOffset.var]:`calc(${on.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},Uee=t=>{if(t.startsWith("top"))return{property:"bottom",value:on.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:on.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:on.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:on.arrowOffset.varRef}},Wee={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{$P(t)},effect:({state:t})=>()=>{$P(t)}},$P=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=Mee(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:on.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Hee={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},qee={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Gee(t,e="ltr"){var n,r;const i=((n=Hee[t])==null?void 0:n[e])||t;return e==="ltr"?i:(r=qee[t])!=null?r:i}var er="top",Hr="bottom",qr="right",tr="left",rT="auto",Bf=[er,Hr,qr,tr],ru="start",hf="end",Kee="clippingParents",JM="viewport",Td="popper",Yee="reference",BP=Bf.reduce(function(t,e){return t.concat([e+"-"+ru,e+"-"+hf])},[]),ZM=[].concat(Bf,[rT]).reduce(function(t,e){return t.concat([e,e+"-"+ru,e+"-"+hf])},[]),Qee="beforeRead",Xee="read",Jee="afterRead",Zee="beforeMain",ete="main",tte="afterMain",nte="beforeWrite",rte="write",ite="afterWrite",ste=[Qee,Xee,Jee,Zee,ete,tte,nte,rte,ite];function Qi(t){return t?(t.nodeName||"").toLowerCase():null}function vr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Za(t){var e=vr(t).Element;return t instanceof e||t instanceof Element}function $r(t){var e=vr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function iT(t){if(typeof ShadowRoot>"u")return!1;var e=vr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ote(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!$r(s)||!Qi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function ate(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!$r(i)||!Qi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const lte={name:"applyStyles",enabled:!0,phase:"write",fn:ote,effect:ate,requires:["computeStyles"]};function qi(t){return t.split("-")[0]}var Ua=Math.max,lv=Math.min,iu=Math.round;function eb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function e5(){return!/^((?!chrome|android).)*safari/i.test(eb())}function su(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&$r(t)&&(i=t.offsetWidth>0&&iu(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&iu(r.height)/t.offsetHeight||1);var o=Za(t)?vr(t):window,a=o.visualViewport,l=!e5()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function sT(t){var e=su(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function t5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&iT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ms(t){return vr(t).getComputedStyle(t)}function cte(t){return["table","td","th"].indexOf(Qi(t))>=0}function Zo(t){return((Za(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dy(t){return Qi(t)==="html"?t:t.assignedSlot||t.parentNode||(iT(t)?t.host:null)||Zo(t)}function zP(t){return!$r(t)||Ms(t).position==="fixed"?null:t.offsetParent}function ute(t){var e=/firefox/i.test(eb()),n=/Trident/i.test(eb());if(n&&$r(t)){var r=Ms(t);if(r.position==="fixed")return null}var i=Dy(t);for(iT(i)&&(i=i.host);$r(i)&&["html","body"].indexOf(Qi(i))<0;){var s=Ms(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function zf(t){for(var e=vr(t),n=zP(t);n&&cte(n)&&Ms(n).position==="static";)n=zP(n);return n&&(Qi(n)==="html"||Qi(n)==="body"&&Ms(n).position==="static")?e:n||ute(t)||e}function oT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gh(t,e,n){return Ua(t,lv(e,n))}function dte(t,e,n){var r=gh(t,e,n);return r>n?n:r}function n5(){return{top:0,right:0,bottom:0,left:0}}function r5(t){return Object.assign({},n5(),t)}function i5(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hte=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,r5(typeof e!="number"?e:i5(e,Bf))};function fte(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=qi(n.placement),l=oT(a),c=[tr,qr].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=hte(i.padding,n),f=sT(s),p=l==="y"?er:tr,v=l==="y"?Hr:qr,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],S=o[l]-n.rects.reference[l],b=zf(s),w=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,T=y/2-S/2,A=h[p],D=w-f[u]-h[v],V=w/2-f[u]/2+T,C=gh(A,V,D),x=l;n.modifiersData[r]=(e={},e[x]=C,e.centerOffset=C-V,e)}}function pte(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||t5(e.elements.popper,i)&&(e.elements.arrow=i))}const mte={name:"arrow",enabled:!0,phase:"main",fn:fte,effect:pte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ou(t){return t.split("-")[1]}var gte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vte(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:iu(n*i)/i||0,y:iu(r*i)/i||0}}function UP(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,v=o.y,y=v===void 0?0:v,S=typeof u=="function"?u({x:p,y}):{x:p,y};p=S.x,y=S.y;var b=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),T=tr,A=er,D=window;if(c){var V=zf(n),C="clientHeight",x="clientWidth";if(V===vr(n)&&(V=Zo(n),Ms(V).position!=="static"&&a==="absolute"&&(C="scrollHeight",x="scrollWidth")),V=V,i===er||(i===tr||i===qr)&&s===hf){A=Hr;var I=h&&V===D&&D.visualViewport?D.visualViewport.height:V[C];y-=I-r.height,y*=l?1:-1}if(i===tr||(i===er||i===Hr)&&s===hf){T=qr;var P=h&&V===D&&D.visualViewport?D.visualViewport.width:V[x];p-=P-r.width,p*=l?1:-1}}var O=Object.assign({position:a},c&&gte),F=u===!0?vte({x:p,y},vr(n)):{x:p,y};if(p=F.x,y=F.y,l){var N;return Object.assign({},O,(N={},N[A]=w?"0":"",N[T]=b?"0":"",N.transform=(D.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",N))}return Object.assign({},O,(e={},e[A]=w?y+"px":"",e[T]=b?p+"px":"",e.transform="",e))}function yte(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:qi(e.placement),variation:ou(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UP(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UP(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yte,data:{}};var ym={passive:!0};function wte(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=vr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,ym)}),a&&l.addEventListener("resize",n.update,ym),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,ym)}),a&&l.removeEventListener("resize",n.update,ym)}}const bte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wte,data:{}};var Ste={left:"right",right:"left",bottom:"top",top:"bottom"};function ag(t){return t.replace(/left|right|bottom|top/g,function(e){return Ste[e]})}var Ete={start:"end",end:"start"};function WP(t){return t.replace(/start|end/g,function(e){return Ete[e]})}function aT(t){var e=vr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lT(t){return su(Zo(t)).left+aT(t).scrollLeft}function Tte(t,e){var n=vr(t),r=Zo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=e5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+lT(t),y:l}}function xte(t){var e,n=Zo(t),r=aT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ua(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ua(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+lT(t),l=-r.scrollTop;return Ms(i||n).direction==="rtl"&&(a+=Ua(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function cT(t){var e=Ms(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function s5(t){return["html","body","#document"].indexOf(Qi(t))>=0?t.ownerDocument.body:$r(t)&&cT(t)?t:s5(Dy(t))}function vh(t,e){var n;e===void 0&&(e=[]);var r=s5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=vr(r),o=i?[s].concat(s.visualViewport||[],cT(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(vh(Dy(o)))}function tb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Cte(t,e){var n=su(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function HP(t,e,n){return e===JM?tb(Tte(t,n)):Za(e)?Cte(e,n):tb(xte(Zo(t)))}function Ite(t){var e=vh(Dy(t)),n=["absolute","fixed"].indexOf(Ms(t).position)>=0,r=n&&$r(t)?zf(t):t;return Za(r)?e.filter(function(i){return Za(i)&&t5(i,r)&&Qi(i)!=="body"}):[]}function kte(t,e,n,r){var i=e==="clippingParents"?Ite(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=HP(t,c,r);return l.top=Ua(u.top,l.top),l.right=lv(u.right,l.right),l.bottom=lv(u.bottom,l.bottom),l.left=Ua(u.left,l.left),l},HP(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function o5(t){var e=t.reference,n=t.element,r=t.placement,i=r?qi(r):null,s=r?ou(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case er:l={x:o,y:e.y-n.height};break;case Hr:l={x:o,y:e.y+e.height};break;case qr:l={x:e.x+e.width,y:a};break;case tr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?oT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ru:l[c]=l[c]-(e[u]/2-n[u]/2);break;case hf:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function ff(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Kee:a,c=n.rootBoundary,u=c===void 0?JM:c,h=n.elementContext,f=h===void 0?Td:h,p=n.altBoundary,v=p===void 0?!1:p,y=n.padding,S=y===void 0?0:y,b=r5(typeof S!="number"?S:i5(S,Bf)),w=f===Td?Yee:Td,T=t.rects.popper,A=t.elements[v?w:f],D=kte(Za(A)?A:A.contextElement||Zo(t.elements.popper),l,u,o),V=su(t.elements.reference),C=o5({reference:V,element:T,strategy:"absolute",placement:i}),x=tb(Object.assign({},T,C)),I=f===Td?x:V,P={top:D.top-I.top+b.top,bottom:I.bottom-D.bottom+b.bottom,left:D.left-I.left+b.left,right:I.right-D.right+b.right},O=t.modifiersData.offset;if(f===Td&&O){var F=O[i];Object.keys(P).forEach(function(N){var $e=[qr,Hr].indexOf(N)>=0?1:-1,pe=[er,Hr].indexOf(N)>=0?"y":"x";P[N]+=F[pe]*$e})}return P}function Pte(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?ZM:l,u=ou(r),h=u?a?BP:BP.filter(function(v){return ou(v)===u}):Bf,f=h.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=h);var p=f.reduce(function(v,y){return v[y]=ff(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[qi(y)],v},{});return Object.keys(p).sort(function(v,y){return p[v]-p[y]})}function Ate(t){if(qi(t)===rT)return[];var e=ag(t);return[WP(t),e,WP(e)]}function Rte(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,y=n.allowedAutoPlacements,S=e.options.placement,b=qi(S),w=b===S,T=l||(w||!v?[ag(S)]:Ate(S)),A=[S].concat(T).reduce(function(Xe,Ae){return Xe.concat(qi(Ae)===rT?Pte(e,{placement:Ae,boundary:u,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:y}):Ae)},[]),D=e.rects.reference,V=e.rects.popper,C=new Map,x=!0,I=A[0],P=0;P<A.length;P++){var O=A[P],F=qi(O),N=ou(O)===ru,$e=[er,Hr].indexOf(F)>=0,pe=$e?"width":"height",fe=ff(e,{placement:O,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),me=$e?N?qr:tr:N?Hr:er;D[pe]>V[pe]&&(me=ag(me));var H=ag(me),K=[];if(s&&K.push(fe[F]<=0),a&&K.push(fe[me]<=0,fe[H]<=0),K.every(function(Xe){return Xe})){I=O,x=!1;break}C.set(O,K)}if(x)for(var ne=v?3:1,ge=function(Ae){var Je=A.find(function(mt){var Lt=C.get(mt);if(Lt)return Lt.slice(0,Ae).every(function(Sr){return Sr})});if(Je)return I=Je,"break"},ce=ne;ce>0;ce--){var te=ge(ce);if(te==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const Nte={name:"flip",enabled:!0,phase:"main",fn:Rte,requiresIfExists:["offset"],data:{_skip:!1}};function qP(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function GP(t){return[er,qr,Hr,tr].some(function(e){return t[e]>=0})}function Ote(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ff(e,{elementContext:"reference"}),a=ff(e,{altBoundary:!0}),l=qP(o,r),c=qP(a,i,s),u=GP(l),h=GP(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Dte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ote};function Mte(t,e,n){var r=qi(t),i=[tr,er].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[tr,qr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Lte(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=ZM.reduce(function(u,h){return u[h]=Mte(h,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Fte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lte};function Vte(t){var e=t.state,n=t.name;e.modifiersData[n]=o5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const jte={name:"popperOffsets",enabled:!0,phase:"read",fn:Vte,data:{}};function $te(t){return t==="x"?"y":"x"}function Bte(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,v=n.tetherOffset,y=v===void 0?0:v,S=ff(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),b=qi(e.placement),w=ou(e.placement),T=!w,A=oT(b),D=$te(A),V=e.modifiersData.popperOffsets,C=e.rects.reference,x=e.rects.popper,I=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(V){if(s){var N,$e=A==="y"?er:tr,pe=A==="y"?Hr:qr,fe=A==="y"?"height":"width",me=V[A],H=me+S[$e],K=me-S[pe],ne=p?-x[fe]/2:0,ge=w===ru?C[fe]:x[fe],ce=w===ru?-x[fe]:-C[fe],te=e.elements.arrow,Xe=p&&te?sT(te):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:n5(),Je=Ae[$e],mt=Ae[pe],Lt=gh(0,C[fe],Xe[fe]),Sr=T?C[fe]/2-ne-Lt-Je-P.mainAxis:ge-Lt-Je-P.mainAxis,Un=T?-C[fe]/2+ne+Lt+mt+P.mainAxis:ce+Lt+mt+P.mainAxis,On=e.elements.arrow&&zf(e.elements.arrow),Re=On?A==="y"?On.clientTop||0:On.clientLeft||0:0,Ft=(N=O==null?void 0:O[A])!=null?N:0,Er=me+Sr-Ft-Re,Qr=me+Un-Ft,Jt=gh(p?lv(H,Er):H,me,p?Ua(K,Qr):K);V[A]=Jt,F[A]=Jt-me}if(a){var ir,Tr=A==="x"?er:tr,Wn=A==="x"?Hr:qr,Vt=V[D],Xr=D==="y"?"height":"width",ts=Vt+S[Tr],Dn=Vt-S[Wn],Ci=[er,tr].indexOf(b)!==-1,Us=(ir=O==null?void 0:O[D])!=null?ir:0,_t=Ci?ts:Vt-C[Xr]-x[Xr]-Us+P.altAxis,xt=Ci?Vt+C[Xr]+x[Xr]-Us-P.altAxis:Dn,xr=p&&Ci?dte(_t,Vt,xt):gh(p?_t:ts,Vt,p?xt:Dn);V[D]=xr,F[D]=xr-Vt}e.modifiersData[r]=F}}const zte={name:"preventOverflow",enabled:!0,phase:"main",fn:Bte,requiresIfExists:["offset"]};function Ute(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Wte(t){return t===vr(t)||!$r(t)?aT(t):Ute(t)}function Hte(t){var e=t.getBoundingClientRect(),n=iu(e.width)/t.offsetWidth||1,r=iu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function qte(t,e,n){n===void 0&&(n=!1);var r=$r(e),i=$r(e)&&Hte(e),s=Zo(e),o=su(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qi(e)!=="body"||cT(s))&&(a=Wte(e)),$r(e)?(l=su(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=lT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Gte(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Kte(t){var e=Gte(t);return ste.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Yte(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Qte(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var KP={placement:"bottom",modifiers:[],strategy:"absolute"};function YP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xte(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?KP:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},KP,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(b){var w=typeof b=="function"?b(u.options):b;y(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:Za(a)?vh(a):a.contextElement?vh(a.contextElement):[],popper:vh(l)};var T=Kte(Qte([].concat(r,u.options.modifiers)));return u.orderedModifiers=T.filter(function(A){return A.enabled}),v(),p.update()},forceUpdate:function(){if(!f){var b=u.elements,w=b.reference,T=b.popper;if(YP(w,T)){u.rects={reference:qte(w,zf(T),u.options.strategy==="fixed"),popper:sT(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var A=0;A<u.orderedModifiers.length;A++){if(u.reset===!0){u.reset=!1,A=-1;continue}var D=u.orderedModifiers[A],V=D.fn,C=D.options,x=C===void 0?{}:C,I=D.name;typeof V=="function"&&(u=V({state:u,options:x,name:I,instance:p})||u)}}}},update:Yte(function(){return new Promise(function(S){p.forceUpdate(),S(u)})}),destroy:function(){y(),f=!0}};if(!YP(a,l))return p;p.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){u.orderedModifiers.forEach(function(S){var b=S.name,w=S.options,T=w===void 0?{}:w,A=S.effect;if(typeof A=="function"){var D=A({state:u,name:b,instance:p,options:T}),V=function(){};h.push(D||V)}})}function y(){h.forEach(function(S){return S()}),h=[]}return p}}var Jte=[bte,jte,_te,lte,Fte,Nte,zte,mte,Dte],Zte=Xte({defaultModifiers:Jte});function ene(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:u="clippingParents",preventOverflow:h=!0,matchWidth:f,direction:p="ltr"}=t,v=E.useRef(null),y=E.useRef(null),S=E.useRef(null),b=Gee(r,p),w=E.useRef(()=>{}),T=E.useCallback(()=>{var P;!e||!v.current||!y.current||((P=w.current)==null||P.call(w),S.current=Zte(v.current,y.current,{placement:b,modifiers:[Wee,Bee,$ee,{...jee,enabled:!!f},{name:"eventListeners",...Vee(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:u}},...n??[]],strategy:i}),S.current.forceUpdate(),w.current=S.current.destroy)},[b,e,n,f,o,s,a,l,c,h,u,i]);E.useEffect(()=>()=>{var P;!v.current&&!y.current&&((P=S.current)==null||P.destroy(),S.current=null)},[]);const A=E.useCallback(P=>{v.current=P,T()},[T]),D=E.useCallback((P={},O=null)=>({...P,ref:Bo(A,O)}),[A]),V=E.useCallback(P=>{y.current=P,T()},[T]),C=E.useCallback((P={},O=null)=>({...P,ref:Bo(V,O),style:{...P.style,position:i,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}}),[i,V,f]),x=E.useCallback((P={},O=null)=>{const{size:F,shadowColor:N,bg:$e,style:pe,...fe}=P;return{...fe,ref:O,"data-popper-arrow":"",style:tne(P)}},[]),I=E.useCallback((P={},O=null)=>({...P,ref:O,"data-popper-arrow-inner":""}),[]);return{update(){var P;(P=S.current)==null||P.update()},forceUpdate(){var P;(P=S.current)==null||P.forceUpdate()},transformOrigin:on.transformOrigin.varRef,referenceRef:A,popperRef:V,getPopperProps:C,getArrowProps:x,getArrowInnerProps:I,getReferenceProps:D}}function tne(t){const{size:e,shadowColor:n,bg:r,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function nne(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=Zg(n),o=Zg(e),[a,l]=E.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,u=r!==void 0,h=E.useId(),f=i??`disclosure-${h}`,p=E.useCallback(()=>{u||l(!1),o==null||o()},[u,o]),v=E.useCallback(()=>{u||l(!0),s==null||s()},[u,s]),y=E.useCallback(()=>{c?p():v()},[c,v,p]);function S(w={}){return{...w,"aria-expanded":c,"aria-controls":f,onClick(T){var A;(A=w.onClick)==null||A.call(w,T),y()}}}function b(w={}){return{...w,hidden:!c,id:f}}return{isOpen:c,onOpen:v,onClose:p,onToggle:y,isControlled:u,getButtonProps:S,getDisclosureProps:b}}var rne={slideInBottom:{...zd,custom:{offsetY:16,reverse:!0}},slideInRight:{...zd,custom:{offsetX:16,reverse:!0}},slideInTop:{...zd,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...zd,custom:{offsetX:-16,reverse:!0}},scale:{...iM,custom:{initialScale:.95,reverse:!0}},none:{}},ine=ee(vl.section),sne=t=>rne[t||"none"],a5=E.forwardRef((t,e)=>{const{preset:n,motionProps:r=sne(n),...i}=t;return g.jsx(ine,{ref:e,...r,...i})});a5.displayName="ModalTransition";var one=Object.defineProperty,ane=(t,e,n)=>e in t?one(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lne=(t,e,n)=>(ane(t,e+"",n),n),cne=class{constructor(){lne(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},nb=new cne;function l5(t,e){const[n,r]=E.useState(0);return E.useEffect(()=>{const i=t.current;if(i){if(e){const s=nb.add(i);r(s)}return()=>{nb.remove(i),r(0)}}},[e,t]),n}var une=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hl=new WeakMap,_m=new WeakMap,wm={},G_=0,c5=function(t){return t&&(t.host||c5(t.parentNode))},dne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=c5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hne=function(t,e,n,r){var i=dne(e,Array.isArray(t)?t:[t]);wm[n]||(wm[n]=new WeakMap);var s=wm[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),v=p!==null&&p!=="false",y=(Hl.get(f)||0)+1,S=(s.get(f)||0)+1;Hl.set(f,y),s.set(f,S),o.push(f),y===1&&v&&_m.set(f,!0),S===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),a.clear(),G_++,function(){o.forEach(function(h){var f=Hl.get(h)-1,p=s.get(h)-1;Hl.set(h,f),s.set(h,p),f||(_m.has(h)||h.removeAttribute(r),_m.delete(h)),p||h.removeAttribute(n)}),G_--,G_||(Hl=new WeakMap,Hl=new WeakMap,_m=new WeakMap,wm={})}},fne=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=une(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),hne(r,i,n,"aria-hidden")):function(){return null}};function pne(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=E.useRef(null),u=E.useRef(null),[h,f,p]=gne(r,"chakra-modal","chakra-modal--header","chakra-modal--body");mne(c,e&&o);const v=l5(c,e),y=E.useRef(null),S=E.useCallback(I=>{y.current=I.target},[]),b=E.useCallback(I=>{I.key==="Escape"&&(I.stopPropagation(),s&&(n==null||n()),l==null||l())},[s,n,l]),[w,T]=E.useState(!1),[A,D]=E.useState(!1),V=E.useCallback((I={},P=null)=>({role:"dialog",...I,ref:Bo(P,c),id:h,tabIndex:-1,"aria-modal":!0,"aria-labelledby":w?f:void 0,"aria-describedby":A?p:void 0,onClick:ar(I.onClick,O=>O.stopPropagation())}),[p,A,h,f,w]),C=E.useCallback(I=>{I.stopPropagation(),y.current===I.target&&nb.isTopModal(c.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),x=E.useCallback((I={},P=null)=>({...I,ref:Bo(P,u),onClick:ar(I.onClick,C),onKeyDown:ar(I.onKeyDown,b),onMouseDown:ar(I.onMouseDown,S)}),[b,S,C]);return{isOpen:e,onClose:n,headerId:f,bodyId:p,setBodyMounted:D,setHeaderMounted:T,dialogRef:c,overlayRef:u,getDialogProps:V,getDialogContainerProps:x,index:v}}function mne(t,e){const n=t.current;E.useEffect(()=>{if(!(!t.current||!e))return fne(t.current)},[e,t,n])}function gne(t,...e){const n=E.useId(),r=t||n;return E.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}var[vne,Ou]=Yr({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[yne,el]=Yr({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Du=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:h,motionPreset:f,lockFocusAcrossFrames:p,onCloseComplete:v}=e,y=ml("Modal",e),b={...pne(e),autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:h,motionPreset:f,lockFocusAcrossFrames:p};return g.jsx(yne,{value:b,children:g.jsx(vne,{value:y,children:g.jsx(Au,{onExitComplete:v,children:b.isOpen&&g.jsx(ku,{...n,children:r})})})})};Du.displayName="Modal";var lg="right-scroll-bar-position",cg="width-before-scroll-bar",_ne="with-scroll-bars-hidden",wne="--removed-body-scroll-bar-size",u5=yM(),K_=function(){},My=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:K_,onWheelCapture:K_,onTouchMoveCapture:K_}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,v=t.inert,y=t.allowPinchZoom,S=t.as,b=S===void 0?"div":S,w=t.gapMode,T=jf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,D=mM([n,e]),V=Vi(Vi({},T),i);return E.createElement(E.Fragment,null,u&&E.createElement(A,{sideCar:u5,removeScrollBar:c,shards:h,noIsolation:p,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?E.cloneElement(E.Children.only(a),Vi(Vi({},V),{ref:D})):E.createElement(b,Vi({},V,{className:l,ref:D}),a))});My.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};My.classNames={fullWidth:cg,zeroRight:lg};var bne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bne();return e&&t.setAttribute("nonce",e),t}function Ene(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Sne())&&(Ene(e,n),Tne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cne=function(){var t=xne();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},d5=function(){var t=Cne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ine={left:0,top:0,right:0,gap:0},Y_=function(t){return parseInt(t||"",10)||0},kne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Y_(n),Y_(r),Y_(i)]},Pne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ine;var e=kne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ane=d5(),Vc="data-scroll-locked",Rne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_ne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lg," .").concat(lg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cg," .").concat(cg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vc,`] {
    `).concat(wne,": ").concat(a,`px;
  }
`)},QP=function(){var t=parseInt(document.body.getAttribute(Vc)||"0",10);return isFinite(t)?t:0},Nne=function(){E.useEffect(function(){return document.body.setAttribute(Vc,(QP()+1).toString()),function(){var t=QP()-1;t<=0?document.body.removeAttribute(Vc):document.body.setAttribute(Vc,t.toString())}},[])},One=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Nne();var s=E.useMemo(function(){return Pne(i)},[i]);return E.createElement(Ane,{styles:Rne(s,!e,i,n?"":"!important")})},rb=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return rb=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{rb=!1}var ql=rb?{passive:!1}:!1,Dne=function(t){return t.tagName==="TEXTAREA"},h5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Dne(t)&&n[e]==="visible")},Mne=function(t){return h5(t,"overflowY")},Lne=function(t){return h5(t,"overflowX")},XP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=f5(t,r);if(i){var s=p5(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},f5=function(t,e){return t==="v"?Mne(e):Lne(e)},p5=function(t,e){return t==="v"?Fne(e):Vne(e)},jne=function(t,e){return t==="h"&&e==="rtl"?-1:1},$ne=function(t,e,n,r,i){var s=jne(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,f=0;do{var p=p5(t,a),v=p[0],y=p[1],S=p[2],b=y-S-s*v;(v||b)&&f5(t,a)&&(h+=b,f+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},Sm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},JP=function(t){return[t.deltaX,t.deltaY]},ZP=function(t){return t&&"current"in t?t.current:t},Bne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Une=0,Gl=[];function Wne(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(Une++)[0],s=E.useState(d5)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=rZ([t.lockRef.current],(t.shards||[]).map(ZP),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var b=Sm(y),w=n.current,T="deltaX"in y?y.deltaX:w[0]-b[0],A="deltaY"in y?y.deltaY:w[1]-b[1],D,V=y.target,C=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in y&&C==="h"&&V.type==="range")return!1;var x=XP(C,V);if(!x)return!0;if(x?D=C:(D=C==="v"?"h":"v",x=XP(C,V)),!x)return!1;if(!r.current&&"changedTouches"in y&&(T||A)&&(r.current=D),!D)return!0;var I=r.current||D;return $ne(I,S,y,I==="h"?T:A,!0)},[]),l=E.useCallback(function(y){var S=y;if(!(!Gl.length||Gl[Gl.length-1]!==s)){var b="deltaY"in S?JP(S):Sm(S),w=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&Bne(D.delta,b)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(ZP).filter(Boolean).filter(function(D){return D.contains(S.target)}),A=T.length>0?a(S,T[0]):!o.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),c=E.useCallback(function(y,S,b,w){var T={name:y,delta:S,target:b,should:w,shadowParent:Hne(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),u=E.useCallback(function(y){n.current=Sm(y),r.current=void 0},[]),h=E.useCallback(function(y){c(y.type,JP(y),y.target,a(y,t.lockRef.current))},[]),f=E.useCallback(function(y){c(y.type,Sm(y),y.target,a(y,t.lockRef.current))},[]);E.useEffect(function(){return Gl.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",u,ql),function(){Gl=Gl.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",u,ql)}},[]);var p=t.removeScrollBar,v=t.inert;return E.createElement(E.Fragment,null,v?E.createElement(s,{styles:zne(i)}):null,p?E.createElement(One,{gapMode:t.gapMode}):null)}function Hne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qne=iZ(u5,Wne);var m5=E.forwardRef(function(t,e){return E.createElement(My,Vi({},t,{ref:e,sideCar:qne}))});m5.classNames=My.classNames;function Gne(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:s,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:u,isOpen:h}=el(),[f,p]=FD();E.useEffect(()=>{!f&&p&&setTimeout(p)},[f,p]);const v=l5(r,h);return g.jsx(WM,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:u,children:g.jsx(m5,{removeScrollBar:!c,allowPinchZoom:o,enabled:v===1&&s,forwardProps:!0,children:t.children})})}var Mu=he((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=el(),c=a(o,e),u=l(i),h=Ee("chakra-modal__content",n),f=Ou(),p={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...f.dialog},v={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...f.dialogContainer},{motionPreset:y}=el();return g.jsx(Gne,{children:g.jsx(ee.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:v,children:g.jsx(a5,{preset:y,motionProps:s,className:h,...c,__css:p,children:r})})})});Mu.displayName="ModalContent";var g5=he((t,e)=>{const{className:n,...r}=t,i=Ee("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...Ou().footer};return g.jsx(ee.footer,{ref:e,...r,__css:o,className:i})});g5.displayName="ModalFooter";var Uf=he((t,e)=>{const{className:n,...r}=t,{headerId:i,setHeaderMounted:s}=el();E.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Ee("chakra-modal__header",n),l={flex:0,...Ou().header};return g.jsx(ee.header,{ref:e,className:o,id:i,...r,__css:l})});Uf.displayName="ModalHeader";var Kne=ee(vl.div),Lu=he((t,e)=>{const{className:n,transition:r,motionProps:i,...s}=t,o=Ee("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Ou().overlay},{motionPreset:c}=el(),h=i||(c==="none"?{}:rM);return g.jsx(Kne,{...h,__css:l,ref:e,className:o,...s})});Lu.displayName="ModalOverlay";var Fu=he((t,e)=>{const{className:n,...r}=t,{bodyId:i,setBodyMounted:s}=el();E.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Ee("chakra-modal__body",n),a=Ou();return g.jsx(ee.div,{ref:e,className:o,id:i,...r,__css:a.body})});Fu.displayName="ModalBody";var Vu=he((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:s}=el(),o=Ee("chakra-modal__close-btn",r),a=Ou();return g.jsx(Ay,{ref:e,__css:a.closeButton,className:o,onClick:ar(n,l=>{l.stopPropagation(),s()}),...i})});Vu.displayName="ModalCloseButton";function Yne(){const t=E.useRef(!0);return E.useEffect(()=>{t.current=!1},[]),t.current}function Qne(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}var Xne=ee("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),ib=se("skeleton-start-color"),sb=se("skeleton-end-color"),Jne=XS({from:{opacity:0},to:{opacity:1}}),Zne=XS({from:{borderColor:ib.reference,background:ib.reference},to:{borderColor:sb.reference,background:sb.reference}}),yi=he((t,e)=>{const n={...t,fadeDuration:typeof t.fadeDuration=="number"?t.fadeDuration:.4,speed:typeof t.speed=="number"?t.speed:.8},r=br("Skeleton",n),i=Yne(),{startColor:s="",endColor:o="",isLoaded:a,fadeDuration:l,speed:c,className:u,fitContent:h,...f}=Xt(n),[p,v]=yB("colors",[s,o]),y=Qne(a),S=Ee("chakra-skeleton",u),b={...p&&{[ib.variable]:p},...v&&{[sb.variable]:v}};if(a){const w=i||y?"none":`${Jne} ${l}s`;return g.jsx(ee.div,{ref:e,className:S,__css:{animation:w},...f})}return g.jsx(Xne,{ref:e,className:S,...f,__css:{width:h?"fit-content":void 0,...r,...b,_dark:{...r._dark,...b},animation:`${c}s linear infinite alternate ${Zne}`}})});yi.displayName="Skeleton";var Wf=({size:t="2rem",...e})=>g.jsx(yi,{borderRadius:"full",boxSize:t,...e});Wf.displayName="SkeletonCircle";function ere(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var tre=["h","minH","height","minHeight"],v5=he((t,e)=>{const n=br("Textarea",t),{className:r,rows:i,...s}=Xt(t),o=fM(s),a=i?ere(n,tre):n;return g.jsx(ee.textarea,{ref:e,rows:i,...o,className:Ee("chakra-textarea",r),__css:a})});v5.displayName="Textarea";var nre={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},ob=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},ug=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function rre(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:u,id:h,isOpen:f,defaultIsOpen:p,arrowSize:v=10,arrowShadowColor:y,arrowPadding:S,modifiers:b,isDisabled:w,gutter:T,offset:A,direction:D,...V}=t,{isOpen:C,onOpen:x,onClose:I}=nne({isOpen:f,defaultIsOpen:p,onOpen:l,onClose:c}),{referenceRef:P,getPopperProps:O,getArrowInnerProps:F,getArrowProps:N}=ene({enabled:C,placement:u,arrowPadding:S,modifiers:b,gutter:T,offset:A,direction:D}),$e=E.useId(),fe=`tooltip-${h??$e}`,me=E.useRef(null),H=E.useRef(),K=E.useCallback(()=>{H.current&&(clearTimeout(H.current),H.current=void 0)},[]),ne=E.useRef(),ge=E.useCallback(()=>{ne.current&&(clearTimeout(ne.current),ne.current=void 0)},[]),ce=E.useCallback(()=>{ge(),I()},[I,ge]),te=ire(me,ce),Xe=E.useCallback(()=>{if(!w&&!H.current){C&&te();const Re=ug(me);H.current=Re.setTimeout(x,e)}},[te,w,C,x,e]),Ae=E.useCallback(()=>{K();const Re=ug(me);ne.current=Re.setTimeout(ce,n)},[n,ce,K]),Je=E.useCallback(()=>{C&&r&&Ae()},[r,Ae,C]),mt=E.useCallback(()=>{C&&o&&Ae()},[o,Ae,C]),Lt=E.useCallback(Re=>{C&&Re.key==="Escape"&&Ae()},[C,Ae]);B_(()=>ob(me),"keydown",a?Lt:void 0),B_(()=>{if(!s)return null;const Re=me.current;if(!Re)return null;const Ft=zM(Re);return Ft.localName==="body"?ug(me):Ft},"scroll",()=>{C&&s&&ce()},{passive:!0,capture:!0}),E.useEffect(()=>{w&&(K(),C&&I())},[w,C,I,K]),E.useEffect(()=>()=>{K(),ge()},[K,ge]),B_(()=>me.current,"pointerleave",Ae);const Sr=E.useCallback((Re={},Ft=null)=>({...Re,ref:Bo(me,Ft,P),onPointerEnter:ar(Re.onPointerEnter,Qr=>{Qr.pointerType!=="touch"&&Xe()}),onClick:ar(Re.onClick,Je),onPointerDown:ar(Re.onPointerDown,mt),onFocus:ar(Re.onFocus,Xe),onBlur:ar(Re.onBlur,Ae),"aria-describedby":C?fe:void 0}),[Xe,Ae,mt,C,fe,Je,P]),Un=E.useCallback((Re={},Ft=null)=>O({...Re,style:{...Re.style,[on.arrowSize.var]:v?`${v}px`:void 0,[on.arrowShadowColor.var]:y}},Ft),[O,v,y]),On=E.useCallback((Re={},Ft=null)=>{const Er={...Re.style,position:"relative",transformOrigin:on.transformOrigin.varRef};return{ref:Ft,...V,...Re,id:fe,role:"tooltip",style:Er}},[V,fe]);return{isOpen:C,show:Xe,hide:Ae,getTriggerProps:Sr,getTooltipProps:On,getTooltipPositionerProps:Un,getArrowProps:N,getArrowInnerProps:F}}var Q_="chakra-ui:close-tooltip";function ire(t,e){return E.useEffect(()=>{const n=ob(t);return n.addEventListener(Q_,e),()=>n.removeEventListener(Q_,e)},[e,t]),()=>{const n=ob(t),r=ug(t);n.dispatchEvent(new r.CustomEvent(Q_))}}function sre(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function ore(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var are=ee(vl.div),yl=he((t,e)=>{var n,r;const i=br("Tooltip",t),s=Xt(t),o=ZS(),{children:a,label:l,shouldWrapChildren:c,"aria-label":u,hasArrow:h,bg:f,portalProps:p,background:v,backgroundColor:y,bgColor:S,motionProps:b,...w}=s,T=(r=(n=v??y)!=null?n:f)!=null?r:S;if(T){i.bg=T;const O=Lz(o,"colors",T);i[on.arrowBg.var]=O}const A=rre({...w,direction:o.direction}),D=typeof a=="string"||c;let V;if(D)V=g.jsx(ee.span,{display:"inline-block",tabIndex:0,...A.getTriggerProps(),children:a});else{const O=E.Children.only(a);V=E.cloneElement(O,A.getTriggerProps(O.props,O.ref))}const C=!!u,x=A.getTooltipProps({},e),I=C?sre(x,["role","id"]):x,P=ore(x,["role","id"]);return l?g.jsxs(g.Fragment,{children:[V,g.jsx(Au,{children:A.isOpen&&g.jsx(ku,{...p,children:g.jsx(ee.div,{...A.getTooltipPositionerProps(),__css:{zIndex:i.zIndex,pointerEvents:"none"},children:g.jsxs(are,{variants:nre,initial:"exit",animate:"enter",exit:"exit",...b,...I,__css:i,children:[l,C&&g.jsx(ee.span,{srOnly:!0,...P,children:u}),h&&g.jsx(ee.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:g.jsx(ee.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:i.bg}})})]})})})})]}):g.jsx(g.Fragment,{children:a})});yl.displayName="Tooltip";var lre={VITE_FIREBASE_API_KEY:"AIzaSyBFSq-4hJI_VC_uaFDjqYGnR5GQcYFRwM8",VITE_FIREBASE_AUTH_DOMAIN:"instagram-clone-9f597.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"instagram-clone-9f597",VITE_FIREBASE_STORAGE_BUCKET:"instagram-clone-9f597.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"757864955422",VITE_FIREBASE_APP_ID:"1:757864955422:web:a32bee07a471ff4605380f",VITE_FIREBASE_MEASUREMENT_ID:"G-K6Y53LNVNE",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const eA=t=>{let e;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(lre?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},cre=t=>t?eA(t):eA;var y5={exports:{}},_5={},w5={exports:{}},b5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=E;function ure(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dre=typeof Object.is=="function"?Object.is:ure,hre=au.useState,fre=au.useEffect,pre=au.useLayoutEffect,mre=au.useDebugValue;function gre(t,e){var n=e(),r=hre({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return pre(function(){i.value=n,i.getSnapshot=e,X_(i)&&s({inst:i})},[t,n,e]),fre(function(){return X_(i)&&s({inst:i}),t(function(){X_(i)&&s({inst:i})})},[t]),mre(n),n}function X_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dre(t,n)}catch{return!0}}function vre(t,e){return e()}var yre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vre:gre;b5.useSyncExternalStore=au.useSyncExternalStore!==void 0?au.useSyncExternalStore:yre;w5.exports=b5;var _re=w5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=E,wre=_re;function bre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sre=typeof Object.is=="function"?Object.is:bre,Ere=wre.useSyncExternalStore,Tre=Ly.useRef,xre=Ly.useEffect,Cre=Ly.useMemo,Ire=Ly.useDebugValue;_5.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Tre(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Cre(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return h=v}return h=p}if(v=h,Sre(u,p))return v;var y=r(p);return i!==void 0&&i(v,y)?v:(u=p,h=y)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Ere(t,s[0],s[1]);return xre(function(){o.hasValue=!0,o.value=a},[a]),Ire(a),a};y5.exports=_5;var kre=y5.exports;const Pre=jv(kre);var S5={VITE_FIREBASE_API_KEY:"AIzaSyBFSq-4hJI_VC_uaFDjqYGnR5GQcYFRwM8",VITE_FIREBASE_AUTH_DOMAIN:"instagram-clone-9f597.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"instagram-clone-9f597",VITE_FIREBASE_STORAGE_BUCKET:"instagram-clone-9f597.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"757864955422",VITE_FIREBASE_APP_ID:"1:757864955422:web:a32bee07a471ff4605380f",VITE_FIREBASE_MEASUREMENT_ID:"G-K6Y53LNVNE",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Are}=Fr,{useSyncExternalStoreWithSelector:Rre}=Pre;let tA=!1;const Nre=t=>t;function Ore(t,e=Nre,n){(S5?"production":void 0)!=="production"&&n&&!tA&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tA=!0);const r=Rre(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Are(r),r}const nA=t=>{(S5?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?cre(t):t,n=(r,i)=>Ore(e,r,i);return Object.assign(n,e),n},uT=t=>t?nA(t):nA,Tt=uT(t=>({user:JSON.parse(localStorage.getItem("user-info")),login:e=>t({user:e}),logout:()=>t({user:null}),setUser:e=>t({user:e})})),Ei=uT(t=>({userProfile:null,setUserProfile:e=>t({userProfile:e}),addPost:e=>t(n=>{var r;return{userProfile:{...n.userProfile,posts:[e.id,...((r=n.userProfile)==null?void 0:r.posts)||[]]}}}),deletePost:e=>t(n=>({userProfile:{...n.userProfile,posts:n.userProfile.posts.filter(r=>r!==e)}}))})),Ut=()=>{const t=IJ();return E.useCallback((n,r,i)=>{t({title:n,description:r,status:i,duration:3e3,isClosable:!0})},[t])};var rA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw ju(e)},ju=function(t){return new Error("Firebase Database ("+E5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Mre;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x5=function(t){const e=T5(t);return dT.encodeByteArray(e,!0)},cv=function(t){return x5(t).replace(/\./g,"")},uv=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){return C5(void 0,t)}function C5(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Fre(n)||(t[n]=C5(t[n],e[n]));return t}function Fre(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=()=>Vre().__FIREBASE_DEFAULTS__,$re=()=>{if(typeof process>"u"||typeof rA>"u")return;const t=rA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uv(t[1]);return e&&JSON.parse(e)},Fy=()=>{try{return jre()||$re()||Bre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I5=t=>{var e,n;return(n=(e=Fy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},k5=t=>{const e=I5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},P5=()=>{var t;return(t=Fy())===null||t===void 0?void 0:t.config},A5=t=>{var e;return(e=Fy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cv(JSON.stringify(n)),cv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function zre(){var t;const e=(t=Fy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ure(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wre(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O5(){return E5.NODE_ADMIN===!0}function Hre(){return!zre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qre(){try{return typeof indexedDB=="object"}catch{return!1}}function Gre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kre,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yre(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new es(i,a,r)}}function Yre(t,e){return t.replace(Qre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qre=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){return JSON.parse(t)}function an(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=pf(uv(s[0])||""),n=pf(uv(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Xre=function(t){const e=D5(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Jre=function(t){const e=D5(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ab(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dv(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function cu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iA(s)&&iA(o)){if(!cu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function eie(t,e){const n=new tie(t,e);return n.subscribe.bind(n)}class tie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nie(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=J_),i.error===void 0&&(i.error=J_),i.complete===void 0&&(i.complete=J_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function J_(){}function rie(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aie(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oie(t){return t===Sa?void 0:t}function aie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const cie={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},uie=we.INFO,die={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},hie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=die[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jy{constructor(e){this.name=e,this._logLevel=uie,this._logHandler=hie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const fie=(t,e)=>e.some(n=>t instanceof n);let sA,oA;function pie(){return sA||(sA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mie(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M5=new WeakMap,lb=new WeakMap,L5=new WeakMap,Z_=new WeakMap,pT=new WeakMap;function gie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ro(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M5.set(n,t)}).catch(()=>{}),pT.set(e,t),e}function vie(t){if(lb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lb.set(t,e)}let cb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yie(t){cb=t(cb)}function _ie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(e1(this),e,...n);return L5.set(r,e.sort?e.sort():[e]),Ro(r)}:mie().includes(t)?function(...e){return t.apply(e1(this),e),Ro(M5.get(this))}:function(...e){return Ro(t.apply(e1(this),e))}}function wie(t){return typeof t=="function"?_ie(t):(t instanceof IDBTransaction&&vie(t),fie(t,pie())?new Proxy(t,cb):t)}function Ro(t){if(t instanceof IDBRequest)return gie(t);if(Z_.has(t))return Z_.get(t);const e=wie(t);return e!==t&&(Z_.set(t,e),pT.set(e,t)),e}const e1=t=>pT.get(t);function bie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ro(o.result),l.oldVersion,l.newVersion,Ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sie=["get","getKey","getAll","getAllKeys","count"],Eie=["put","add","delete","clear"],t1=new Map;function aA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t1.get(e))return t1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sie.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return t1.set(e,s),s}yie(t=>({...t,get:(e,n,r)=>aA(e,n)||t.get(e,n,r),has:(e,n)=>!!aA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ub="@firebase/app",lA="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new jy("@firebase/app"),Cie="@firebase/app-compat",Iie="@firebase/analytics-compat",kie="@firebase/analytics",Pie="@firebase/app-check-compat",Aie="@firebase/app-check",Rie="@firebase/auth",Nie="@firebase/auth-compat",Oie="@firebase/database",Die="@firebase/database-compat",Mie="@firebase/functions",Lie="@firebase/functions-compat",Fie="@firebase/installations",Vie="@firebase/installations-compat",jie="@firebase/messaging",$ie="@firebase/messaging-compat",Bie="@firebase/performance",zie="@firebase/performance-compat",Uie="@firebase/remote-config",Wie="@firebase/remote-config-compat",Hie="@firebase/storage",qie="@firebase/storage-compat",Gie="@firebase/firestore",Kie="@firebase/vertexai-preview",Yie="@firebase/firestore-compat",Qie="firebase",Xie="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="[DEFAULT]",Jie={[ub]:"fire-core",[Cie]:"fire-core-compat",[kie]:"fire-analytics",[Iie]:"fire-analytics-compat",[Aie]:"fire-app-check",[Pie]:"fire-app-check-compat",[Rie]:"fire-auth",[Nie]:"fire-auth-compat",[Oie]:"fire-rtdb",[Die]:"fire-rtdb-compat",[Mie]:"fire-fn",[Lie]:"fire-fn-compat",[Fie]:"fire-iid",[Vie]:"fire-iid-compat",[jie]:"fire-fcm",[$ie]:"fire-fcm-compat",[Bie]:"fire-perf",[zie]:"fire-perf-compat",[Uie]:"fire-rc",[Wie]:"fire-rc-compat",[Hie]:"fire-gcs",[qie]:"fire-gcs-compat",[Gie]:"fire-fst",[Yie]:"fire-fst-compat",[Kie]:"fire-vertex","fire-js":"fire-js",[Qie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map,Zie=new Map,hb=new Map;function cA(t,e){try{t.container.addComponent(e)}catch(n){tl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(hb.has(e))return tl.debug(`There were multiple attempts to register component ${e}.`),!1;hb.set(e,t);for(const n of hv.values())cA(n,t);for(const n of Zie.values())cA(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Hf("app","Firebase",ese);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=Xie;function F5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:db,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(n||(n=P5()),!n)throw No.create("no-options");const s=hv.get(i);if(s){if(cu(n,s.options)&&cu(r,s.config))return s;throw No.create("duplicate-app",{appName:i})}const o=new lie(i);for(const l of hb.values())o.addComponent(l);const a=new tse(n,r,o);return hv.set(i,a),a}function mT(t=db){const e=hv.get(t);if(!e&&t===db&&P5())return F5();if(!e)throw No.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=Jie[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tl.warn(a.join(" "));return}zo(new Ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse="firebase-heartbeat-database",rse=1,mf="firebase-heartbeat-store";let n1=null;function V5(){return n1||(n1=bie(nse,rse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mf)}catch(n){console.warn(n)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),n1}async function ise(t){try{const n=(await V5()).transaction(mf),r=await n.objectStore(mf).get(j5(t));return await n.done,r}catch(e){if(e instanceof es)tl.warn(e.message);else{const n=No.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tl.warn(n.message)}}}async function uA(t,e){try{const r=(await V5()).transaction(mf,"readwrite");await r.objectStore(mf).put(e,j5(t)),await r.done}catch(n){if(n instanceof es)tl.warn(n.message);else{const r=No.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tl.warn(r.message)}}}function j5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=1024,ose=30*24*60*60*1e3;class ase{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ose}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dA(),{heartbeatsToSend:r,unsentEntries:i}=lse(this._heartbeatsCache.heartbeats),s=cv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function dA(){return new Date().toISOString().substring(0,10)}function lse(t,e=sse){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qre()?Gre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ise(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hA(t){return cv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function use(t){zo(new Ls("platform-logger",e=>new Tie(e),"PRIVATE")),zo(new Ls("heartbeat",e=>new ase(e),"PRIVATE")),Br(ub,lA,t),Br(ub,lA,"esm2017"),Br("fire-js","")}use("");var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,$5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function I(){}I.prototype=x.prototype,C.D=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,O,F){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return x.prototype[O].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,I){I||(I=0);var P=Array(16);if(typeof x=="string")for(var O=0;16>O;++O)P[O]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],O=C.g[2];var F=C.g[3],N=x+(F^I&(O^F))+P[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=F+(O^x&(I^O))+P[1]+3905402710&4294967295,F=x+(N<<12&4294967295|N>>>20),N=O+(I^F&(x^I))+P[2]+606105819&4294967295,O=F+(N<<17&4294967295|N>>>15),N=I+(x^O&(F^x))+P[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(F^I&(O^F))+P[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(O^x&(I^O))+P[5]+1200080426&4294967295,F=x+(N<<12&4294967295|N>>>20),N=O+(I^F&(x^I))+P[6]+2821735955&4294967295,O=F+(N<<17&4294967295|N>>>15),N=I+(x^O&(F^x))+P[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(F^I&(O^F))+P[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(O^x&(I^O))+P[9]+2336552879&4294967295,F=x+(N<<12&4294967295|N>>>20),N=O+(I^F&(x^I))+P[10]+4294925233&4294967295,O=F+(N<<17&4294967295|N>>>15),N=I+(x^O&(F^x))+P[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(F^I&(O^F))+P[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(O^x&(I^O))+P[13]+4254626195&4294967295,F=x+(N<<12&4294967295|N>>>20),N=O+(I^F&(x^I))+P[14]+2792965006&4294967295,O=F+(N<<17&4294967295|N>>>15),N=I+(x^O&(F^x))+P[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(O^F&(I^O))+P[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^O&(x^I))+P[6]+3225465664&4294967295,F=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(F^x))+P[11]+643717713&4294967295,O=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(O^F))+P[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^F&(I^O))+P[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^O&(x^I))+P[10]+38016083&4294967295,F=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(F^x))+P[15]+3634488961&4294967295,O=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(O^F))+P[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^F&(I^O))+P[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^O&(x^I))+P[14]+3275163606&4294967295,F=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(F^x))+P[3]+4107603335&4294967295,O=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(O^F))+P[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^F&(I^O))+P[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^O&(x^I))+P[2]+4243563512&4294967295,F=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(F^x))+P[7]+1735328473&4294967295,O=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(O^F))+P[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(I^O^F)+P[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^O)+P[8]+2272392833&4294967295,F=x+(N<<11&4294967295|N>>>21),N=O+(F^x^I)+P[11]+1839030562&4294967295,O=F+(N<<16&4294967295|N>>>16),N=I+(O^F^x)+P[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^F)+P[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^O)+P[4]+1272893353&4294967295,F=x+(N<<11&4294967295|N>>>21),N=O+(F^x^I)+P[7]+4139469664&4294967295,O=F+(N<<16&4294967295|N>>>16),N=I+(O^F^x)+P[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^F)+P[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^O)+P[0]+3936430074&4294967295,F=x+(N<<11&4294967295|N>>>21),N=O+(F^x^I)+P[3]+3572445317&4294967295,O=F+(N<<16&4294967295|N>>>16),N=I+(O^F^x)+P[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^F)+P[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^O)+P[12]+3873151461&4294967295,F=x+(N<<11&4294967295|N>>>21),N=O+(F^x^I)+P[15]+530742520&4294967295,O=F+(N<<16&4294967295|N>>>16),N=I+(O^F^x)+P[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(O^(I|~F))+P[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~O))+P[7]+1126891415&4294967295,F=x+(N<<10&4294967295|N>>>22),N=O+(x^(F|~I))+P[14]+2878612391&4294967295,O=F+(N<<15&4294967295|N>>>17),N=I+(F^(O|~x))+P[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~F))+P[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~O))+P[3]+2399980690&4294967295,F=x+(N<<10&4294967295|N>>>22),N=O+(x^(F|~I))+P[10]+4293915773&4294967295,O=F+(N<<15&4294967295|N>>>17),N=I+(F^(O|~x))+P[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~F))+P[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~O))+P[15]+4264355552&4294967295,F=x+(N<<10&4294967295|N>>>22),N=O+(x^(F|~I))+P[6]+2734768916&4294967295,O=F+(N<<15&4294967295|N>>>17),N=I+(F^(O|~x))+P[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~F))+P[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~O))+P[11]+3174756917&4294967295,F=x+(N<<10&4294967295|N>>>22),N=O+(x^(F|~I))+P[2]+718787259&4294967295,O=F+(N<<15&4294967295|N>>>17),N=I+(F^(O|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var I=x-this.blockSize,P=this.B,O=this.h,F=0;F<x;){if(O==0)for(;F<=I;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<x;)if(P[O++]=C.charCodeAt(F++),O==this.blockSize){i(this,P),O=0;break}}else for(;F<x;)if(P[O++]=C[F++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var I=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=I&255,I/=256;for(this.u(C),C=Array(16),x=I=0;4>x;++x)for(var P=0;32>P;P+=8)C[I++]=this.g[x]>>>P&255;return C};function s(C,x){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function o(C,x){this.h=x;for(var I=[],P=!0,O=C.length-1;0<=O;O--){var F=C[O]|0;P&&F==x||(I[O]=F,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return S(c(-C));for(var x=[],I=1,P=0;C>=I;P++)x[P]=C/I|0,I*=4294967296;return new o(x,0)}function u(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return S(u(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),P=h,O=0;O<C.length;O+=8){var F=Math.min(8,C.length-O),N=parseInt(C.substring(O,O+F),x);8>F?(F=c(Math.pow(x,F)),P=P.j(F).add(c(N))):(P=P.j(I),P=P.add(c(N)))}return P}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var C=0,x=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+S(this).toString(C);for(var x=c(Math.pow(C,6)),I=this,P="";;){var O=A(I,x).g;I=b(I,O.j(x));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,v(I))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=b(this,C),y(C)?-1:v(C)?0:1};function S(C){for(var x=C.g.length,I=[],P=0;P<x;P++)I[P]=~C.g[P];return new o(I,~C.h).add(f)}t.abs=function(){return y(this)?S(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),I=[],P=0,O=0;O<=x;O++){var F=P+(this.i(O)&65535)+(C.i(O)&65535),N=(F>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=N>>>16,F&=65535,N&=65535,I[O]=N<<16|F}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(C,x){return C.add(S(x))}t.j=function(C){if(v(this)||v(C))return h;if(y(this))return y(C)?S(this).j(S(C)):S(S(this).j(C));if(y(C))return S(this.j(S(C)));if(0>this.l(p)&&0>C.l(p))return c(this.m()*C.m());for(var x=this.g.length+C.g.length,I=[],P=0;P<2*x;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var F=this.i(P)>>>16,N=this.i(P)&65535,$e=C.i(O)>>>16,pe=C.i(O)&65535;I[2*P+2*O]+=N*pe,w(I,2*P+2*O),I[2*P+2*O+1]+=F*pe,w(I,2*P+2*O+1),I[2*P+2*O+1]+=N*$e,w(I,2*P+2*O+1),I[2*P+2*O+2]+=F*$e,w(I,2*P+2*O+2)}for(P=0;P<x;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=x;P<2*x;P++)I[P]=0;return new o(I,0)};function w(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function T(C,x){this.g=C,this.h=x}function A(C,x){if(v(x))throw Error("division by zero");if(v(C))return new T(h,h);if(y(C))return x=A(S(C),x),new T(S(x.g),S(x.h));if(y(x))return x=A(C,S(x)),new T(S(x.g),x.h);if(30<C.g.length){if(y(C)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=x;0>=P.l(C);)I=D(I),P=D(P);var O=V(I,1),F=V(P,1);for(P=V(P,2),I=V(I,2);!v(P);){var N=F.add(P);0>=N.l(C)&&(O=O.add(I),F=N),P=V(P,1),I=V(I,1)}return x=b(C,O.j(x)),new T(O,x)}for(O=h;0<=C.l(x);){for(I=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=c(I),N=F.j(x);y(N)||0<N.l(C);)I-=P,F=c(I),N=F.j(x);v(F)&&(F=f),O=O.add(F),C=b(C,N)}return new T(O,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function D(C){for(var x=C.g.length+1,I=[],P=0;P<x;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function V(C,x){var I=x>>5;x%=32;for(var P=C.g.length-I,O=[],F=0;F<P;F++)O[F]=0<x?C.i(F+I)>>>x|C.i(F+I+1)<<32-x:C.i(F+I);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Wa=o}).apply(typeof fA<"u"?fA:typeof self<"u"?self:typeof window<"u"?window:{});var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B5,z5,Hd,U5,dg,fb,W5,H5,q5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Em=="object"&&Em];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var j=d[k];if(!(j in _))break e;_=_[j]}d=d[d.length-1],k=_[d],m=m(k),m!=k&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,k=!1,j={next:function(){if(!k&&_<d.length){var B=_++;return{value:m(B,d[B]),done:!1}}return k=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,k),d.apply(m,j)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var k=_.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function v(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(k,j,B){for(var q=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)q[Qe-2]=arguments[Qe];return m.prototype[j].apply(k,q)}}function y(d){const m=d.length;if(0<m){const _=Array(m);for(let k=0;k<m;k++)_[k]=d[k];return _}return[]}function S(d,m){for(let _=1;_<arguments.length;_++){const k=arguments[_];if(l(k)){const j=d.length||0,B=k.length||0;d.length=j+B;for(let q=0;q<B;q++)d[j+q]=k[q]}else d.push(k)}}class b{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function A(d){return A[" "](d),d}A[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(d,m,_){for(const k in d)m.call(_,d[k],k,d)}function C(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}function x(d){const m={};for(const _ in d)m[_]=d[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,m){let _,k;for(let j=1;j<arguments.length;j++){k=arguments[j];for(_ in k)d[_]=k[_];for(let B=0;B<I.length;B++)_=I[B],Object.prototype.hasOwnProperty.call(k,_)&&(d[_]=k[_])}}function O(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function F(d){a.setTimeout(()=>{throw d},0)}function N(){var d=K;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class $e{constructor(){this.h=this.g=null}add(m,_){const k=pe.get();k.set(m,_),this.h?this.h.next=k:this.g=k,this.h=k}}var pe=new b(()=>new fe,d=>d.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,H=!1,K=new $e,ne=()=>{const d=a.Promise.resolve(void 0);me=()=>{d.then(ge)}};var ge=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(_){F(_)}var m=pe;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}H=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Ae(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(D){e:{try{A(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}v(Ae,te);var Je={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Sr(d,m,_,k,j){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!k,this.ha=j,this.key=++Lt,this.da=this.fa=!1}function Un(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function On(d){this.src=d,this.g={},this.h=0}On.prototype.add=function(d,m,_,k,j){var B=d.toString();d=this.g[B],d||(d=this.g[B]=[],this.h++);var q=Ft(d,m,k,j);return-1<q?(m=d[q],_||(m.fa=!1)):(m=new Sr(m,this.src,B,!!k,j),m.fa=_,d.push(m)),m};function Re(d,m){var _=m.type;if(_ in d.g){var k=d.g[_],j=Array.prototype.indexOf.call(k,m,void 0),B;(B=0<=j)&&Array.prototype.splice.call(k,j,1),B&&(Un(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function Ft(d,m,_,k){for(var j=0;j<d.length;++j){var B=d[j];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==k)return j}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Qr={};function Jt(d,m,_,k,j){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Jt(d,m[B],_,k,j);return null}return _=Us(_),d&&d[mt]?d.K(m,_,c(k)?!!k.capture:!!k,j):ir(d,m,_,!1,k,j)}function ir(d,m,_,k,j,B){if(!m)throw Error("Invalid event type");var q=c(j)?!!j.capture:!!j,Qe=Dn(d);if(Qe||(d[Er]=Qe=new On(d)),_=Qe.add(m,_,k,q,B),_.proxy)return _;if(k=Tr(),_.proxy=k,k.src=d,k.listener=_,d.addEventListener)Xe||(j=q),j===void 0&&(j=!1),d.addEventListener(m.toString(),k,j);else if(d.attachEvent)d.attachEvent(Xr(m.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tr(){function d(_){return m.call(d.src,d.listener,_)}const m=ts;return d}function Wn(d,m,_,k,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Wn(d,m[B],_,k,j);else k=c(k)?!!k.capture:!!k,_=Us(_),d&&d[mt]?(d=d.i,m=String(m).toString(),m in d.g&&(B=d.g[m],_=Ft(B,_,k,j),-1<_&&(Un(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete d.g[m],d.h--)))):d&&(d=Dn(d))&&(m=d.g[m.toString()],d=-1,m&&(d=Ft(m,_,k,j)),(_=-1<d?m[d]:null)&&Vt(_))}function Vt(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[mt])Re(m.i,d);else{var _=d.type,k=d.proxy;m.removeEventListener?m.removeEventListener(_,k,d.capture):m.detachEvent?m.detachEvent(Xr(_),k):m.addListener&&m.removeListener&&m.removeListener(k),(_=Dn(m))?(Re(_,d),_.h==0&&(_.src=null,m[Er]=null)):Un(d)}}}function Xr(d){return d in Qr?Qr[d]:Qr[d]="on"+d}function ts(d,m){if(d.da)d=!0;else{m=new Ae(m,this);var _=d.listener,k=d.ha||d.src;d.fa&&Vt(d),d=_.call(k,m)}return d}function Dn(d){return d=d[Er],d instanceof On?d:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Us(d){return typeof d=="function"?d:(d[Ci]||(d[Ci]=function(m){return d.handleEvent(m)}),d[Ci])}function _t(){ce.call(this),this.i=new On(this),this.M=this,this.F=null}v(_t,ce),_t.prototype[mt]=!0,_t.prototype.removeEventListener=function(d,m,_,k){Wn(this,d,m,_,k)};function xt(d,m){var _,k=d.F;if(k)for(_=[];k;k=k.F)_.push(k);if(d=d.M,k=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var j=m;m=new te(k,d),P(m,j)}if(j=!0,_)for(var B=_.length-1;0<=B;B--){var q=m.g=_[B];j=xr(q,k,!0,m)&&j}if(q=m.g=d,j=xr(q,k,!0,m)&&j,j=xr(q,k,!1,m)&&j,_)for(B=0;B<_.length;B++)q=m.g=_[B],j=xr(q,k,!1,m)&&j}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],k=0;k<_.length;k++)Un(_[k]);delete d.g[m],d.h--}}this.F=null},_t.prototype.K=function(d,m,_,k){return this.i.add(String(d),m,!1,_,k)},_t.prototype.L=function(d,m,_,k){return this.i.add(String(d),m,!0,_,k)};function xr(d,m,_,k){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,B=0;B<m.length;++B){var q=m[B];if(q&&!q.da&&q.capture==_){var Qe=q.listener,en=q.ha||q.src;q.fa&&Re(d.i,q),j=Qe.call(en,k)!==!1&&j}}return j&&!k.defaultPrevented}function Xu(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function Ju(d){d.g=Xu(()=>{d.g=null,d.i&&(d.i=!1,Ju(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class hp extends ce{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ju(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(d){ce.call(this),this.h=d,this.g={}}v(Ws,ce);var fp=[];function pp(d){V(d.g,function(m,_){this.g.hasOwnProperty(_)&&Vt(m)},d),d.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),pp(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=a.JSON.stringify,Cl=a.JSON.parse,_0=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Il(){}Il.prototype.h=null;function mp(d){return d.h||(d.h=d.i())}function Zu(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ed(){te.call(this,"d")}v(ed,te);function ei(){te.call(this,"c")}v(ei,te);var ns={},gp=null;function kl(){return gp=gp||new _t}ns.La="serverreachability";function vp(d){te.call(this,ns.La,d)}v(vp,te);function oa(d){const m=kl();xt(m,new vp(m))}ns.STAT_EVENT="statevent";function Cr(d,m){te.call(this,ns.STAT_EVENT,d),this.stat=m}v(Cr,te);function Zt(d){const m=kl();xt(m,new Cr(m,d))}ns.Ma="timingevent";function yp(d,m){te.call(this,ns.Ma,d),this.size=m}v(yp,te);function aa(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function w0(d,m,_,k,j,B){d.info(function(){if(d.g)if(B)for(var q="",Qe=B.split("&"),en=0;en<Qe.length;en++){var Oe=Qe[en].split("=");if(1<Oe.length){var mn=Oe[0];Oe=Oe[1];var gn=mn.split("_");q=2<=gn.length&&gn[1]=="type"?q+(mn+"="+Oe+"&"):q+(mn+"=redacted&")}}else q=null;else q=B;return"XMLHTTP REQ ("+k+") [attempt "+j+"]: "+m+`
`+_+`
`+q})}function Hs(d,m,_,k,j,B,q){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+j+"]: "+m+`
`+_+`
`+B+" "+q})}function qs(d,m,_,k){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+S0(d,_)+(k?" "+k:"")})}function b0(d,m){d.info(function(){return"TIMEOUT: "+m})}la.prototype.info=function(){};function S0(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var k=_[d];if(!(2>k.length)){var j=k[1];if(Array.isArray(j)&&!(1>j.length)){var B=j[0];if(B!="noop"&&B!="stop"&&B!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return Jr(_)}catch{return m}}var Pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_p={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Al(){}v(Al,Il),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},Ii=new Al;function ki(d,m,_,k){this.j=d,this.i=m,this.l=_,this.R=k||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wp}function wp(){this.i=null,this.g="",this.h=!1}var bp={},td={};function nd(d,m,_){d.L=1,d.v=Ml(ni(m)),d.m=_,d.P=!0,Rl(d,null)}function Rl(d,m){d.F=Date.now(),Gs(d),d.A=ni(d.v);var _=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Np(_.i,"t",k),d.C=0,_=d.j.J,d.h=new wp,d.g=qx(d.j,_?m:null,!d.m),0<d.O&&(d.M=new hp(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,k=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(fp[0]=j.toString()),j=fp);for(var B=0;B<j.length;B++){var q=Jt(_,j[B],k||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),oa(),w0(d.i,d.u,d.A,d.l,d.R,d.m)}ki.prototype.ca=function(d){d=d.target;const m=this.M;m&&wt(d)==3?m.j():this.Y(d)},ki.prototype.Y=function(d){try{if(d==this.g)e:{const gn=wt(this.g);var m=this.g.Ba();const Bl=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||pn(this.g)))){this.J||gn!=4||m==7||(m==8||0>=Bl?oa(3):oa(2)),Ks(this);var _=this.g.Z();this.X=_;t:if(Sp(this)){var k=pn(this.g);d="";var j=k.length,B=wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),Ys(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,d+=this.h.i.decode(k[m],{stream:!(B&&m==j-1)});k.length=0,this.h.g+=d,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=_==200,Hs(this.i,this.u,this.A,this.l,this.R,gn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,en=this.g;if((Qe=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Qe)){var Oe=Qe;break t}}Oe=null}if(_=Oe)qs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rd(this,_);else{this.o=!1,this.s=3,Zt(12),rs(this),Ys(this);break e}}if(this.P){_=!0;let ri;for(;!this.J&&this.C<q.length;)if(ri=Nl(this,q),ri==td){gn==4&&(this.s=4,Zt(14),_=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==bp){this.s=4,Zt(15),qs(this.i,this.l,q,"[Invalid Chunk]"),_=!1;break}else qs(this.i,this.l,ri,null),rd(this,ri);if(Sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||q.length!=0||this.h.h||(this.s=1,Zt(16),_=!1),this.o=this.o&&_,!_)qs(this.i,this.l,q,"[Invalid Chunked Response]"),rs(this),Ys(this);else if(0<q.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),N0(mn),mn.M=!0,Zt(11))}}else qs(this.i,this.l,q,null),rd(this,q);gn==4&&rs(this),this.o&&!this.J&&(gn==4?zx(this.j,this):(this.o=!1,Gs(this)))}else pa(this.g),_==400&&0<q.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),rs(this),Ys(this)}}}catch{}finally{}};function Sp(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nl(d,m){var _=d.C,k=m.indexOf(`
`,_);return k==-1?td:(_=Number(m.substring(_,k)),isNaN(_)?bp:(k+=1,k+_>m.length?td:(m=m.slice(k,k+_),d.C=k+_,m)))}ki.prototype.cancel=function(){this.J=!0,rs(this)};function Gs(d){d.S=Date.now()+d.I,Ep(d,d.I)}function Ep(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=aa(f(d.ba,d),m)}function Ks(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ki.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(b0(this.i,this.A),this.L!=2&&(oa(),Zt(17)),rs(this),this.s=2,Ys(this)):Ep(this,this.S-d)};function Ys(d){d.j.G==0||d.J||zx(d.j,d)}function rs(d){Ks(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,pp(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function rd(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||sd(_.h,d))){if(!d.K&&sd(_.h,d)&&_.G==3){try{var k=_.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var j=k;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)jp(_),Fp(_);else break e;R0(_),Zt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=aa(f(_.Za,_),6e3));if(1>=xp(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ma(_,11)}else if((d.K||_.g==d)&&jp(_),!w(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let Oe=j[m];if(_.T=Oe[0],Oe=Oe[1],_.G==2)if(Oe[0]=="c"){_.K=Oe[1],_.ia=Oe[2];const mn=Oe[3];mn!=null&&(_.la=mn,_.j.info("VER="+_.la));const gn=Oe[4];gn!=null&&(_.Aa=gn,_.j.info("SVER="+_.Aa));const Bl=Oe[5];Bl!=null&&typeof Bl=="number"&&0<Bl&&(k=1.5*Bl,_.L=k,_.j.info("backChannelRequestTimeoutMs_="+k)),k=_;const ri=d.g;if(ri){const Bp=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bp){var B=k.h;B.g||Bp.indexOf("spdy")==-1&&Bp.indexOf("quic")==-1&&Bp.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(od(B,B.h),B.h=null))}if(k.D){const O0=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;O0&&(k.ya=O0,Ge(k.I,k.D,O0))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),k=_;var q=d;if(k.qa=Hx(k,k.J?k.ia:null,k.W),q.K){Cp(k.h,q);var Qe=q,en=k.L;en&&(Qe.I=en),Qe.B&&(Ks(Qe),Gs(Qe)),k.g=q}else $x(k);0<_.i.length&&Vp(_)}else Oe[0]!="stop"&&Oe[0]!="close"||ma(_,7);else _.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ma(_,7):jl(_):Oe[0]!="noop"&&_.l&&_.l.ta(Oe),_.v=0)}}oa(4)}catch{}}var E0=class{constructor(d,m){this.g=d,this.map=m}};function id(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tp(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xp(d){return d.h?1:d.g?d.g.size:0}function sd(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function od(d,m){d.g?d.g.add(m):d.h=m}function Cp(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}id.prototype.cancel=function(){if(this.i=Ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ip(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return y(d.i)}function T0(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,k=0;k<_;k++)m.push(d[k]);return m}m=[],_=0;for(k in d)m[_++]=d[k];return m}function x0(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const k in d)m[_++]=k;return m}}}function kp(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=x0(d),k=T0(d),j=k.length,B=0;B<j;B++)m.call(void 0,k[B],_&&_[B],d)}var Pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ol(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var k=d[_].indexOf("="),j=null;if(0<=k){var B=d[_].substring(0,k);j=d[_].substring(k+1)}else B=d[_];m(B,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ti(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ti){this.h=d.h,Dl(this,d.j),this.o=d.o,this.g=d.g,ca(this,d.s),this.l=d.l;var m=d.i,_=new Pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ap(this,_),this.m=d.m}else d&&(m=String(d).match(Pp))?(this.h=!1,Dl(this,m[1]||"",!0),this.o=Qs(m[2]||""),this.g=Qs(m[3]||"",!0),ca(this,m[4]),this.l=Qs(m[5]||"",!0),Ap(this,m[6]||"",!0),this.m=Qs(m[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}ti.prototype.toString=function(){var d=[],m=this.j;m&&d.push(ua(m,Rp,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(ua(m,Rp,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(ua(_,_.charAt(0)=="/"?I0:ad,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",ua(_,P0)),d.join("")};function ni(d){return new ti(d)}function Dl(d,m,_){d.j=_?Qs(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function ca(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Ap(d,m,_){m instanceof Pi?(d.i=m,ld(d.i,d.h)):(_||(m=ua(m,k0)),d.i=new Pi(m,d.h))}function Ge(d,m,_){d.i.set(m,_)}function Ml(d){return Ge(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qs(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ua(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,C0),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function C0(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rp=/[#\/\?@]/g,ad=/[#\?:]/g,I0=/[#\?]/g,k0=/[#\?@]/g,P0=/#/g;function Pi(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ir(d){d.g||(d.g=new Map,d.h=0,d.i&&Ol(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Pi.prototype,t.add=function(d,m){Ir(this),this.i=null,d=is(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function Ll(d,m){Ir(d),m=is(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function Fl(d,m){return Ir(d),m=is(d,m),d.g.has(m)}t.forEach=function(d,m){Ir(this),this.g.forEach(function(_,k){_.forEach(function(j){d.call(m,j,k,this)},this)},this)},t.na=function(){Ir(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let k=0;k<m.length;k++){const j=d[k];for(let B=0;B<j.length;B++)_.push(m[k])}return _},t.V=function(d){Ir(this);let m=[];if(typeof d=="string")Fl(this,d)&&(m=m.concat(this.g.get(is(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},t.set=function(d,m){return Ir(this),this.i=null,d=is(this,d),Fl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function Np(d,m,_){Ll(d,m),0<_.length&&(d.i=null,d.g.set(is(d,m),y(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var k=m[_];const B=encodeURIComponent(String(k)),q=this.V(k);for(k=0;k<q.length;k++){var j=B;q[k]!==""&&(j+="="+encodeURIComponent(String(q[k]))),d.push(j)}}return this.i=d.join("&")};function is(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function ld(d,m){m&&!d.j&&(Ir(d),d.i=null,d.g.forEach(function(_,k){var j=k.toLowerCase();k!=j&&(Ll(this,k),Np(this,j,_))},d)),d.j=m}function Op(d,m){const _=new la;if(a.Image){const k=new Image;k.onload=p(Hn,_,"TestLoadImage: loaded",!0,m,k),k.onerror=p(Hn,_,"TestLoadImage: error",!1,m,k),k.onabort=p(Hn,_,"TestLoadImage: abort",!1,m,k),k.ontimeout=p(Hn,_,"TestLoadImage: timeout",!1,m,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else m(!1)}function ss(d,m){const _=new la,k=new AbortController,j=setTimeout(()=>{k.abort(),Hn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:k.signal}).then(B=>{clearTimeout(j),B.ok?Hn(_,"TestPingServer: ok",!0,m):Hn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Hn(_,"TestPingServer: error",!1,m)})}function Hn(d,m,_,k,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),k(_)}catch{}}function A0(){this.g=new _0}function Dp(d,m,_){const k=_||"";try{kp(d,function(j,B){let q=j;c(j)&&(q=Jr(j)),m.push(k+B+"="+encodeURIComponent(q))})}catch(j){throw m.push(k+"type="+encodeURIComponent("_badmap")),j}}function da(d){this.l=d.Ub||null,this.j=d.eb||!1}v(da,Il),da.prototype.g=function(){return new ha(this.l,this.j)},da.prototype.i=function(d){return function(){return d}}({});function ha(d,m){_t.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ha,_t),t=ha.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Xs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mp(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mp(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?fa(this):Xs(this),this.readyState==3&&Mp(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,fa(this))},t.Qa=function(d){this.g&&(this.response=d,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xs(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function Xs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Lp(d){let m="";return V(d,function(_,k){m+=k,m+=":",m+=_,m+=`\r
`}),m}function R(d,m,_){e:{for(k in _){var k=!1;break e}k=!0}k||(_=Lp(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Ge(d,m,_))}function M(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(M,_t);var $=/^https?$/i,J=["POST","PUT"];t=M.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,_,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?mp(this.o):mp(Ii),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(B){ve(this,B);return}if(d=_||"",_=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var j in k)_.set(j,k[j]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const B of k.keys())_.set(B,k.get(B));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(J,m,void 0))||k||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,q]of _)this.g.setRequestHeader(B,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ye(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){ve(this,B)}};function ve(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,Be(d),_e(d)}function Be(d){d.A||(d.A=!0,xt(d,"complete"),xt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,xt(this,"complete"),xt(this,"abort"),_e(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_e(this,!0)),M.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ke(this):this.bb())},t.bb=function(){Ke(this)};function Ke(d){if(d.h&&typeof o<"u"&&(!d.v[1]||wt(d)!=4||d.Z()!=2)){if(d.u&&wt(d)==4)Xu(d.Ea,0,d);else if(xt(d,"readystatechange"),wt(d)==4){d.h=!1;try{const q=d.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var k;if(k=q===0){var j=String(d.D).match(Pp)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),k=!$.test(j?j.toLowerCase():"")}_=k}if(_)xt(d,"complete"),xt(d,"success");else{d.m=6;try{var B=2<wt(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",Be(d)}}finally{_e(d)}}}}function _e(d,m){if(d.g){Ye(d);const _=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||xt(d,"ready");try{_.onreadystatechange=k}catch{}}}function Ye(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function wt(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<wt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Cl(m)}};function pn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function pa(d){const m={};d=(d.g&&2<=wt(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(w(d[k]))continue;var _=O(d[k]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[j]||[];m[j]=B,B.push(_)}C(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function Vl(d){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,d),this.cb=os("retryDelaySeedMs",1e4,d),this.Wa=os("forwardChannelMaxRetries",2,d),this.wa=os("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new id(d&&d.concurrentRequestLimit),this.Da=new A0,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vl.prototype,t.la=8,t.G=1,t.connect=function(d,m,_,k){Zt(0),this.W=d,this.H=m||{},_&&k!==void 0&&(this.H.OSID=_,this.H.OAID=k),this.F=this.X,this.I=Hx(this,null,this.W),Vp(this)};function jl(d){if(Fx(d),d.G==3){var m=d.U++,_=ni(d.I);if(Ge(_,"SID",d.K),Ge(_,"RID",m),Ge(_,"TYPE","terminate"),cd(d,_),m=new ki(d,d.j,m),m.L=2,m.v=Ml(ni(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=qx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gs(m)}Wx(d)}function Fp(d){d.g&&(N0(d),d.g.cancel(),d.g=null)}function Fx(d){Fp(d),d.u&&(a.clearTimeout(d.u),d.u=null),jp(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Vp(d){if(!Tp(d.h)&&!d.s){d.s=!0;var m=d.Ga;me||ne(),H||(me(),H=!0),K.add(m,d),d.B=0}}function MV(d,m){return xp(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=aa(f(d.Ga,d,m),Ux(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new ki(this,this.j,d);let B=this.o;if(this.S&&(B?(B=x(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(j.H=B,B=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var k=this.i[_];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=jx(this,j,m),_=ni(this.I),Ge(_,"RID",d),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),cd(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(Lp(B)))+"&"+m:this.m&&R(_,this.m,B)),od(this.h,j),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",m),Ge(_,"SID","null"),j.T=!0,nd(j,_,null)):nd(j,_,m),this.G=2}}else this.G==3&&(d?Vx(this,d):this.i.length==0||Tp(this.h)||Vx(this))};function Vx(d,m){var _;m?_=m.l:_=d.U++;const k=ni(d.I);Ge(k,"SID",d.K),Ge(k,"RID",_),Ge(k,"AID",d.T),cd(d,k),d.m&&d.o&&R(k,d.m,d.o),_=new ki(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=jx(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),od(d.h,_),nd(_,k,m)}function cd(d,m){d.H&&V(d.H,function(_,k){Ge(m,k,_)}),d.l&&kp({},function(_,k){Ge(m,k,_)})}function jx(d,m,_){_=Math.min(d.i.length,_);var k=d.l?f(d.l.Na,d.l,d):null;e:{var j=d.i;let B=-1;for(;;){const q=["count="+_];B==-1?0<_?(B=j[0].g,q.push("ofs="+B)):B=0:q.push("ofs="+B);let Qe=!0;for(let en=0;en<_;en++){let Oe=j[en].g;const mn=j[en].map;if(Oe-=B,0>Oe)B=Math.max(0,j[en].g-100),Qe=!1;else try{Dp(mn,q,"req"+Oe+"_")}catch{k&&k(mn)}}if(Qe){k=q.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,k}function $x(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;me||ne(),H||(me(),H=!0),K.add(m,d),d.v=0}}function R0(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=aa(f(d.Fa,d),Ux(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Bx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=aa(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Fp(this),Bx(this))};function N0(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Bx(d){d.g=new ki(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=ni(d.qa);Ge(m,"RID","rpc"),Ge(m,"SID",d.K),Ge(m,"AID",d.T),Ge(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ge(m,"TO",d.ja),Ge(m,"TYPE","xmlhttp"),cd(d,m),d.m&&d.o&&R(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=Ml(ni(m)),_.m=null,_.P=!0,Rl(_,d)}t.Za=function(){this.C!=null&&(this.C=null,Fp(this),R0(this),Zt(19))};function jp(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function zx(d,m){var _=null;if(d.g==m){jp(d),N0(d),d.g=null;var k=2}else if(sd(d.h,m))_=m.D,Cp(d.h,m),k=1;else return;if(d.G!=0){if(m.o)if(k==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=d.B;k=kl(),xt(k,new yp(k,_)),Vp(d)}else $x(d);else if(j=m.s,j==3||j==0&&0<m.X||!(k==1&&MV(d,m)||k==2&&R0(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),j){case 1:ma(d,5);break;case 4:ma(d,10);break;case 3:ma(d,6);break;default:ma(d,2)}}}function Ux(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function ma(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),k=d.Xa;const j=!k;k=new ti(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dl(k,"https"),Ml(k),j?Op(k.toString(),_):ss(k.toString(),_)}else Zt(2);d.G=0,d.l&&d.l.sa(m),Wx(d),Fx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Wx(d){if(d.G=0,d.ka=[],d.l){const m=Ip(d.h);(m.length!=0||d.i.length!=0)&&(S(d.ka,m),S(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function Hx(d,m,_){var k=_ instanceof ti?ni(_):new ti(_);if(k.g!="")m&&(k.g=m+"."+k.g),ca(k,k.s);else{var j=a.location;k=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var B=new ti(null);k&&Dl(B,k),m&&(B.g=m),j&&ca(B,j),_&&(B.l=_),k=B}return _=d.D,m=d.ya,_&&m&&Ge(k,_,m),Ge(k,"VER",d.la),cd(d,k),k}function qx(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new M(new da({eb:_})):new M(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gx(){}t=Gx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $p(){}$p.prototype.g=function(d,m){return new sr(d,m)};function sr(d,m){_t.call(this),this.g=new Vl(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!w(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new $l(this)}v(sr,_t),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){jl(this.g)},sr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Jr(d),d=_);m.i.push(new E0(m.Ya++,d)),m.G==3&&Vp(m)},sr.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,sr.aa.N.call(this)};function Kx(d){ed.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}v(Kx,ed);function Yx(){ei.call(this),this.status=1}v(Yx,ei);function $l(d){this.g=d}v($l,Gx),$l.prototype.ua=function(){xt(this.g,"a")},$l.prototype.ta=function(d){xt(this.g,new Kx(d))},$l.prototype.sa=function(d){xt(this.g,new Yx)},$l.prototype.ra=function(){xt(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,q5=function(){return new $p},H5=function(){return kl()},W5=ns,fb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,dg=Pl,_p.COMPLETE="complete",U5=_p,Zu.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Hd=Zu,z5=da,M.prototype.listenOnce=M.prototype.L,M.prototype.getLastError=M.prototype.Ka,M.prototype.getLastErrorCode=M.prototype.Ba,M.prototype.getStatus=M.prototype.Z,M.prototype.getResponseJson=M.prototype.Oa,M.prototype.getResponseText=M.prototype.oa,M.prototype.send=M.prototype.ea,M.prototype.setWithCredentials=M.prototype.Ha,B5=M}).apply(typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{});const pA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new jy("@firebase/firestore");function xd(){return nl.logLevel}function Z(t,...e){if(nl.logLevel<=we.DEBUG){const n=e.map(gT);nl.debug(`Firestore (${Bu}): ${t}`,...n)}}function Fs(t,...e){if(nl.logLevel<=we.ERROR){const n=e.map(gT);nl.error(`Firestore (${Bu}): ${t}`,...n)}}function uu(t,...e){if(nl.logLevel<=we.WARN){const n=e.map(gT);nl.warn(`Firestore (${Bu}): ${t}`,...n)}}function gT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw Fs(e),new Error(e)}function et(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class hse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fse{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Is,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new G5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Sn(e)}}class pse{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mse{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pse(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gse{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new gse(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Bt(0,0))}static max(){return new ue(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends gf{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const _se=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends gf{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return _se.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(ot.fromString(e))}static fromName(e){return new ie(ot.fromString(e).popFirst(5))}static empty(){return new ie(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new ot(e.slice()))}}function wse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new Uo(i,ie.empty(),e)}function bse(t){return new Uo(t.readTime,t.key,-1)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(ue.min(),ie.empty(),-1)}static max(){return new Uo(ue.max(),ie.empty(),-1)}}function Sse(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Ese)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xse(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vT.oe=-1;function By(t){return t==null}function fv(t){return t===0&&1/t==-1/0}function Cse(t){return typeof t=="number"&&Number.isInteger(t)&&!fv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class pb{constructor(e,n){this.comparator=e,this.root=n||Oo.EMPTY}insert(e,n){return new pb(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oo.BLACK,null,null))}remove(e){return new pb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tm(this.root,e,this.comparator,!0)}},Tm=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Oo=class ls{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ls.RED,this.left=i??ls.EMPTY,this.right=s??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ls(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ls.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1;Oo.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Oo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gA(this.data.getIterator())}getIteratorFrom(e){return new gA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class gA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new cr([])}unionWith(e){let n=new un(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Q5("Invalid base64 string: "+s):s}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const Ise=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(et(!!t),typeof t=="string"){let e=0;const n=Ise.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rl(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _T(t){const e=t.mapValue.fields.__previous_value__;return yT(e)?_T(e):e}function vf(t){const e=Wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class yf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yT(t)?4:Pse(t)?9007199254740991:10:le()}function Xi(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wo(i.timestampValue),a=Wo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rl(i.bytesValue).isEqual(rl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=It(i.doubleValue),a=It(s.doubleValue);return o===a?fv(o)===fv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mA(o)!==mA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xi(o[l],a[l])))return!1;return!0}(t,e);default:return le()}}function _f(t,e){return(t.values||[]).find(n=>Xi(n,e))!==void 0}function hu(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=It(s.integerValue||s.doubleValue),l=It(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vA(t.timestampValue,e.timestampValue);case 4:return vA(vf(t),vf(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=rl(s),l=rl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Fe(a[c],l[c]);if(u!==0)return u}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Fe(It(s.latitude),It(o.latitude));return a!==0?a:Fe(It(s.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=hu(a[c],l[c]);if(u)return u}return Fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===xm.mapValue&&o===xm.mapValue)return 0;if(s===xm.mapValue)return 1;if(o===xm.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Fe(l[h],u[h]);if(f!==0)return f;const p=hu(a[l[h]],c[u[h]]);if(p!==0)return p}return Fe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function vA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Wo(t),r=Wo(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function fu(t){return mb(t)}function mb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mb(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function yA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gb(t){return!!t&&"integerValue"in t}function wT(t){return!!t&&"arrayValue"in t}function _A(t){return!!t&&"nullValue"in t}function wA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hg(t){return!!t&&"mapValue"in t}function yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Pse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_l(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kn(yh(this.value))}}function X5(t){const e=[];return _l(t.fields,(n,r)=>{const i=new ln([n]);if(hg(r)){const s=X5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,ue.min(),ue.min(),ue.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tn(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,ue.min(),ue.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,ue.min(),ue.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){this.position=e,this.inclusive=n}}function bA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=hu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ase(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{}class At extends J5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nse(e,n,r):n==="array-contains"?new Mse(e,r):n==="in"?new Lse(e,r):n==="not-in"?new Fse(e,r):n==="array-contains-any"?new Vse(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ose(e,r):new Dse(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hu(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(hu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends J5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ti(e,n)}matches(e){return Z5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Z5(t){return t.op==="and"}function eL(t){return Rse(t)&&Z5(t)}function Rse(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function vb(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(eL(t))return t.filters.map(e=>vb(e)).join(",");{const e=t.filters.map(n=>vb(n)).join(",");return`${t.op}(${e})`}}function tL(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(t,e):t instanceof Ti?function(r,i){return i instanceof Ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tL(o,i.filters[a]),!0):!1}(t,e):void le()}function nL(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${fu(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(nL).join(" ,")+"}"}(t):"Filter"}class Nse extends At{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ose extends At{constructor(e,n){super(e,"in",n),this.keys=rL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dse extends At{constructor(e,n){super(e,"not-in",n),this.keys=rL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class Mse extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wT(n)&&_f(n.arrayValue,this.value)}}class Lse extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class Fse extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_f(this.value.arrayValue,n)}}class Vse extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function EA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jse(t,e,n,r,i,s,o)}function bT(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),By(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fu(r)).join(",")),e.ue=n}return e.ue}function ST(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ase(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SA(t.startAt,e.startAt)&&SA(t.endAt,e.endAt)}function yb(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $se(t,e,n,r,i,s,o,a){return new zu(t,e,n,r,i,s,o,a)}function ET(t){return new zu(t)}function TA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iL(t){return t.collectionGroup!==null}function _h(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new un(ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new wf(s,r))}),n.has(ln.keyField().canonicalString())||e.ce.push(new wf(ln.keyField(),r))}return e.ce}function Gi(t){const e=de(t);return e.le||(e.le=Bse(e,_h(t))),e.le}function Bse(t,e){if(t.limitType==="F")return EA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wf(i.field,s)});const n=t.endAt?new pv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pv(t.startAt.position,t.startAt.inclusive):null;return EA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _b(t,e){const n=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mv(t,e,n){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zy(t,e){return ST(Gi(t),Gi(e))&&t.limitType===e.limitType}function sL(t){return`${bT(Gi(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nL(i)).join(", ")}]`),By(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fu(i)).join(",")),`Target(${r})`}(Gi(t))}; limitType=${t.limitType})`}function Uy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _h(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=bA(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_h(r),i)||r.endAt&&!function(o,a,l){const c=bA(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_h(r),i))}(t,e)}function zse(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oL(t){return(e,n)=>{let r=!1;for(const i of _h(t)){const s=Use(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Use(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?hu(l,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Y5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=new Dt(ie.comparator);function Vs(){return Wse}const aL=new Dt(ie.comparator);function qd(...t){let e=aL;for(const n of t)e=e.insert(n.key,n);return e}function lL(t){let e=aL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ra(){return wh()}function cL(){return wh()}function wh(){return new Uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hse=new Dt(ie.comparator),qse=new un(ie.comparator);function Se(...t){let e=qse;for(const n of t)e=e.add(n);return e}const Gse=new un(Fe);function Kse(){return Gse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fv(e)?"-0":e}}function dL(t){return{integerValue:""+t}}function Yse(t,e){return Cse(e)?dL(e):uL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function Qse(t,e,n){return t instanceof gv?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yT(s)&&(s=_T(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pu?fL(t,e):t instanceof mu?pL(t,e):function(i,s){const o=hL(i,s),a=xA(o)+xA(i.Pe);return gb(o)&&gb(i.Pe)?dL(a):uL(i.serializer,a)}(t,e)}function Xse(t,e,n){return t instanceof pu?fL(t,e):t instanceof mu?pL(t,e):n}function hL(t,e){return t instanceof vv?function(r){return gb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class gv extends Wy{}class pu extends Wy{constructor(e){super(),this.elements=e}}function fL(t,e){const n=mL(e);for(const r of t.elements)n.some(i=>Xi(i,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends Wy{constructor(e){super(),this.elements=e}}function pL(t,e){let n=mL(e);for(const r of t.elements)n=n.filter(i=>!Xi(i,r));return{arrayValue:{values:n}}}class vv extends Wy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xA(t){return It(t.integerValue||t.doubleValue)}function mL(t){return wT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.field=e,this.transform=n}}function Jse(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pu&&i instanceof pu||r instanceof mu&&i instanceof mu?du(r.elements,i.elements,Xi):r instanceof vv&&i instanceof vv?Xi(r.Pe,i.Pe):r instanceof gv&&i instanceof gv}(t.transform,e.transform)}class Zse{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hy{}function vL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TT(t.key,zr.none()):new Kf(t.key,t.data,zr.none());{const n=t.data,r=Kn.empty();let i=new un(ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ta(t.key,r,new cr(i.toArray()),zr.none())}}function eoe(t,e,n){t instanceof Kf?function(i,s,o){const a=i.value.clone(),l=IA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(i,s,o){if(!fg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=IA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yL(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bh(t,e,n,r){return t instanceof Kf?function(s,o,a,l){if(!fg(s.precondition,o))return a;const c=s.value.clone(),u=kA(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ta?function(s,o,a,l){if(!fg(s.precondition,o))return a;const c=kA(s.fieldTransforms,l,o),u=o.data;return u.setAll(yL(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return fg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function toe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hL(r.transform,i||null);s!=null&&(n===null&&(n=Kn.empty()),n.set(r.field,s))}return n||null}function CA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&du(r,i,(s,o)=>Jse(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kf extends Hy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ta extends Hy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IA(t,e,n){const r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xse(o,a,n[i]))}return r}function kA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qse(s,o,e))}return r}class TT extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class noe extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eoe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>CA(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>CA(n,r))}}class xT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return Hse}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ce;function ooe(t){switch(t){default:return le();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function _L(t){if(t===void 0)return Fs("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ct.OK:return z.OK;case Ct.CANCELLED:return z.CANCELLED;case Ct.UNKNOWN:return z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return z.INTERNAL;case Ct.UNAVAILABLE:return z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return z.NOT_FOUND;case Ct.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ct.ABORTED:return z.ABORTED;case Ct.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ct.DATA_LOSS:return z.DATA_LOSS;default:return le()}}(Ce=Ct||(Ct={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aoe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe=new Wa([4294967295,4294967295],0);function PA(t){const e=aoe().encode(t),n=new $5;return n.update(e),new Uint8Array(n.digest())}function AA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([i,s],0)]}class CT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gd(`Invalid padding: ${n}`);if(r<0)throw new Gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wa.fromNumber(r)));return i.compare(loe)===1&&(i=new Wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=PA(e),[r,i]=AA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new CT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=PA(e),[r,i]=AA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qy(ue.min(),i,new Dt(Fe),Vs(),Se())}}class Yf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yf(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class wL{constructor(e,n){this.targetId=e,this.me=n}}class bL{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RA{constructor(){this.fe=0,this.ge=OA(),this.pe=Nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Yf(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=OA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class coe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vs(),this.qe=NA(),this.Qe=new Dt(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(yb(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,Tn.newNoDocument(o,ue.min()))}else et(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=rl(r).toUint8Array()}catch(l){if(l instanceof Q5)return uu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new CT(o,i,s)}catch(l){return uu(l instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&yb(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Tn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Se();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qy(e,n,this.Qe,this.ke,r);return this.ke=Vs(),this.qe=NA(),this.Qe=new Dt(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new RA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new un(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new RA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NA(){return new Dt(ie.comparator)}function OA(){return new Dt(ie.comparator)}const uoe={asc:"ASCENDING",desc:"DESCENDING"},doe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hoe={and:"AND",or:"OR"};class foe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wb(t,e){return t.useProto3Json||By(e)?e:{value:e}}function yv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function poe(t,e){return yv(t,e.toTimestamp())}function Ki(t){return et(!!t),ue.fromTimestamp(function(n){const r=Wo(n);return new Bt(r.seconds,r.nanos)}(t))}function IT(t,e){return bb(t,e).canonicalString()}function bb(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EL(t){const e=ot.fromString(t);return et(kL(e)),e}function Sb(t,e){return IT(t.databaseId,e.path)}function r1(t,e){const n=EL(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(xL(n))}function TL(t,e){return IT(t.databaseId,e)}function moe(t){const e=EL(t);return e.length===4?ot.emptyPath():xL(e)}function Eb(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xL(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DA(t,e,n){return{name:Sb(t,e),fields:n.value.mapValue.fields}}function goe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(et(u===void 0||typeof u=="string"),Nn.fromBase64String(u||"")):(et(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?z.UNKNOWN:_L(c.code);return new Y(u,c.message||"")}(o);n=new bL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=r1(t,r.document.name),s=Ki(r.document.updateTime),o=r.document.createTime?Ki(r.document.createTime):ue.min(),a=new Kn({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new pg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=r1(t,r.document),s=r.readTime?Ki(r.readTime):ue.min(),o=Tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=r1(t,r.document),s=r.removedTargetIds||[];n=new pg([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new soe(i,s),a=r.targetId;n=new wL(a,o)}}return n}function voe(t,e){let n;if(e instanceof Kf)n={update:DA(t,e.key,e.value)};else if(e instanceof TT)n={delete:Sb(t,e.key)};else if(e instanceof ta)n={update:DA(t,e.key,e.data),updateMask:Coe(e.fieldMask)};else{if(!(e instanceof noe))return le();n={verify:Sb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof gv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vv)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:poe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function yoe(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ki(i.updateTime):Ki(s);return o.isEqual(ue.min())&&(o=Ki(s)),new Zse(o,i.transformResults||[])}(n,e))):[]}function _oe(t,e){return{documents:[TL(t,e.path)]}}function woe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TL(t,i);const s=function(c){if(c.length!==0)return IL(Ti.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ql(f.field),direction:Eoe(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function boe(t){let e=moe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){et(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=CL(h);return f instanceof Ti&&eL(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new wf(Xl(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,By(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new pv(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new pv(p,f)}(n.endAt)),$se(e,i,o,s,a,"F",l,c)}function Soe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xl(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xl(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xl(n.unaryFilter.field);return At.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xl(n.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return At.create(Xl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>CL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Eoe(t){return uoe[t]}function Toe(t){return doe[t]}function xoe(t){return hoe[t]}function Ql(t){return{fieldPath:t.canonicalString()}}function Xl(t){return ln.fromServerFormat(t.fieldPath)}function IL(t){return t instanceof At?function(n){if(n.op==="=="){if(wA(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(_A(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wA(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(_A(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:Toe(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(i=>IL(i));return r.length===1?r[0]:{compositeFilter:{op:xoe(n.op),filters:r}}}(t):le()}function Coe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.ct=e}}function koe(t){const e=boe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(){this._n=new Aoe}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Uo.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Aoe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new gu(0)}static Ln(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(){this.changes=new Uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bh(r.mutation,i,cr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Ra();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ra();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vs();const o=wh(),a=function(){return wh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ta)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),bh(u.mutation,c,u.mutation.getFieldMask(),Bt.now())):o.set(c.key,cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new Noe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wh();let i=new Dt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||cr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=cL();u.forEach(f=>{if(!s.has(f)){const p=vL(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ra());let a=-1,l=s;return o.next(c=>U.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Se())).next(u=>({batchId:a,changes:lL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qd();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,f){return new zu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Tn.newInvalidDocument(u)))});let a=qd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&bh(u.mutation,c,cr.empty(),Bt.now()),Uy(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ki(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:koe(i.bundledQuery),readTime:Ki(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(){this.overlays=new Dt(ie.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ra();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ra(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Dt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ra(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ra(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ioe(n,r));let s=this.hr.get(n);s===void 0&&(s=Se(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.Pr=new un(Ht.Ir),this.Tr=new un(Ht.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ht(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new ot([])),r=new Ht(n,e),i=new Ht(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new ot([])),r=new Ht(n,e),i=new Ht(n,e+1);let s=Se();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ht(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Fe(e.pr,n.pr)}static Er(e,n){return Fe(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new un(Ht.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new roe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Fe);return n.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new ie(s),0);let a=new un(Fe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new Ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ht(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e){this.vr=e,this.docs=function(){return new Dt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Vs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vs();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Sse(bse(u),r)<=0||(i.has(u.key)||Uy(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Voe(this)}getSize(e){return U.resolve(this.size)}}class Voe extends Roe{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.persistence=e,this.Mr=new Uu(n=>bT(n),ST),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kT,this.targetCount=0,this.Lr=gu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,n){this.Br={},this.overlays={},this.kr=new vT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new joe(this),this.indexManager=new Poe,this.remoteDocumentCache=function(i){return new Foe(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Ioe(n),this.$r=new Doe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Moe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Loe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new Boe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Boe extends Tse{constructor(e){super(),this.currentSequenceNumber=e}}class PT{constructor(e){this.persistence=e,this.zr=new kT,this.jr=null}static Hr(e){return new PT(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new AT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Hre()?8:xse(fn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zoe;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(xd()<=we.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(xd()<=we.DEBUG&&Z("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(xd()<=we.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):U.resolve())}ji(e,n){if(TA(n))return U.resolve(null);let r=Gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mv(n,null,"F"),r=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,mv(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return TA(n)||i.isEqual(ue.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(xd()<=we.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(n)),this.es(e,o,n,wse(i,-1)).next(a=>a))})}Zi(e,n){let r=new un(oL(e));return n.forEach((i,s)=>{Uy(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return xd()<=we.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.zi.getDocumentsMatchingQuery(e,n,Uo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Dt(Fe),this.rs=new Uu(s=>bT(s),ST),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ooe(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Hoe(t,e,n,r){return new Woe(t,e,n,r)}async function PL(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function qoe(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=U.resolve();return f.forEach(v=>{p=p.next(()=>u.getEntry(l,v)).next(y=>{const S=c.docVersions.get(v);et(S!==null),y.version.compareTo(S)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AL(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Goe(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Nn.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(y,S,b){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Vs(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Koe(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ue.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function Koe(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vs();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function Yoe(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qoe(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new yo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Tb(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gf(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function MA(t,e,n){const r=de(t);let i=ue.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=de(l),f=h.rs.get(u);return f!==void 0?U.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,Gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Se())).next(a=>(Xoe(r,zse(e),a),{documents:a,hs:s})))}function Xoe(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class LA{constructor(){this.activeTargetIds=Kse()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Joe{constructor(){this.no=new LA,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new LA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=null;function i1(){return Cm===null?Cm=function(){return 268435456+Math.round(2147483648*Math.random())}():Cm++,"0x"+Cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class nae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=i1(),l=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(u=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw uu("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=eae[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=i1();return new Promise((o,a)=>{const l=new B5;l.setWithCredentials(!0),l.listenOnce(U5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dg.NO_ERROR:const u=l.getResponseJson();Z(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case dg.TIMEOUT:Z(_n,`RPC '${e}' ${s} timed out`),a(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case dg.HTTP_ERROR:const h=l.getStatus();if(Z(_n,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(p.status);a(new Y(v,p.message))}else a(new Y(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(z.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(_n,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(_n,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=i1(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=q5(),a=H5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new z5({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Z(_n,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const v=new tae({lo:S=>{p?Z(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Z(_n,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Z(_n,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},ho:()=>h.close()}),y=(S,b,w)=>{S.listen(b,T=>{try{w(T)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,Hd.EventType.OPEN,()=>{p||(Z(_n,`RPC '${e}' stream ${i} transport opened.`),v.mo())}),y(h,Hd.EventType.CLOSE,()=>{p||(p=!0,Z(_n,`RPC '${e}' stream ${i} transport closed`),v.po())}),y(h,Hd.EventType.ERROR,S=>{p||(p=!0,uu(_n,`RPC '${e}' stream ${i} transport errored:`,S),v.po(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),y(h,Hd.EventType.MESSAGE,S=>{var b;if(!p){const w=S.data[0];et(!!w);const T=w,A=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(A){Z(_n,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let V=function(I){const P=Ct[I];if(P!==void 0)return _L(P)}(D),C=A.message;V===void 0&&(V=z.INTERNAL,C="Unknown error status: "+D+" with message "+A.message),p=!0,v.po(new Y(V,C)),h.close()}else Z(_n,`RPC '${e}' stream ${i} received:`,w),v.yo(w)}}),y(a,W5.STAT_EVENT,S=>{S.stat===fb.PROXY?Z(_n,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===fb.NOPROXY&&Z(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function s1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){return new foe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new RL(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rae extends NL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=goe(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Ki(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Eb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=yb(l)?{documents:_oe(s,l)}:{query:woe(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SL(s,o.resumeToken);const c=wb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=yv(s,o.snapshotVersion.toTimestamp());const c=wb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Soe(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Eb(this.serializer),n.removeTarget=e,this.i_(n)}}class iae extends NL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=yoe(e.writeResults,e.commitTime),r=Ki(e.commitTime);return this.listener.A_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Eb(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>voe(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,bb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,bb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class oae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fs(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{wl(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.M_.add(4),await Qf(c),c.N_.set("Unknown"),c.M_.delete(4),await Ky(c)}(this))})}),this.N_=new oae(r,i)}}async function Ky(t){if(wl(t))for(const e of t.x_)await e(!0)}async function Qf(t){for(const e of t.x_)await e(!1)}function OL(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),DT(n)?OT(n):Wu(n).Xo()&&NT(n,e))}function RT(t,e){const n=de(t),r=Wu(n);n.F_.delete(e),r.Xo()&&DL(n,e),n.F_.size===0&&(r.Xo()?r.n_():wl(n)&&n.N_.set("Unknown"))}function NT(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(t).P_(e)}function DL(t,e){t.L_.xe(e),Wu(t).I_(e)}function OT(t){t.L_=new coe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.N_.w_()}function DT(t){return wl(t)&&!Wu(t).Zo()&&t.F_.size>0}function wl(t){return de(t).M_.size===0}function ML(t){t.L_=void 0}async function lae(t){t.N_.set("Online")}async function cae(t){t.F_.forEach((e,n)=>{NT(t,e)})}async function uae(t,e){ML(t),DT(t)?(t.N_.D_(e),OT(t)):t.N_.set("Unknown")}async function dae(t,e,n){if(t.N_.set("Online"),e instanceof bL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _v(t,r)}else if(e instanceof pg?t.L_.Ke(e):e instanceof wL?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await AL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(Nn.EMPTY_BYTE_STRING,u.snapshotVersion)),DL(s,l);const h=new yo(u.target,l,c,u.sequenceNumber);NT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await _v(t,r)}}async function _v(t,e,n){if(!Gf(e))throw e;t.M_.add(1),await Qf(t),t.N_.set("Offline"),n||(n=()=>AL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ky(t)})}function LL(t,e){return e().catch(n=>_v(t,n,e))}async function Yy(t){const e=de(t),n=Ho(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hae(e);)try{const i=await Yoe(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,fae(e,i)}catch(i){await _v(e,i)}FL(e)&&VL(e)}function hae(t){return wl(t)&&t.v_.length<10}function fae(t,e){t.v_.push(e);const n=Ho(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function FL(t){return wl(t)&&!Ho(t).Zo()&&t.v_.length>0}function VL(t){Ho(t).start()}async function pae(t){Ho(t).V_()}async function mae(t){const e=Ho(t);for(const n of t.v_)e.d_(n.mutations)}async function gae(t,e,n){const r=t.v_.shift(),i=xT.from(r,e,n);await LL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yy(t)}async function vae(t,e){e&&Ho(t).E_&&await async function(r,i){if(function(o){return ooe(o)&&o!==z.ABORTED}(i.code)){const s=r.v_.shift();Ho(r).t_(),await LL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yy(r)}}(t,e),FL(t)&&VL(t)}async function VA(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=wl(n);n.M_.add(3),await Qf(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ky(n)}async function yae(t,e){const n=de(t);e?(n.M_.delete(2),await Ky(n)):e||(n.M_.add(2),await Qf(n),n.N_.set("Unknown"))}function Wu(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new rae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:lae.bind(null,t),To:cae.bind(null,t),Ao:uae.bind(null,t),h_:dae.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),DT(t)?OT(t):t.N_.set("Unknown")):(await t.B_.stop(),ML(t))})),t.B_}function Ho(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new iae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:pae.bind(null,t),Ao:vae.bind(null,t),R_:mae.bind(null,t),A_:gae.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Yy(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new MT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LT(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),Gf(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new jc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.q_=new Dt(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vu(e,n,jc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class wae{constructor(){this.queries=new Uu(e=>sL(e),zy),this.onlineState="Unknown",this.z_=new Set}}async function jL(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new _ae,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=LT(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&FT(n)}async function $L(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bae(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&FT(n)}function Sae(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function FT(t){t.z_.forEach(e=>{e.next()})}var xb,$A;($A=xb||(xb={})).J_="default",$A.Cache="cache";class BL{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==xb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.key=e}}class UL{constructor(e){this.key=e}}class Eae{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Se(),this.mutatedKeys=Se(),this.Ia=oL(e),this.Ta=new jc(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new jA,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=Uy(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),S=!0):this.Ra(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((u,h)=>function(p,v){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return y(p)-y(v)}(u.type,h.type)||this.Ia(u.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new vu(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new jA,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Se(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new UL(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new zL(r))}),n}pa(e){this.la=e.hs,this.Pa=Se();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return vu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Tae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xae{constructor(e){this.key=e,this.wa=!1}}class Cae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Uu(a=>sL(a),zy),this.Da=new Map,this.Ca=new Set,this.va=new Dt(ie.comparator),this.Fa=new Map,this.Ma=new kT,this.xa={},this.Oa=new Map,this.Na=gu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Iae(t,e,n=!0){const r=YL(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await WL(r,e,n,!0),i}async function kae(t,e){const n=YL(t);await WL(n,e,!0,!1)}async function WL(t,e,n,r){const i=await Qoe(t.localStore,Gi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Pae(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OL(t.remoteStore,i),a}async function Pae(t,e,n,r,i){t.Ba=(h,f,p)=>async function(y,S,b,w){let T=S.view.da(b);T.Xi&&(T=await MA(y.localStore,S.query,!1).then(({documents:C})=>S.view.da(C,T)));const A=w&&w.targetChanges.get(S.targetId),D=w&&w.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(T,y.isPrimaryClient,A,D);return zA(y,S.targetId,V.fa),V.snapshot}(t,h,f,p);const s=await MA(t.localStore,e,!0),o=new Eae(e,s.hs),a=o.da(s.documents),l=Yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);zA(t,n,c.fa);const u=new Tae(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function Aae(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!zy(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RT(r.remoteStore,i.targetId),Cb(r,i.targetId)}).catch(qf)):(Cb(r,i.targetId),await Tb(r.localStore,i.targetId,!0))}async function Rae(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RT(n.remoteStore,r.targetId))}async function Nae(t,e,n){const r=jae(t);try{const i=await function(o,a){const l=de(o),c=Bt.now(),u=a.reduce((p,v)=>p.add(v.key),Se());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Vs(),y=Se();return l.os.getEntries(p,u).next(S=>{v=S,v.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(S=>{h=S;const b=[];for(const w of a){const T=toe(w,h.get(w.key).overlayedDocument);T!=null&&b.push(new ta(w.key,T,X5(T.value.mapValue),zr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(S=>{f=S;const b=S.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,S.batchId,b)})}).then(()=>({batchId:f.batchId,changes:lL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Dt(Fe)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Xf(r,i.changes),await Yy(r.remoteStore)}catch(i){const s=LT(i,"Failed to persist write");n.reject(s)}}async function HL(t,e){const n=de(t);try{const r=await Goe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?et(o.wa):i.removedDocuments.size>0&&(et(o.wa),o.wa=!1))}),await Xf(n,r,e)}catch(r){await qf(r)}}function BA(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.U_)f.j_(a)&&(c=!0)}),c&&FT(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Oae(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Dt(ie.comparator);o=o.insert(s,Tn.newNoDocument(s,ue.min()));const a=Se().add(s),l=new qy(ue.min(),new Map,new Dt(Fe),o,a);await HL(r,l),r.va=r.va.remove(s),r.Fa.delete(e),VT(r)}else await Tb(r.localStore,e,!1).then(()=>Cb(r,e,n)).catch(qf)}async function Dae(t,e){const n=de(t),r=e.batch.batchId;try{const i=await qoe(n.localStore,e);GL(n,r,null),qL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(n,i)}catch(i){await qf(i)}}async function Mae(t,e,n){const r=de(t);try{const i=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(et(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);GL(r,e,n),qL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xf(r,i)}catch(i){await qf(i)}}function qL(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function GL(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Cb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||KL(t,r)})}function KL(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(RT(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),VT(t))}function zA(t,e,n){for(const r of n)r instanceof zL?(t.Ma.addReference(r.key,e),Lae(t,r)):r instanceof UL?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||KL(t,r.key)):le()}function Lae(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),VT(t))}function VT(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new xae(n)),t.va=t.va.insert(n,r),OL(t.remoteStore,new yo(Gi(ET(n.path)),r,"TargetPurposeLimboResolution",vT.oe))}}async function Xf(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=AT.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const u=de(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,f=>U.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>U.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Gf(h))throw h;Z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(f,y)}}}(r.localStore,s))}async function Fae(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await PL(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Y(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xf(n,r.us)}}function Vae(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return Se().add(r.key);{let i=Se();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function YL(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oae.bind(null,e),e.Sa.h_=bae.bind(null,e.eventManager),e.Sa.ka=Sae.bind(null,e.eventManager),e}function jae(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mae.bind(null,e),e}class UA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Hoe(this.persistence,new Uoe,e.initialUser,this.serializer)}createPersistence(e){return new $oe(PT.Hr,this.serializer)}createSharedClientState(e){return new Joe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $ae{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fae.bind(null,this.syncEngine),await yae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wae}()}createDatastore(e){const n=Gy(e.databaseInfo.databaseId),r=function(s){return new nae(s)}(e.databaseInfo);return function(s,o,a,l){return new sae(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new aae(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>BA(this.syncEngine,n,0),function(){return FA.D()?new FA:new Zoe}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new Cae(i,s,o,a,l,c);return u&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Qf(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=K5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=LT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o1(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uae(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VA(e.remoteStore,i)),t._onlineComponents=e}function zae(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Uae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await o1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zae(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await o1(t,new UA)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await o1(t,new UA);return t._offlineComponents}async function XL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await WA(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await WA(t,new $ae))),t._onlineComponents}function Wae(t){return XL(t).then(e=>e.syncEngine)}async function JL(t){const e=await XL(t),n=e.eventManager;return n.onListen=Iae.bind(null,e.syncEngine),n.onUnlisten=Aae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rae.bind(null,e.syncEngine),n}function Hae(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new QL({next:f=>{o.enqueueAndForget(()=>$L(s,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Y(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new BL(ET(a.path),u,{includeMetadataChanges:!0,ra:!0});return jL(s,h)}(await JL(t),t.asyncQueue,e,n,r)),r.promise}function qae(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new QL({next:f=>{o.enqueueAndForget(()=>$L(s,h)),f.fromCache&&l.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new BL(a,u,{includeMetadataChanges:!0,ra:!0});return jL(s,h)}(await JL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gae(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qA(t){if(!ie.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GA(t){if(ie.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qy(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dse;switch(r.type){case"firstParty":return new mse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HA.get(n);r&&(Z("ComponentProvider","Removing Datastore"),HA.delete(n),r.terminate())}(this),Promise.resolve()}}function Kae(t,e,n,r={}){var i;const s=(t=xi(t,Xy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Sn.MOCK_USER;else{a=R5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Sn(c)}t._authCredentials=new hse(new G5(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Do extends na{constructor(e,n,r){super(e,n,ET(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new ie(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function bl(t,e,...n){if(t=lt(t),e3("collection","path",e),t instanceof Xy){const r=ot.fromString(e,...n);return GA(r),new Do(t,null,r)}{if(!(t instanceof $n||t instanceof Do))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return GA(r),new Do(t.firestore,null,r)}}function rr(t,e,...n){if(t=lt(t),arguments.length===1&&(e=K5.newId()),e3("doc","path",e),t instanceof Xy){const r=ot.fromString(e,...n);return qA(r),new $n(t,null,new ie(r))}{if(!(t instanceof $n||t instanceof Do))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return qA(r),new $n(t.firestore,t instanceof Do?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new RL(this,"async_queue_retry"),this.hu=()=>{const n=s1();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=s1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=s1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Is;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Gf(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=MT.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Sl extends Xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Yae}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t3(this),this._firestoreClient.terminate()}}function Qae(t,e){const n=typeof t=="object"?t:mT(),r=typeof t=="string"?t:"(default)",i=$y(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=k5("firestore");s&&Kae(i,...s)}return i}function jT(t){return t._firestoreClient||t3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new kse(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Bae(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(Nn.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yu(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=/^__.*__$/;class Jae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kf(e,this.data,n,this.fieldTransforms)}}class n3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Zy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Zy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return wv(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(r3(this.fu)&&Xae.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Zae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gy(e)}Fu(e,n,r,i=!1){return new Zy({fu:e,methodName:n,vu:r,path:ln.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e0(t){const e=t._freezeSettings(),n=Gy(t._databaseId);return new Zae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i3(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);UT("Data must be an object, but it was:",o,r);const a=o3(r,o);let l,c;if(s.merge)l=new cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=Ib(e,h,n);if(!o.contains(f))throw new Y(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);l3(u,f)||u.push(f)}l=new cr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Jae(new Kn(a),l,c)}class t0 extends Jf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t0}}function s3(t,e,n){return new Zy({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BT extends Jf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=s3(this,e,!0),r=this.Mu.map(s=>El(s,n)),i=new pu(r);return new gL(e.path,i)}isEqual(e){return e instanceof BT&&cu(this.Mu,e.Mu)}}class zT extends Jf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=s3(this,e,!0),r=this.Mu.map(s=>El(s,n)),i=new mu(r);return new gL(e.path,i)}isEqual(e){return e instanceof zT&&cu(this.Mu,e.Mu)}}function ele(t,e,n,r){const i=t.Fu(1,e,n);UT("Data must be an object, but it was:",i,r);const s=[],o=Kn.empty();_l(r,(l,c)=>{const u=WT(e,l,n);c=lt(c);const h=i.Su(u);if(c instanceof t0)s.push(u);else{const f=El(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new cr(s);return new n3(o,a,i.fieldTransforms)}function tle(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Ib(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Ib(e,s[f])),l.push(s[f+1]);const c=[],u=Kn.empty();for(let f=a.length-1;f>=0;--f)if(!l3(c,a[f])){const p=a[f];let v=l[f];v=lt(v);const y=o.Su(p);if(v instanceof t0)c.push(p);else{const S=El(v,y);S!=null&&(c.push(p),u.set(p,S))}}const h=new cr(c);return new n3(u,h,o.fieldTransforms)}function nle(t,e,n,r=!1){return El(n,t.Fu(r?4:3,e))}function El(t,e){if(a3(t=lt(t)))return UT("Unsupported field value:",e,t),o3(t,e);if(t instanceof Jf)return function(r,i){if(!r3(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=El(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yse(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bt.fromDate(r);return{timestampValue:yv(i.serializer,s)}}if(r instanceof Bt){const s=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yv(i.serializer,s)}}if(r instanceof $T)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yu)return{bytesValue:SL(i.serializer,r._byteString)};if(r instanceof $n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Qy(r)}`)}(t,e)}function o3(t,e){const n={};return Y5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,(r,i)=>{const s=El(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof $T||t instanceof yu||t instanceof $n||t instanceof Jf)}function UT(t,e,n){if(!a3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Ib(t,e,n){if((e=lt(e))instanceof Jy)return e._internalPath;if(typeof e=="string")return WT(t,e);throw wv("Field path arguments must be of type string or ",t,!1,void 0,n)}const rle=new RegExp("[~\\*/\\[\\]]");function WT(t,e,n){if(e.search(rle)>=0)throw wv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jy(...e.split("."))._internalPath}catch{throw wv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(z.INVALID_ARGUMENT,a+t+l)}function l3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ile(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ile extends c3{data(){return super.data()}}function n0(t,e){return typeof e=="string"?WT(t,e):e instanceof Jy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HT{}class qT extends HT{}function r0(t,e,...n){let r=[];e instanceof HT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof GT).length,a=s.filter(l=>l instanceof i0).length;if(o>1||o>0&&a>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i0 extends qT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i0(e,n,r)}_apply(e){const n=this._parse(e);return u3(e._query,n),new na(e.firestore,e.converter,_b(e._query,n))}_parse(e){const n=e0(e.firestore);return function(s,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){QA(h,u);const p=[];for(const v of h)p.push(YA(l,s,v));f={arrayValue:{values:p}}}else f=YA(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||QA(h,u),f=nle(a,o,h,u==="in"||u==="not-in");return At.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hu(t,e,n){const r=e,i=n0("where",t);return i0._create(i,r,n)}class GT extends HT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)u3(o,l),o=_b(o,l)}(e._query,n),new na(e.firestore,e.converter,_b(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KT extends qT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new KT(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wf(s,o)}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new zu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ole(t,e="asc"){const n=e,r=n0("orderBy",t);return KT._create(r,n)}class YT extends qT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new YT(e,n,r)}_apply(e){return new na(e.firestore,e.converter,mv(e._query,this._limit,this._limitType))}}function ale(t){return YT._create("limit",t,"F")}function YA(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iL(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!ie.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yA(t,new ie(r))}if(n instanceof $n)return yA(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qy(n)}.`)}function QA(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u3(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lle{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _l(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $T(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_T(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);et(kL(r));const i=new yf(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h3 extends c3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mg extends h3{data(e={}){return super.data(e)}}class cle{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mg(this._firestore,this._userDataWriter,r.key,r,new Kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:ule(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ule(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){t=xi(t,$n);const e=xi(t.firestore,Sl);return Hae(jT(e),t._key).then(n=>fle(e,t,n))}class f3 extends lle{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function qu(t){t=xi(t,na);const e=xi(t.firestore,Sl),n=jT(e),r=new f3(e);return sle(t._query),qae(n,t._query).then(i=>new cle(e,r,t,i))}function p3(t,e,n){t=xi(t,$n);const r=xi(t.firestore,Sl),i=d3(t.converter,e);return s0(r,[i3(e0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zr.none())])}function qo(t,e,n,...r){t=xi(t,$n);const i=xi(t.firestore,Sl),s=e0(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof Jy?tle(s,"updateDoc",t._key,e,n,r):ele(s,"updateDoc",t._key,e),s0(i,[o.toMutation(t._key,zr.exists(!0))])}function dle(t){return s0(xi(t.firestore,Sl),[new TT(t._key,zr.none())])}function hle(t,e){const n=xi(t.firestore,Sl),r=rr(t),i=d3(t.converter,e);return s0(n,[i3(e0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function s0(t,e){return function(r,i){const s=new Is;return r.asyncQueue.enqueueAndForget(async()=>Nae(await Wae(r),i,s)),s.promise}(jT(t),e)}function fle(t,e,n){const r=n.docs.get(e._key),i=new f3(t);return new h3(t,i,e._key,r,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}function bf(...t){return new BT("arrayUnion",t)}function bv(...t){return new zT("arrayRemove",t)}(function(e,n=!0){(function(i){Bu=i})(ea),zo(new Ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Sl(new fse(r.getProvider("auth-internal")),new vse(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(pA,"4.6.2",e),Br(pA,"4.6.2","esm2017")})();var ple="firebase",mle="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(ple,mle,"app");function m3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gle=m3,g3=new Hf("auth","Firebase",m3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new jy("@firebase/auth");function vle(t,...e){Sv.logLevel<=we.WARN&&Sv.warn(`Auth (${ea}): ${t}`,...e)}function gg(t,...e){Sv.logLevel<=we.ERROR&&Sv.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw JT(t,...e)}function _i(t,...e){return JT(t,...e)}function XT(t,e,n){const r=Object.assign(Object.assign({},gle()),{[e]:n});return new Hf("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return XT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yle(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gr(t,"argument-error"),XT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g3.create(t,...e)}function ae(t,e,...n){if(!t)throw JT(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gg(e),new Error(e)}function js(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _le(){return XA()==="http:"||XA()==="https:"}function XA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_le()||Ure()||"connection"in navigator)?navigator.onLine:!0}function ble(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=fT()||N5()}get(){return wle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=new Zf(3e4,6e4);function ra(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ia(t,e,n,r,i={}){return y3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),v3.fetch()(_3(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function y3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sle),e);try{const i=new xle(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Im(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Im(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw XT(t,u,c);Gr(t,u)}}catch(i){if(i instanceof es)throw i;Gr(t,"network-request-failed",{message:String(i)})}}async function ep(t,e,n,r,i={}){const s=await ia(t,e,n,r,i);return"mfaPendingCredential"in s&&Gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ZT(t.config,i):`${t.config.apiScheme}://${i}`}function Tle(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),Ele.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Im(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}function JA(t){return t!==void 0&&t.enterprise!==void 0}class Cle{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tle(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Ile(t,e){return ia(t,"GET","/v2/recaptchaConfig",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function w3(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ple(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=ex(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sh(a1(i.auth_time)),issuedAtTime:Sh(a1(i.iat)),expirationTime:Sh(a1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function a1(t){return Number(t)*1e3}function ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gg("JWT malformed, contained fewer than 3 sections"),null;try{const i=uv(n);return i?JSON.parse(i):(gg("Failed to decode base64 JWT payload"),null)}catch(i){return gg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZA(t){const e=ex(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&Ale(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ale({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ev(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sf(t,w3(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b3(s.providerUserInfo):[],a=Ole(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pb(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Nle(t){const e=lt(t);await Ev(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ole(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b3(t){return t.map(e=>{var{providerId:n}=e,r=jf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t,e){const n=await y3(t,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",v3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mle(t,e){return ia(t,"POST","/v2/accounts:revokeToken",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=ZA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Dle(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $c;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _s{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ple(this,e)}reload(){return Nle(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ev(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Sf(this,kle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:A,isAnonymous:D,providerData:V,stsTokenManager:C}=n;ae(T&&C,e,"internal-error");const x=$c.fromJSON(this.name,C);ae(typeof T=="string",e,"internal-error"),no(h,e.name),no(f,e.name),ae(typeof A=="boolean",e,"internal-error"),ae(typeof D=="boolean",e,"internal-error"),no(p,e.name),no(v,e.name),no(y,e.name),no(S,e.name),no(b,e.name),no(w,e.name);const I=new _s({uid:T,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:b,lastLoginAt:w});return V&&Array.isArray(V)&&(I.providerData=V.map(P=>Object.assign({},P))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $c;i.updateFromServerResponse(n);const s=new _s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ev(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?b3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $c;a.updateFromIdToken(r);const l=new _s({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Map;function ws(t){js(t instanceof Function,"Expected a class definition");let e=eR.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S3.type="NONE";const tR=S3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e,n){return`firebase:${t}:${e}:${n}`}class Bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vg(this.userKey,i.apiKey,s),this.fullPersistenceKey=vg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bc(ws(tR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ws(tR);const o=vg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=_s._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I3(e))return"Blackberry";if(k3(e))return"Webos";if(tx(e))return"Safari";if((e.includes("chrome/")||T3(e))&&!e.includes("edge/"))return"Chrome";if(C3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E3(t=fn()){return/firefox\//i.test(t)}function tx(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T3(t=fn()){return/crios\//i.test(t)}function x3(t=fn()){return/iemobile/i.test(t)}function C3(t=fn()){return/android/i.test(t)}function I3(t=fn()){return/blackberry/i.test(t)}function k3(t=fn()){return/webos/i.test(t)}function o0(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lle(t=fn()){var e;return o0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fle(){return Wre()&&document.documentMode===10}function P3(t=fn()){return o0(t)||C3(t)||k3(t)||I3(t)||/windows phone/i.test(t)||x3(t)}function Vle(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e=[]){let n;switch(t){case"Browser":n=nR(fn());break;case"Worker":n=`${nR(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $le(t,e={}){return ia(t,"GET","/v2/passwordPolicy",ra(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=6;class zle{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ble,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rR(this),this.idTokenSubscription=new rR(this),this.beforeStateQueue=new jle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await w3(this,{idToken:e}),r=await _s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ev(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ble()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(ks(this));const n=e?lt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $le(this),n=new zle(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Bc.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vle(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return lt(t)}class rR{constructor(e){this.auth=e,this.observer=null,this.addObserver=eie(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wle(t){a0=t}function R3(t){return a0.loadJS(t)}function Hle(){return a0.recaptchaEnterpriseScript}function qle(){return a0.gapiScript}function Gle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kle="recaptcha-enterprise",Yle="NO_RECAPTCHA";class Qle{constructor(e){this.type=Kle,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Ile(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Cle(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;JA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Yle)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&JA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Hle();l.length!==0&&(l+=a),R3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function iR(t,e,n,r=!1){const i=new Qle(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ab(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t,e){const n=$y(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cu(s,e??{}))return i;Gr(i,"already-initialized")}return n.initialize({options:e})}function Jle(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zle(t,e,n){const r=sa(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=N3(e),{host:o,port:a}=ece(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),tce()}function N3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ece(t){const e=N3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sR(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:sR(o)}}}function sR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function nce(t,e){return ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rce(t,e){return ep(t,"POST","/v1/accounts:signInWithPassword",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ice(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}async function sce(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends nx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ef(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ef(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,n,"signInWithPassword",rce);case"emailLink":return ice(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,r,"signUpPassword",nce);case"emailLink":return sce(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t,e){return ep(t,"POST","/v1/accounts:signInWithIdp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce="http://localhost";class sl extends nx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new sl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zc(e,n)}buildRequest(){const e={requestUri:oce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lce(t){const e=Ud(Wd(t)).link,n=e?Ud(Wd(e)).deep_link_id:null,r=Ud(Wd(t)).deep_link_id;return(r?Ud(Wd(r)).link:null)||r||n||e||t}class rx{constructor(e){var n,r,i,s,o,a;const l=Ud(Wd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ace((i=l.mode)!==null&&i!==void 0?i:null);ae(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lce(e);try{return new rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.providerId=Gu.PROVIDER_ID}static credential(e,n){return Ef._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rx.parseLink(n);return ae(r,"argument-error"),Ef._fromEmailAndCode(e,r.code,r.tenantId)}}Gu.PROVIDER_ID="password";Gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends tp{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sl._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends tp{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends tp{constructor(){super("twitter.com")}static credential(e,n){return sl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cce(t,e){return ep(t,"POST","/v1/accounts:signUp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _s._fromIdTokenResponse(e,r,i),o=oR(r);return new ol({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oR(r);return new ol({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends es{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tv(e,n,r,i)}}function O3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tv._fromErrorAndOperation(t,s,e,r):s})}async function uce(t,e,n=!1){const r=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ol._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dce(t,e,n=!1){const{auth:r}=t;if(hi(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const s=await Sf(t,O3(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=ex(s.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),ol._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e,n=!1){if(hi(t.app))return Promise.reject(ks(t));const r="signIn",i=await O3(t,r,e),s=await ol._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function hce(t,e){return D3(sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fce(t,e,n){if(hi(t.app))return Promise.reject(ks(t));const r=sa(t),o=await Ab(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cce).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&M3(t),l}),a=await ol._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pce(t,e,n){return hi(t.app)?Promise.reject(ks(t)):hce(lt(t),Gu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M3(t),r})}function mce(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function gce(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function vce(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}const xv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xv,"1"),this.storage.removeItem(xv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(){const t=fn();return tx(t)||o0(t)}const _ce=1e3,wce=10;class F3 extends L3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yce()&&Vle(),this.fallbackToPolling=P3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fle()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_ce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F3.type="LOCAL";const bce=F3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3 extends L3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V3.type="SESSION";const j3=V3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new l0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Sce(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}l0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=sx("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function Tce(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function xce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ice(){return $3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="firebaseLocalStorageDb",kce=1,Cv="firebaseLocalStorage",z3="fbase_key";class np{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function c0(t,e){return t.transaction([Cv],e?"readwrite":"readonly").objectStore(Cv)}function Pce(){const t=indexedDB.deleteDatabase(B3);return new np(t).toPromise()}function Rb(){const t=indexedDB.open(B3,kce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cv,{keyPath:z3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cv)?e(r):(r.close(),await Pce(),e(await Rb()))})})}async function aR(t,e,n){const r=c0(t,!0).put({[z3]:e,value:n});return new np(r).toPromise()}async function Ace(t,e){const n=c0(t,!1).get(e),r=await new np(n).toPromise();return r===void 0?null:r.value}function lR(t,e){const n=c0(t,!0).delete(e);return new np(n).toPromise()}const Rce=800,Nce=3;class U3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Nce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=l0._getInstance(Ice()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xce(),!this.activeServiceWorker)return;this.sender=new Ece(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rb();return await aR(e,xv,"1"),await lR(e,xv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ace(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=c0(i,!1).getAll();return new np(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U3.type="LOCAL";const Oce=U3;new Zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){return e?ws(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends nx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dce(t){return D3(t.auth,new ox(t),t.bypassAuthState)}function Mce(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),dce(n,new ox(t),t.bypassAuthState)}async function Lce(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),uce(n,new ox(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dce;case"linkViaPopup":case"linkViaRedirect":return Lce;case"reauthViaPopup":case"reauthViaRedirect":return Mce;default:Gr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce=new Zf(2e3,1e4);async function Vce(t,e,n){if(hi(t.app))return Promise.reject(_i(t,"operation-not-supported-in-this-environment"));const r=sa(t);yle(t,e,ix);const i=W3(r,n);return new Na(r,"signInViaPopup",e,i).executeNotNull()}class Na extends H3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=sx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fce.get())};e()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce="pendingRedirect",yg=new Map;class $ce extends H3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yg.get(this.auth._key());if(!e){try{const r=await Bce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yg.set(this.auth._key(),e)}return this.bypassAuthState||yg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bce(t,e){const n=Wce(e),r=Uce(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zce(t,e){yg.set(t._key(),e)}function Uce(t){return ws(t._redirectPersistence)}function Wce(t){return vg(jce,t.config.apiKey,t.name)}async function Hce(t,e,n=!1){if(hi(t.app))return Promise.reject(ks(t));const r=sa(t),i=W3(r,e),o=await new $ce(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qce=10*60*1e3;class Gce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!q3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qce&&this.cachedEventUids.clear(),this.cachedEventUids.has(cR(e))}saveEventToCache(e){this.cachedEventUids.add(cR(e)),this.lastProcessedEventTime=Date.now()}}function cR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yce(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xce=/^https?/;async function Jce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yce(t);for(const n of e)try{if(Zce(n))return}catch{}Gr(t,"unauthorized-domain")}function Zce(t){const e=kb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Xce.test(n))return!1;if(Qce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=new Zf(3e4,6e4);function uR(){const t=Yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tue(t){return new Promise((e,n)=>{var r,i,s;function o(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),n(_i(t,"network-request-failed"))},timeout:eue.get()})}if(!((i=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yi().gapi)===null||s===void 0)&&s.load)o();else{const a=Gle("iframefcb");return Yi()[a]=()=>{gapi.load?o():n(_i(t,"network-request-failed"))},R3(`${qle()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _g=null,e})}let _g=null;function nue(t){return _g=_g||tue(t),_g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue=new Zf(5e3,15e3),iue="__/auth/iframe",sue="emulator/auth/iframe",oue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lue(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZT(e,sue):`https://${t.config.authDomain}/${iue}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=aue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$u(r).slice(1)}`}async function cue(t){const e=await nue(t),n=Yi().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:lue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_i(t,"network-request-failed"),a=Yi().setTimeout(()=>{s(o)},rue.get());function l(){Yi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},due=500,hue=600,fue="_blank",pue="http://localhost";class dR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mue(t,e,n,r=due,i=hue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=fn().toLowerCase();n&&(a=T3(c)?fue:n),E3(c)&&(e=e||pue,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(Lle(c)&&a!=="_self")return gue(e||"",a),new dR(null);const h=window.open(e||"",a,u);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new dR(h)}function gue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue="__/auth/handler",yue="emulator/auth/handler",_ue=encodeURIComponent("fac");async function hR(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ab(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof tp){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${_ue}=${encodeURIComponent(l)}`:"";return`${wue(t)}?${$u(a).slice(1)}${c}`}function wue({config:t}){return t.emulator?ZT(t,yue):`https://${t.authDomain}/${vue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="webStorageSupport";class bue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j3,this._completeRedirectFn=Hce,this._overrideRedirectResult=zce}async _openPopup(e,n,r,i){var s;js((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hR(e,n,r,kb(),i);return mue(e,o,sx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hR(e,n,r,kb(),i);return Tce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cue(e),r=new Gce(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l1,{type:l1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[l1];o!==void 0&&n(!!o),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P3()||tx()||o0()}}const Sue=bue;var fR="@firebase/auth",pR="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xue(t){zo(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A3(t)},c=new Ule(r,i,s,l);return Jle(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Ls("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new Eue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(fR,pR,Tue(t)),Br(fR,pR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue=5*60,Iue=A5("authIdTokenMaxAge")||Cue;let mR=null;const kue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iue)return;const i=n==null?void 0:n.token;mR!==i&&(mR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pue(t=mT()){const e=$y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Xle(t,{popupRedirectResolver:Sue,persistence:[Oce,bce,j3]}),r=A5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kue(s.toString());gce(n,o,()=>o(n.currentUser)),mce(n,a=>o(a))}}const i=I5("auth");return i&&Zle(n,`http://${i}`),n}function Aue(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wle({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Aue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xue("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firebasestorage.googleapis.com",K3="storageBucket",Rue=2*60*1e3,Nue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends es{constructor(e,n,r=0){super(c1(e),`Firebase Storage: ${n} (${c1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return c1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function c1(t){return"storage/"+t}function ax(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(vt.UNKNOWN,t)}function Oue(t){return new yt(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Due(t){return new yt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mue(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(vt.UNAUTHENTICATED,t)}function Lue(){return new yt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Fue(t){return new yt(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Vue(){return new yt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jue(){return new yt(vt.CANCELED,"User canceled the upload/download.")}function $ue(t){return new yt(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function Bue(t){return new yt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zue(){return new yt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K3+"' property when initializing the app?")}function Uue(){return new yt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wue(){return new yt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Hue(t){return new yt(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nb(t){return new yt(vt.INVALID_ARGUMENT,t)}function Y3(){return new yt(vt.APP_DELETED,"The Firebase app was deleted.")}function que(t){return new yt(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eh(t,e){return new yt(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Cd(t){throw new yt(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(r.path==="")return r;throw Bue(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},y=n===G3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${S}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<T.length;A++){const D=T[A],V=D.regex.exec(e);if(V){const C=V[D.indices.bucket];let x=V[D.indices.path];x||(x=""),r=new ur(C,x),D.postModify(r);break}}if(r==null)throw $ue(e);return r}}class Gue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){s&&clearTimeout(s)}function p(S,...b){if(c){f();return}if(S){f(),u.call(null,S,...b);return}if(l()||o){f(),u.call(null,S,...b);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let v=!1;function y(S){v||(v=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function Yue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(t){return t!==void 0}function Xue(t){return typeof t=="object"&&!Array.isArray(t)}function lx(t){return typeof t=="string"||t instanceof String}function gR(t){return cx()&&t instanceof Blob}function cx(){return typeof Blob<"u"}function vR(t,e,n,r){if(r<e)throw Nb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Nb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Q3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(e,n,r,i,s,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new km(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ha.NO_ERROR,l=s.getStatus();if(!a||Jue(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Ha.ABORT;r(!1,new km(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new km(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Que(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ax();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Y3():jue();o(l)}else{const l=Vue();o(l)}};this.canceled_?n(!1,new km(!1,null,!0)):this.backoffId_=Kue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class km{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ede(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tde(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nde(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rde(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ide(t,e,n,r,i,s,o=!0){const a=Q3(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return nde(c,e),ede(c,n),tde(c,s),rde(c,r),new Zue(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ode(...t){const e=sde();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cx())return new Blob(t);throw new yt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ade(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(t){if(typeof atob>"u")throw Hue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class u1{constructor(e,n){this.data=e,this.contentType=n||null}}function X3(t,e){switch(t){case fi.RAW:return new u1(J3(e));case fi.BASE64:case fi.BASE64URL:return new u1(Z3(t,e));case fi.DATA_URL:return new u1(ude(e),dde(e))}throw ax()}function J3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cde(t){let e;try{e=decodeURIComponent(t)}catch{throw Eh(fi.DATA_URL,"Malformed data URL.")}return J3(e)}function Z3(t,e){switch(t){case fi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Eh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Eh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lde(e)}catch(i){throw i.message.includes("polyfill")?i:Eh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eh(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hde(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ude(t){const e=new eF(t);return e.base64?Z3(fi.BASE64,e.rest):cde(e.rest)}function dde(t){return new eF(t).contentType}function hde(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){let r=0,i="";gR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gR(this.data_)){const r=this.data_,i=ade(r,e,n);return i===null?null:new po(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new po(r,!0)}}static getBlob(...e){if(cx()){const n=e.map(r=>r instanceof po?r.data_:r);return new po(ode.apply(null,n))}else{const n=e.map(o=>lx(o)?X3(fi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new po(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){let e;try{e=JSON.parse(t)}catch{return null}return Xue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fde(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pde(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mde(t,e){return e}class Mn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mde}}let Pm=null;function gde(t){return!lx(t)||t.length<2?t:nF(t)}function ux(){if(Pm)return Pm;const t=[];t.push(new Mn("bucket")),t.push(new Mn("generation")),t.push(new Mn("metageneration")),t.push(new Mn("name","fullPath",!0));function e(s,o){return gde(o)}const n=new Mn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Mn("size");return i.xform=r,t.push(i),t.push(new Mn("timeCreated")),t.push(new Mn("updated")),t.push(new Mn("md5Hash",null,!0)),t.push(new Mn("cacheControl",null,!0)),t.push(new Mn("contentDisposition",null,!0)),t.push(new Mn("contentEncoding",null,!0)),t.push(new Mn("contentLanguage",null,!0)),t.push(new Mn("contentType",null,!0)),t.push(new Mn("metadata","customMetadata",!0)),Pm=t,Pm}function vde(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ur(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function yde(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return vde(r,t),r}function rF(t,e,n){const r=tF(e);return r===null?null:yde(t,r,n)}function _de(t,e,n,r){const i=tF(e);if(i===null||!lx(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=rp(f,n,r),v=Q3({alt:"media",token:c});return p+v})[0]}function wde(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class u0{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){if(!t)throw ax()}function sF(t,e){function n(r,i){const s=rF(t,i,e);return iF(s!==null),s}return n}function bde(t,e){function n(r,i){const s=rF(t,i,e);return iF(s!==null),_de(s,i,t.host,t._protocol)}return n}function oF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Lue():i=Mue():n.getStatus()===402?i=Due(t.bucket):n.getStatus()===403?i=Fue(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dx(t){const e=oF(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Oue(t.path)),s.serverResponse=i.serverResponse,s}return n}function Sde(t,e,n){const r=e.fullServerUrl(),i=rp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new u0(i,s,sF(t,n),o);return a.errorHandler=dx(e),a}function Ede(t,e,n){const r=e.fullServerUrl(),i=rp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new u0(i,s,bde(t,n),o);return a.errorHandler=dx(e),a}function Tde(t,e){const n=e.fullServerUrl(),r=rp(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new u0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=dx(e),a}function xde(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Cde(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xde(null,e)),r}function Ide(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let A=0;A<2;A++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Cde(e,r,i),u=wde(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=po.getBlob(h,r,f);if(p===null)throw Uue();const v={name:c.fullPath},y=rp(s,t.host,t._protocol),S="POST",b=t.maxUploadRetryTime,w=new u0(y,S,sF(t,n),b);return w.urlParams=v,w.headers=o,w.body=p.uploadData(),w.errorHandler=oF(e),w}class kde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Pde extends kde{initXhr(){this.xhr_.responseType="text"}}function d0(){return new Pde}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new al(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nF(this._location.path)}get storage(){return this._service}get parent(){const e=fde(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new al(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw que(e)}}function Ade(t,e,n){t._throwIfRoot("uploadBytes");const r=Ide(t.storage,t._location,ux(),new po(e,!0),n);return t.storage.makeRequestWithTokens(r,d0).then(i=>({metadata:i,ref:t}))}function Rde(t,e,n=fi.RAW,r){t._throwIfRoot("uploadString");const i=X3(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),Ade(t,i.data,s)}function Nde(t){t._throwIfRoot("getMetadata");const e=Sde(t.storage,t._location,ux());return t.storage.makeRequestWithTokens(e,d0)}function Ode(t){t._throwIfRoot("getDownloadURL");const e=Ede(t.storage,t._location,ux());return t.storage.makeRequestWithTokens(e,d0).then(n=>{if(n===null)throw Wue();return n})}function Dde(t){t._throwIfRoot("deleteObject");const e=Tde(t.storage,t._location);return t.storage.makeRequestWithTokens(e,d0)}function Mde(t,e){const n=pde(t._location.path,e),r=new ur(t._location.bucket,n);return new al(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lde(t){return/^[A-Za-z]+:\/\//.test(t)}function Fde(t,e){return new al(t,e)}function aF(t,e){if(t instanceof hx){const n=t;if(n._bucket==null)throw zue();const r=new al(n,n._bucket);return e!=null?aF(r,e):r}else return e!==void 0?Mde(t,e):t}function Vde(t,e){if(e&&Lde(e)){if(t instanceof hx)return Fde(t,e);throw Nb("To use ref(service, url), the first argument must be a Storage instance.")}else return aF(t,e)}function yR(t,e){const n=e==null?void 0:e[K3];return n==null?null:ur.makeFromBucketSpec(n,t)}function jde(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:R5(i,t.app.options.projectId))}class hx{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=G3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rue,this._maxUploadRetryTime=Nue,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=yR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=yR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new al(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Gue(Y3());{const o=ide(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _R="@firebase/storage",wR="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="storage";function cF(t,e,n,r){return t=lt(t),Rde(t,e,n,r)}function $de(t){return t=lt(t),Nde(t)}function uF(t){return t=lt(t),Ode(t)}function Bde(t){return t=lt(t),Dde(t)}function Iv(t,e){return t=lt(t),Vde(t,e)}function zde(t=mT(),e){t=lt(t);const r=$y(t,lF).getImmediate({identifier:e}),i=k5("storage");return i&&Ude(r,...i),r}function Ude(t,e,n,r={}){jde(t,e,n,r)}function Wde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hx(n,r,i,e,ea)}function Hde(){zo(new Ls(lF,Wde,"PUBLIC").setMultipleInstances(!0)),Br(_R,wR,""),Br(_R,wR,"esm2017")}Hde();const dF={apiKey:"AIzaSyBFSq-4hJI_VC_uaFDjqYGnR5GQcYFRwM8",authDomain:"instagram-clone-9f597.firebaseapp.com",projectId:"instagram-clone-9f597",storageBucket:"instagram-clone-9f597.appspot.com",messagingSenderId:"757864955422",appId:"1:757864955422:web:a32bee07a471ff4605380f",measurementId:"G-K6Y53LNVNE"};console.log(dF);const fx=F5(dF),ip=Pue(fx),Mt=Qae(fx),kv=zde(fx),px=t=>{const[e,n]=E.useState(!1),[r,i]=E.useState(!1),s=Tt(h=>h.user),o=Tt(h=>h.setUser),{userProfile:a,setUserProfile:l}=Ei(),c=Ut(),u=async()=>{n(!0);try{const h=rr(Mt,"users",s.uid),f=rr(Mt,"users",t);await qo(h,{following:r?bv(t):bf(t)}),await qo(f,{followers:r?bv(s.uid):bf(s.uid)}),r?(o({...s,following:s.following.filter(p=>p!==t)}),a&&l({...a,followers:a.followers.filter(p=>p!==s.uid)}),localStorage.setItem("user-info",JSON.stringify({...s,following:s.following.filter(p=>p!==t)})),i(!1)):(o({...s,following:[...s.following,t]}),a&&l({...a,followers:[...a.followers,s.uid]}),localStorage.setItem("user-info",JSON.stringify({...s,following:[...s.following,t]})),i(!0))}catch(h){console.log(h),c("Error",h.message,"error")}finally{n(!1)}};return E.useEffect(()=>{s&&i(s.following.includes(t))},[s,t]),{isUpdating:e,isFollowing:r,handleFollowUser:u}};function Ot(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}const qde=864e5,Gde=6e4,Kde=36e5;function bR(t){const e=Ot(t);return e.setHours(0,0,0,0),e}function SR(t){const e=Ot(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Yde(t,e){const n=bR(t),r=bR(e),i=+n-SR(n),s=+r-SR(r);return Math.round((i-s)/qde)}function Th(t,e){const n=Ot(t),r=Ot(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Qde(t,e){const n=Ot(t),r=Ot(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Xde(t,e){const n=Ot(t),r=Ot(e);return n.getFullYear()-r.getFullYear()}function hF(t,e){const n=Ot(t),r=Ot(e),i=ER(n,r),s=Math.abs(Yde(n,r));n.setDate(n.getDate()-i*s);const o=+(ER(n,r)===-i),a=i*(s-o);return a===0?0:a}function ER(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function h0(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function mx(t,e){return+Ot(t)-+Ot(e)}function Jde(t,e,n){const r=mx(t,e)/Kde;return h0(n==null?void 0:n.roundingMethod)(r)}function Zde(t,e,n){const r=mx(t,e)/Gde;return h0(n==null?void 0:n.roundingMethod)(r)}function ehe(t){const e=Ot(t);return e.setHours(23,59,59,999),e}function the(t){const e=Ot(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function nhe(t){const e=Ot(t);return+ehe(e)==+the(e)}function rhe(t,e){const n=Ot(t),r=Ot(e),i=Th(n,r),s=Math.abs(Qde(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let a=Th(n,r)===-i;nhe(Ot(t))&&s===1&&Th(t,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function ihe(t,e,n){const r=mx(t,e)/1e3;return h0(n==null?void 0:n.roundingMethod)(r)}function she(t,e,n){const r=hF(t,e)/7;return h0(n==null?void 0:n.roundingMethod)(r)}function ohe(t,e){const n=Ot(t),r=Ot(e),i=Th(n,r),s=Math.abs(Xde(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=Th(n,r)===-i,a=i*(s-+o);return a===0?0:a}function f0(t){const e=new Date,n=new Date(t),r=ihe(e,n),i=Zde(e,n),s=Jde(e,n),o=hF(e,n),a=she(e,n),l=rhe(e,n),c=ohe(e,n);return c>0?`${c}y ago`:l>0?`${l}mo ago`:a>0?`${a}w ago`:o>0?`${o}d ago`:s>0?`${s}h ago`:i>0?`${i}m ago`:`${r}s ago`}const ahe=({post:t,creatorProfile:e})=>{const{handleFollowUser:n,isFollowing:r,isUpdating:i}=px(t.createdBy);return g.jsxs(X,{justifyContent:"space-between",alignItems:"center",w:"full",my:2,children:[g.jsxs(X,{alignItems:"center",gap:2,children:[e?g.jsx(hn,{to:`/${e.username}`,children:g.jsx(Ji,{src:e.profilePicURL,alt:"user profile pic",size:"sm"})}):g.jsx(Wf,{size:"10"}),g.jsxs(X,{fontSize:12,fontWeight:"bold",gap:2,children:[e?g.jsx(hn,{to:`/${e.username}`,children:e.username}):g.jsx(yi,{w:"100px",h:"10px"}),g.jsx(ke,{color:"gray.500",children:f0(t.createdAt)})]})]}),g.jsx(ke,{cursor:"pointer",children:g.jsx(Nt,{size:"xs",bg:"transparent",fontSize:12,color:"blue.500",fontWeight:"bold",_hover:{color:"white"},transition:"0.2s ease-in-out",onClick:n,isLoading:i,children:r?"Unfollow":"Follow"})})]})},lhe=()=>g.jsx("svg",{"aria-label":"Instagram",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"29",role:"img",viewBox:"32 4 113 32",width:"103",children:g.jsx("path",{clipRule:"evenodd",d:"M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z",fill:"currentColor",fillRule:"evenodd"})}),che=()=>g.jsxs("svg",{"aria-label":"Instagram",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[g.jsx("title",{children:"Instagram"}),g.jsx("path",{d:"M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"})]}),uhe=()=>g.jsxs("svg",{"aria-label":"Search",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[g.jsx("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),g.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"})]}),fF=()=>g.jsx("svg",{"aria-label":"Notifications",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:g.jsx("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"})}),dhe=()=>g.jsxs("svg",{"aria-label":"Unlike",color:"rgb(255, 48, 64)",fill:"rgb(255, 48, 64)",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",children:[g.jsx("title",{children:"Unlike"}),g.jsx("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})]}),hhe=()=>g.jsxs("svg",{"aria-label":"New post",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[g.jsx("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),g.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"}),g.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"})]}),fhe=()=>g.jsxs("svg",{"aria-label":"Comment",color:"rgb(245, 245, 245)",fill:"rgb(245, 245, 245)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[g.jsx("title",{children:"Comment"}),g.jsx("path",{d:"M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]}),_u=uT(t=>({posts:[],createPost:e=>t(n=>({posts:[e,...n.posts]})),deletePost:e=>t(n=>({posts:n.posts.filter(r=>r.id!==e)})),setPosts:e=>t({posts:e}),addComment:(e,n)=>t(r=>({posts:r.posts.map(i=>{if(i.id===e)return{...i,comments:[n,...i.comments]}})}))})),pF=()=>{const[t,e]=E.useState(!1),n=Ut(),r=Tt(o=>o.user),i=_u(o=>o.addComment);return{isCommenting:t,handlePostComment:async(o,a)=>{if(t)return;if(!r)return n("Error","You must be logged in to comment","error");e(!0);const l={comment:a,createdAt:Date.now(),createdBy:r.uid,postId:o};try{await qo(rr(Mt,"posts",o),{comments:bf(l)}),i(o,l)}catch(c){n("Error",c.message,"error")}finally{e(!1)}}}},phe=t=>{var u,h;const[e,n]=E.useState(!1),r=Tt(f=>f.user),[i,s]=E.useState(((u=t==null?void 0:t.likes)==null?void 0:u.length)||0),[o,a]=E.useState(((h=t==null?void 0:t.likes)==null?void 0:h.includes(r==null?void 0:r.uid))||!1),l=Ut();return{handleLikePost:async()=>{if(!e){if(!r)return l("Error","You must be logged in to like a post","error");n(!0);try{const f=rr(Mt,"posts",t.id);await qo(f,{likes:o?bv(r.uid):bf(r.uid)}),a(!o),s(p=>o?p-1:p+1)}catch(f){l("Error",f.message,"error")}finally{n(!1)}}},isLiked:o,isUpdating:e,likes:i}},mF=t=>{const[e,n]=E.useState(!0),[r,i]=E.useState(null),s=Ut();return E.useEffect(()=>{(async()=>{n(!0),i(null);try{const a=await QT(rr(Mt,"users",t));a.exists()&&i(a.data())}catch(a){s("Error",a.message,"error")}finally{n(!1)}})()},[s,i,t]),{isLoading:e,userProfile:r,setUserProfile:i}},gF=({comment:t})=>{const{userProfile:e,isLoading:n}=mF(t.createdBy);return n?g.jsx(mhe,{}):g.jsxs(X,{gap:4,children:[g.jsx(hn,{to:`/${e.username}`,children:g.jsx(Ji,{src:e.profilePicURL,size:"sm"})}),g.jsxs(X,{direction:"column",children:[g.jsxs(X,{gap:2,alignItems:"center",children:[g.jsx(be,{fontWeight:"bold",fontSize:12,children:g.jsx(hn,{to:`/${e.username}`,children:e.username})}),g.jsx(be,{fontSize:14,children:t.comment})]}),g.jsx(be,{fontSize:12,color:"gray",children:f0(t.createdAt)})]})]})},mhe=()=>g.jsxs(X,{gap:4,w:"full",alignItems:"center",children:[g.jsx(Wf,{h:10,w:"10"}),g.jsxs(X,{gap:1,flexDir:"column",children:[g.jsx(yi,{height:2,w:100}),g.jsx(yi,{height:2,w:50})]})]}),ghe=({isOpen:t,onClose:e,post:n})=>{const{handlePostComment:r,isCommenting:i}=pF(),s=E.useRef(null),o=E.useRef(null),a=async l=>{l.preventDefault(),await r(n.id,s.current.value),s.current.value=""};return g.jsxs(Du,{isOpen:t,onClose:e,motionPreset:"slideInLeft",children:[g.jsx(Lu,{}),g.jsxs(Mu,{bg:"black",border:"1px solid gray",maxW:"400px",children:[g.jsx(Uf,{children:"Comments"}),g.jsx(Vu,{}),g.jsxs(Fu,{pb:6,children:[g.jsx(X,{mb:4,gap:4,flexDir:"column",maxH:"250px",overflowY:"auto",ref:o,children:n.comments.map((l,c)=>g.jsx(gF,{comment:l},c))}),g.jsxs("form",{onSubmit:a,style:{marginTop:"2rem"},children:[g.jsx(kn,{placeholder:"Comment",size:"sm",ref:s}),g.jsx(X,{w:"full",justifyContent:"flex-end",children:g.jsx(Nt,{type:"submit",ml:"auto",size:"sm",my:4,isLoading:i,children:"Post"})})]})]})]})]})},vF=({post:t,isProfilePage:e,creatorProfile:n})=>{const{isCommenting:r,handlePostComment:i}=pF(),[s,o]=E.useState(""),a=Tt(S=>S.user),l=E.useRef(null),{handleLikePost:c,isLiked:u,likes:h}=phe(t),{isOpen:f,onOpen:p,onClose:v}=$f(),y=async()=>{await i(t.id,s),o("")};return g.jsxs(ke,{mb:10,marginTop:"auto",children:[g.jsxs(X,{alignItems:"center",gap:4,w:"full",pt:0,mb:2,mt:4,children:[g.jsx(ke,{onClick:c,cursor:"pointer",fontSize:18,children:u?g.jsx(dhe,{}):g.jsx(fF,{})}),g.jsx(ke,{cursor:"pointer",fontSize:18,onClick:()=>l.current.focus(),children:g.jsx(fhe,{})})]}),g.jsxs(be,{fontWeight:600,fontSize:"sm",children:[h," likes"]}),!e&&g.jsxs(be,{fontSize:"12",color:"gray",children:["Posted ",f0(t.createdAt)]}),!e&&g.jsxs(g.Fragment,{children:[g.jsxs(be,{fontSize:"sm",fontWeight:700,children:[n==null?void 0:n.username,g.jsx(be,{as:"span",fontWeight:400,children:t.caption})]}),t.comments.length>0&&g.jsxs(be,{fontSize:"sm",color:"gray",cursor:"pointer",onClick:p,children:["View all ",t.comments.length," comments"]}),f?g.jsx(ghe,{isOpen:f,onClose:v,post:t}):null]}),a&&g.jsx(X,{alignItems:"center",gap:2,justifyContent:"space-between",w:"full",children:g.jsxs(nT,{children:[g.jsx(kn,{variant:"flushed",placeholder:"Add a comment...",fontSize:14,onChange:S=>o(S.target.value),value:s,ref:l}),g.jsx(Oy,{children:g.jsx(Nt,{fontSize:14,color:"blue.500",fontWeight:600,cursor:"pointer",_hover:{color:"white"},bg:"transparent",onClick:y,isLoading:r,children:"Post"})})]})})]})},vhe=({post:t})=>{const{userProfile:e}=mF(t.createdBy);return g.jsxs(g.Fragment,{children:[g.jsx(ahe,{post:t,creatorProfile:e}),g.jsx(ke,{my:2,borderRadius:4,overflow:"hidden",alignItems:"center",children:g.jsx(vi,{mx:"auto",src:t.imageURL})}),g.jsx(vF,{post:t,creatorProfile:e})]})},yhe=()=>{const[t,e]=E.useState(!0),{posts:n,setPosts:r}=_u(),i=Tt(a=>a.user),s=Ut(),{setUserProfile:o}=Ei();return E.useEffect(()=>{i&&(async()=>{if(!i||!i.following){e(!1),r([]);return}if(e(!0),i.following.length===0){e(!1),r([]);return}const l=r0(bl(Mt,"posts"),Hu("createdBy","in",i.following));try{const c=await qu(l),u=[];c.forEach(h=>{u.push({...h.data(),id:h.id})}),u.sort((h,f)=>f.createdAt-h.createdAt),r(u)}catch(c){s("Error",`Failed to fetch posts: ${c.message}`,"error")}finally{e(!1)}})()},[i,s,r,o]),{isLoading:t,posts:n}},_he=()=>{const{isLoading:t,posts:e}=yhe();return g.jsxs(Nu,{maxW:"contaienr.sm",py:10,px:2,children:[t&&[0,1,2].map((n,r)=>g.jsxs(Si,{gap:4,alignItems:"flex-start",mb:10,children:[g.jsxs(X,{gap:"2",children:[g.jsx(Wf,{size:"10"}),g.jsxs(Si,{gap:2,alignItems:"flex-start",children:[g.jsx(yi,{height:"10",w:"200"}),g.jsx(yi,{height:"10",w:"200"})]})]}),g.jsx(yi,{w:"full",children:g.jsx(ke,{h:"500px",children:"contents wrapped"})})]},r)),!t&&e.length>0&&e.map(n=>g.jsx(vhe,{post:n},n.id)),!t&&e.length===0&&g.jsxs(g.Fragment,{children:[g.jsx(be,{fontSize:"md",color:"red.400",children:"Dayuum. Looks like you don't have any friends."}),g.jsx(be,{color:"red.400",children:"Stop coding and go make some!"})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sp(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function op(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sc=function(){return Sc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sc.apply(this,arguments)},yF=function(t){return{loading:t==null,value:t}},whe=function(){return function(t,e){switch(e.type){case"error":return Sc(Sc({},t),{error:e.error,loading:!1,value:void 0});case"reset":return yF(e.defaultValue);case"value":return Sc(Sc({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},bhe=function(t){var e=t?t():void 0,n=E.useReducer(whe(),yF(e)),r=n[0],i=n[1],s=E.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=E.useCallback(function(l){i({type:"error",error:l})},[]),a=E.useCallback(function(l){i({type:"value",value:l})},[]);return E.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},She=function(t,e){var n=bhe(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return E.useEffect(function(){var l=vce(t,function(c){return sp(void 0,void 0,void 0,function(){var u;return op(this,function(h){switch(h.label){case 0:return[3,4];case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return h.sent(),[3,4];case 3:return u=h.sent(),s(u),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},Ehe=function(t,e){var n=E.useState(),r=n[0],i=n[1],s=E.useState(),o=s[0],a=s[1],l=E.useState(!1),c=l[0],u=l[1],h=E.useCallback(function(f,p){return sp(void 0,void 0,void 0,function(){var v,y;return op(this,function(S){switch(S.label){case 0:u(!0),i(void 0),S.label=1;case 1:return S.trys.push([1,5,6,7]),[4,fce(t,f,p)];case 2:return v=S.sent(),[3,4];case 3:S.sent(),S.label=4;case 4:return a(v),[2,v];case 5:return y=S.sent(),i(y),[3,7];case 6:return u(!1),[7];case 7:return[2]}})})},[t,e]);return[h,o,c,r]},The=function(t){var e=E.useState(),n=e[0],r=e[1],i=E.useState(),s=i[0],o=i[1],a=E.useState(!1),l=a[0],c=a[1],u=E.useCallback(function(h,f){return sp(void 0,void 0,void 0,function(){var p,v;return op(this,function(y){switch(y.label){case 0:c(!0),r(void 0),y.label=1;case 1:return y.trys.push([1,3,4,5]),[4,pce(t,h,f)];case 2:return p=y.sent(),o(p),[2,p];case 3:return v=y.sent(),r(v),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[t]);return[u,s,l,n]},xhe=function(t){var e=E.useCallback(function(n,r){var i=new fs;return n&&n.forEach(function(s){return i.addScope(s)}),r&&i.setCustomParameters(r),i},[]);return Che(t,e)},Che=function(t,e){var n=E.useState(),r=n[0],i=n[1],s=E.useState(),o=s[0],a=s[1],l=E.useState(!1),c=l[0],u=l[1],h=E.useCallback(function(f,p){return sp(void 0,void 0,void 0,function(){var v,y,S;return op(this,function(b){switch(b.label){case 0:u(!0),i(void 0),b.label=1;case 1:return b.trys.push([1,3,4,5]),v=e(f,p),[4,Vce(t,v)];case 2:return y=b.sent(),a(y),[2,y];case 3:return S=b.sent(),i(S),[3,5];case 4:return u(!1),[7];case 5:return[2]}})})},[t,e]);return[h,o,c,r]},Ihe=function(t){var e=E.useState(),n=e[0],r=e[1],i=E.useState(!1),s=i[0],o=i[1],a=E.useCallback(function(){return sp(void 0,void 0,void 0,function(){var l;return op(this,function(c){switch(c.label){case 0:o(!0),r(void 0),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,t.signOut()];case 2:return c.sent(),[2,!0];case 3:return l=c.sent(),r(l),[2,!1];case 4:return o(!1),[7];case 5:return[2]}})})},[t]);return[a,s,n]};const _F=()=>{const[t,e,n]=Ihe(ip),r=Ut(),i=Tt(o=>o.logout);return{handleLogout:async()=>{try{await t(),localStorage.removeItem("user-info"),i()}catch(o){r("Error",o.message,"error")}},isLoggingOut:e,error:n}},khe=()=>{const{handleLogout:t,isLoggingOut:e}=_F(),n=Tt(r=>r.user);return n?g.jsxs(X,{justifyContent:"space-between",alignItems:"center",w:"full",children:[g.jsxs(X,{alignItems:"center",gap:2,children:[g.jsx(hn,{to:`${n.username}`,children:g.jsx(Ji,{size:"lg",src:n.profilePicURL})}),g.jsx(hn,{to:`${n.username}`,children:g.jsx(be,{fontSize:14,fonweight:"bold",children:n.username})})]}),g.jsx(Nt,{size:"xs",background:"transparent",_hover:{background:"transparent"},fontSize:14,fontWeight:"medium",color:"blue.400",onClick:t,isLoading:e,cursor:"pointer",children:"Log out"})]}):null},Ob=({user:t,setUser:e})=>{const{isFollowing:n,isUpdating:r,handleFollowUser:i}=px(t.uid),s=Tt(a=>a.user),o=async()=>{await i(),e({...t,followers:n?t.followers.filter(a=>a!==s.uid):[...t.followers,s]})};return g.jsxs(X,{justifyContent:"space-between",alignItems:"center",w:"full",children:[g.jsxs(X,{alignItems:"center",gap:2,children:[g.jsx(hn,{to:`/${t.username}`,children:g.jsx(Ji,{src:t.profilePicURL,size:"md"})}),g.jsxs(Si,{spacing:2,alignItems:"flex-start",children:[g.jsx(hn,{to:`/${t.username}`,children:g.jsx(ke,{fontSize:12,fontWeight:"bold",children:t.fullName})}),g.jsxs(ke,{fontSize:11,color:"gray.500",children:[t.followers.length," followers"]})]})]}),s.uid!==t.uid&&g.jsx(Nt,{fontSize:13,bg:"transparent",p:0,h:"max-content",fontWeight:"medium",color:"blue.400",cursor:"pointer",_hover:{color:"white"},onClick:o,isLoading:r,children:n?"Unfollow":"Follow"})]})};var TR={};const xR="@firebase/database",CR="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wF="";function Phe(t){wF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:pf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ahe(e)}}catch{}return new Rhe},Oa=bF("localStorage"),Nhe=bF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new jy("@firebase/database"),Ohe=function(){let t=1;return function(){return t++}}(),SF=function(t){const e=iie(t),n=new Zre;n.update(e);const r=n.digest();return dT.encodeByteArray(r)},ap=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ap.apply(null,r):typeof r=="object"?e+=an(r):e+=r,e+=" "}return e};let xh=null,IR=!0;const Dhe=function(t,e){G(!e,"Can't turn on custom loggers persistently."),Uc.logLevel=we.VERBOSE,xh=Uc.log.bind(Uc)},xn=function(...t){if(IR===!0&&(IR=!1,xh===null&&Nhe.get("logging_enabled")===!0&&Dhe()),xh){const e=ap.apply(null,t);xh(e)}},lp=function(t){return function(...e){xn(t,...e)}},Db=function(...t){const e="FIREBASE INTERNAL ERROR: "+ap(...t);Uc.error(e)},ll=function(...t){const e=`FIREBASE FATAL ERROR: ${ap(...t)}`;throw Uc.error(e),new Error(e)},pr=function(...t){const e="FIREBASE WARNING: "+ap(...t);Uc.warn(e)},Mhe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},EF=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Lhe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wu="[MIN_NAME]",cl="[MAX_NAME]",Ku=function(t,e){if(t===e)return 0;if(t===wu||e===cl)return-1;if(e===wu||t===cl)return 1;{const n=kR(t),r=kR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Fhe=function(t,e){return t===e?0:t<e?-1:1},Id=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+an(e))},gx=function(t){if(typeof t!="object"||t===null)return an(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=an(e[r]),n+=":",n+=gx(t[e[r]]);return n+="}",n},TF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Kr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const xF=function(t){G(!EF(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Vhe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jhe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$he=new RegExp("^-?(0*)\\d{1,10}$"),Bhe=-2147483648,zhe=2147483647,kR=function(t){if($he.test(t)){const e=Number(t);if(e>=Bhe&&e<=zhe)return e}return null},cp=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Uhe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ch=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="5",CF="v",IF="s",kF="r",PF="f",AF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RF="ls",NF="p",Mb="ac",OF="websocket",DF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ghe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function MF(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===OF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ghe(t)&&(n.ns=t.namespace);const i=[];return Kr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(){this.counters_={}}incrementCounter(e,n=1){Bs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lre(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={},h1={};function yx(t){const e=t.toString();return d1[e]||(d1[e]=new Khe),d1[e]}function Yhe(t,e){const n=t.toString();return h1[n]||(h1[n]=e()),h1[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="start",Xhe="close",Jhe="pLPCommand",Zhe="pRTLPCB",LF="id",FF="pw",VF="ser",efe="cb",tfe="seg",nfe="ts",rfe="d",ife="dframe",jF=1870,$F=30,sfe=jF-$F,ofe=25e3,afe=3e4;class Ec{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lp(e),this.stats_=yx(n),this.urlFn=l=>(this.appCheckToken&&(l[Mb]=this.appCheckToken),MF(n,DF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Qhe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(afe)),Lhe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _x((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===PR)this.id=a,this.password=l;else if(o===Xhe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[PR]="t",r[VF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[efe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CF]=vx,this.transportSessionId&&(r[IF]=this.transportSessionId),this.lastSessionId&&(r[RF]=this.lastSessionId),this.applicationId&&(r[NF]=this.applicationId),this.appCheckToken&&(r[Mb]=this.appCheckToken),typeof location<"u"&&location.hostname&&AF.test(location.hostname)&&(r[kF]=PF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ec.forceAllow_=!0}static forceDisallow(){Ec.forceDisallow_=!0}static isAvailable(){return Ec.forceAllow_?!0:!Ec.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Vhe()&&!jhe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=x5(n),i=TF(r,sfe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ife]="t",r[LF]=e,r[FF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=an(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _x{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ohe(),window[Jhe+this.uniqueCallbackIdentifier]=e,window[Zhe+this.uniqueCallbackIdentifier]=n,this.myIFrame=_x.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xn("frame writing exception"),a.stack&&xn(a.stack),xn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LF]=this.myID,e[FF]=this.myPW,e[VF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$F+r.length<=jF;){const o=this.pendingSegs.shift();r=r+"&"+tfe+i+"="+o.seg+"&"+nfe+i+"="+o.ts+"&"+rfe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ofe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lfe=16384,cfe=45e3;let Pv=null;typeof MozWebSocket<"u"?Pv=MozWebSocket:typeof WebSocket<"u"&&(Pv=WebSocket);class di{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lp(this.connId),this.stats_=yx(n),this.connURL=di.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[CF]=vx,typeof location<"u"&&location.hostname&&AF.test(location.hostname)&&(o[kF]=PF),n&&(o[IF]=n),r&&(o[RF]=r),i&&(o[Mb]=i),s&&(o[NF]=s),MF(e,OF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oa.set("previous_websocket_failure",!0);try{let r;O5(),this.mySock=new Pv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pv!==null&&!di.forceDisallow_}static previouslyFailed(){return Oa.isInMemoryStorage||Oa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=pf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TF(n,lfe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cfe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ec,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=di&&di.isAvailable();let r=n&&!di.previouslyFailed();if(e.webSocketOnly&&(n||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[di];else{const i=this.transports_=[];for(const s of Tf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Tf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Tf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe=6e4,dfe=5e3,hfe=10*1024,ffe=100*1024,f1="t",AR="d",pfe="s",RR="r",mfe="e",NR="o",OR="a",DR="n",MR="p",gfe="h";class vfe{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lp("c:"+this.id+":"),this.transportManager_=new Tf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ch(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ffe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hfe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(f1 in e){const n=e[f1];n===OR?this.upgradeIfSecondaryHealthy_():n===RR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===NR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Id("t",e),r=Id("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Id("t",e),r=Id("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Id(f1,e);if(AR in e){const r=e[AR];if(n===gfe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pfe?this.onConnectionShutdown_(r):n===RR?this.onReset_(r):n===mfe?Db("Server Error: "+r):n===NR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Db("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vx!==r&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ch(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ufe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ch(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dfe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends zF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Av}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=32,FR=768;class ct{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new ct("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Go(t){return t.pieces_.length-t.pieceNum_}function st(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ct(t.pieces_,e)}function UF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yfe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function WF(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ct(e,0)}function Kt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ct)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ct(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Lr(t,e){const n=Ie(t),r=Ie(e);if(n===null)return e;if(n===r)return Lr(st(t),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qF(t,e){if(Go(t)!==Go(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Go(t)>Go(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class _fe{constructor(e,n){this.errorPrefix_=n,this.parts_=WF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vy(this.parts_[r]);GF(this)}}function wfe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vy(e),GF(t)}function bfe(t){const e=t.parts_.pop();t.byteLength_-=Vy(e),t.parts_.length>0&&(t.byteLength_-=1)}function GF(t){if(t.byteLength_>FR)throw new Error(t.errorPrefix_+"has a key path longer than "+FR+" bytes ("+t.byteLength_+").");if(t.parts_.length>LR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LR+") or object contains a cycle "+Ea(t))}function Ea(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends zF{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new wx}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=1e3,Sfe=60*5*1e3,VR=30*1e3,Efe=1.3,Tfe=3e4,xfe="server_kill",jR=3;class Ps extends BF{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ps.nextPersistentConnectionId_++,this.log_=lp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kd,this.maxReconnectDelay_=Sfe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!O5())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Av.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(an(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new hT,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ps.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bs(e,"w")){const r=lu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jre(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Xre(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+an(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Db("Unrecognized action received from server: "+an(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Tfe&&(this.reconnectDelay_=kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Efe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ps.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?xn("getToken() completed but was canceled"):(xn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new vfe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{pr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(xfe)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&pr(h),l())}}}interrupt(e){xn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ab(this.interruptReasons_)&&(this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>gx(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ct(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){xn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jR&&(this.reconnectDelay_=VR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){xn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+wF.replace(/\./g,"-")]=1,fT()?e["framework.cordova"]=1:N5()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Av.getInstance().currentlyOnline();return ab(this.interruptReasons_)&&e}}Ps.nextPersistentConnectionId_=0;Ps.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Pe(wu,e),i=new Pe(wu,n);return this.compare(r,i)!==0}minPost(){return Pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;class KF extends p0{static get __EMPTY_NODE(){return Am}static set __EMPTY_NODE(e){Am=e}compare(e,n){return Ku(e.name,n.name)}isDefinedOn(e){throw ju("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(cl,Am)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Pe(e,Am)}toString(){return".key"}}const Wc=new KF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Qn.EMPTY_NODE,this.right=s??Qn.EMPTY_NODE}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gt.RED=!0;Gt.BLACK=!1;class Cfe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qn{constructor(e,n=Qn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Qn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rm(this.root_,null,this.comparator_,!0,e)}}Qn.EMPTY_NODE=new Cfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ife(t,e){return Ku(t.name,e.name)}function bx(t,e){return Ku(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb;function kfe(t){Lb=t}const YF=function(t){return typeof t=="number"?"number:"+xF(t):"string:"+t},QF=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bs(e,".sv"),"Priority must be a string or number.")}else G(t===Lb||t.isEmpty(),"priority of unexpected type.");G(t===Lb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $R;class Wt{constructor(e,n=Wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QF(this.priorityNode_)}static set __childrenNodeConstructor(e){$R=e}static get __childrenNodeConstructor(){return $R}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Ie(e)===".priority"?this.priorityNode_:Wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Go(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YF(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=xF(this.value_):e+=this.value_,this.lazyHash_=SF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Wt.VALUE_TYPE_ORDER.indexOf(n),s=Wt.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XF,JF;function Pfe(t){XF=t}function Afe(t){JF=t}class Rfe extends p0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ku(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(cl,new Wt("[PRIORITY-POST]",JF))}makePost(e,n){const r=XF(e);return new Pe(n,new Wt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pn=new Rfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=Math.log(2);class Ofe{constructor(e){const n=s=>parseInt(Math.log(s)/Nfe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rv=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Gt(f,h.node,Gt.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),y=i(p+1,c);return h=t[p],f=n?n(h):h,new Gt(f,h.node,Gt.BLACK,v,y)}},s=function(l){let c=null,u=null,h=t.length;const f=function(v,y){const S=h-v,b=h;h-=v;const w=i(S+1,b),T=t[S],A=n?n(T):T;p(new Gt(A,T.node,y,null,w))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),S=Math.pow(2,l.count-(v+1));y?f(S,Gt.BLACK):(f(S,Gt.BLACK),f(S,Gt.RED))}return u},o=new Ofe(t.length),a=s(o);return new Qn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1;const Kl={};class bs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Kl&&Pn,"ChildrenNode.ts has not been loaded"),p1=p1||new bs({".priority":Kl},{".priority":Pn}),p1}get(e){const n=lu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qn?n:null}hasIndex(e){return Bs(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Wc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Pe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Rv(r,e.getCompare()):a=Kl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new bs(u,c)}addToIndexes(e,n){const r=dv(this.indexes_,(i,s)=>{const o=lu(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Kl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Pe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Rv(a,o.getCompare())}else return Kl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Pe(e.name,a))),l.insert(e,e.node)}});return new bs(r,this.indexSet_)}removeFromIndexes(e,n){const r=dv(this.indexes_,i=>{if(i===Kl)return i;{const s=n.get(e.name);return s?i.remove(new Pe(e.name,s)):i}});return new bs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;class ze{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QF(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pd||(Pd=new ze(new Qn(bx),null,bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pd}updatePriority(e){return this.children_.isEmpty()?this:new ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pd:n}}getChild(e){const n=Ie(e);return n===null?this:this.getImmediateChild(n).getChild(st(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Pe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Pd:this.priorityNode_;return new ze(i,o,s)}}updateChild(e,n){const r=Ie(e);if(r===null)return n;{G(Ie(e)!==".priority"||Go(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(st(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Pn,(o,a)=>{n[o]=a.val(e),r++,s&&ze.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YF(this.getPriority().val())+":"),this.forEachChild(Pn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":SF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Pe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Pe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===up?-1:0}withIndex(e){if(e===Wc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pn),i=n.getIterator(Pn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wc?null:this.indexMap_.get(e.toString())}}ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Dfe extends ze{constructor(){super(new Qn(bx),ze.EMPTY_NODE,bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ze.EMPTY_NODE}isEmpty(){return!1}}const up=new Dfe;Object.defineProperties(Pe,{MIN:{value:new Pe(wu,ze.EMPTY_NODE)},MAX:{value:new Pe(cl,up)}});KF.__EMPTY_NODE=ze.EMPTY_NODE;Wt.__childrenNodeConstructor=ze;kfe(up);Afe(up);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe=!0;function Cn(t,e=null){if(t===null)return ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Wt(n,Cn(e))}if(!(t instanceof Array)&&Mfe){const n=[];let r=!1;if(Kr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Cn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Pe(o,l)))}}),n.length===0)return ze.EMPTY_NODE;const s=Rv(n,Ife,o=>o.name,bx);if(r){const o=Rv(n,Pn.getCompare());return new ze(s,Cn(e),new bs({".priority":o},{".priority":Pn}))}else return new ze(s,Cn(e),bs.Default)}else{let n=ze.EMPTY_NODE;return Kr(t,(r,i)=>{if(Bs(t,r)&&r.substring(0,1)!=="."){const s=Cn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Cn(e))}}Pfe(Cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe extends p0{constructor(e){super(),this.indexPath_=e,G(!xe(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ku(e.name,n.name):s}makePost(e,n){const r=Cn(e),i=ze.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pe(n,i)}maxPost(){const e=ze.EMPTY_NODE.updateChild(this.indexPath_,up);return new Pe(cl,e)}toString(){return WF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe extends p0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ku(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(e,n){const r=Cn(e);return new Pe(n,r)}toString(){return".value"}}const Vfe=new Ffe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jfe(t){return{type:"value",snapshotNode:t}}function $fe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bfe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function BR(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zfe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wu}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const e=new Sx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pn?n="$priority":t.index_===Vfe?n="$value":t.index_===Wc?n="$key":(G(t.index_ instanceof Lfe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=an(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=an(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+an(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=an(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+an(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function UR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends BF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Nv.getListenId_(e,r),a={};this.listens_[o]=a;const l=zR(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),lu(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Nv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=zR(e._queryParams),r=e._path.toString(),i=new hT;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$u(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=pf(a.responseText)}catch{pr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(){this.rootNode_=ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){return{value:null,children:new Map}}function ZF(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ie(e);t.children.has(r)||t.children.set(r,Ov());const i=t.children.get(r);e=st(e),ZF(i,e,n)}}function Fb(t,e,n){t.value!==null?n(e,t.value):Wfe(t,(r,i)=>{const s=new ct(e.toString()+"/"+r);Fb(i,s,n)})}function Wfe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=10*1e3,qfe=30*1e3,Gfe=5*60*1e3;class Kfe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hfe(e);const r=WR+(qfe-WR)*Math.random();Ch(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kr(e,(i,s)=>{s>0&&Bs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ch(this.reportStats_.bind(this),Math.floor(Math.random()*2*Gfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($i||($i={}));function eV(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tV(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nV(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=$i.ACK_USER_WRITE,this.source=eV()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ct(e));return new Dv(He(),n,this.revert)}}else return G(Ie(this.path)===e,"operationForChild called for unrelated child."),new Dv(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=$i.OVERWRITE}operationForChild(e){return xe(this.path)?new ul(this.source,He(),this.snap.getImmediateChild(e)):new ul(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=$i.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new ct(e));return n.isEmpty()?null:n.value?new ul(this.source,He(),n.value):new xf(this.source,He(),n)}else return G(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xf(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Yfe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zfe(o.childName,o.snapshotNode))}),Ad(t,i,"child_removed",e,r,n),Ad(t,i,"child_added",e,r,n),Ad(t,i,"child_moved",s,r,n),Ad(t,i,"child_changed",e,r,n),Ad(t,i,"value",e,r,n),i}function Ad(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Xfe(t,a,l)),o.forEach(a=>{const l=Qfe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Qfe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Xfe(t,e,n){if(e.childName==null||n.childName==null)throw ju("Should only compare child_ events.");const r=new Pe(e.childName,e.snapshotNode),i=new Pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){return{eventCache:t,serverCache:e}}function Ih(t,e,n,r){return rV(new Ex(e,n,r),t.serverCache)}function iV(t,e,n,r){return rV(t.eventCache,new Ex(e,n,r))}function Vb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1;const Jfe=()=>(m1||(m1=new Qn(Fhe)),m1);class it{constructor(e,n=Jfe()){this.value=e,this.children=n}static fromObject(e){let n=new it(null);return Kr(e,(r,i)=>{n=n.set(new ct(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(xe(e))return null;{const r=Ie(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(st(e),n);return s!=null?{path:Kt(new ct(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=Ie(e),r=this.children.get(n);return r!==null?r.subtree(st(e)):new it(null)}}set(e,n){if(xe(e))return new it(n,this.children);{const r=Ie(e),s=(this.children.get(r)||new it(null)).set(st(e),n),o=this.children.insert(r,s);return new it(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=Ie(e),r=this.children.get(n);if(r){const i=r.remove(st(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new it(null):new it(this.value,s)}else return this}}get(e){if(xe(e))return this.value;{const n=Ie(e),r=this.children.get(n);return r?r.get(st(e)):null}}setTree(e,n){if(xe(e))return n;{const r=Ie(e),s=(this.children.get(r)||new it(null)).setTree(st(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new it(this.value,o)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Kt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xe(e))return null;{const s=Ie(e),o=this.children.get(s);return o?o.findOnPath_(st(e),Kt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const i=Ie(e),s=this.children.get(i);return s?s.foreachOnPath_(st(e),Kt(n,i),r):new it(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Kt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.writeTree_=e}static empty(){return new wi(new it(null))}}function kh(t,e,n){if(xe(e))return new wi(new it(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Lr(i,e);return s=s.updateChild(o,n),new wi(t.writeTree_.set(i,s))}else{const i=new it(n),s=t.writeTree_.setTree(e,i);return new wi(s)}}}function HR(t,e,n){let r=t;return Kr(n,(i,s)=>{r=kh(r,Kt(e,i),s)}),r}function qR(t,e){if(xe(e))return wi.empty();{const n=t.writeTree_.setTree(e,new it(null));return new wi(n)}}function jb(t,e){return Tl(t,e)!=null}function Tl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lr(n.path,e)):null}function GR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pn,(r,i)=>{e.push(new Pe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Pe(r,i.value))}),e}function Mo(t,e){if(xe(e))return t;{const n=Tl(t,e);return n!=null?new wi(new it(n)):new wi(t.writeTree_.subtree(e))}}function $b(t){return t.writeTree_.isEmpty()}function bu(t,e){return sV(He(),t.writeTree_,e)}function sV(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=sV(Kt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Kt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){return dV(e,t)}function Zfe(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=kh(t.visibleWrites,e,n)),t.lastWriteId=r}function epe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tpe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&npe(a,r.path)?i=!1:pi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return rpe(t),!0;if(r.snap)t.visibleWrites=qR(t.visibleWrites,r.path);else{const a=r.children;Kr(a,l=>{t.visibleWrites=qR(t.visibleWrites,Kt(r.path,l))})}return!0}else return!1}function npe(t,e){if(t.snap)return pi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pi(Kt(t.path,n),e))return!0;return!1}function rpe(t){t.visibleWrites=aV(t.allWrites,ipe,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ipe(t){return t.visible}function aV(t,e,n){let r=wi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)pi(n,o)?(a=Lr(n,o),r=kh(r,a,s.snap)):pi(o,n)&&(a=Lr(o,n),r=kh(r,He(),s.snap.getChild(a)));else if(s.children){if(pi(n,o))a=Lr(n,o),r=HR(r,a,s.children);else if(pi(o,n))if(a=Lr(o,n),xe(a))r=HR(r,He(),s.children);else{const l=lu(s.children,Ie(a));if(l){const c=l.getChild(st(a));r=kh(r,He(),c)}}}else throw ju("WriteRecord should have .snap or .children")}}return r}function lV(t,e,n,r,i){if(!r&&!i){const s=Tl(t.visibleWrites,e);if(s!=null)return s;{const o=Mo(t.visibleWrites,e);if($b(o))return n;if(n==null&&!jb(o,He()))return null;{const a=n||ze.EMPTY_NODE;return bu(o,a)}}}else{const s=Mo(t.visibleWrites,e);if(!i&&$b(s))return n;if(!i&&n==null&&!jb(s,He()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(pi(c.path,e)||pi(e,c.path))},a=aV(t.allWrites,o,e),l=n||ze.EMPTY_NODE;return bu(a,l)}}}function spe(t,e,n){let r=ze.EMPTY_NODE;const i=Tl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Pn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mo(t.visibleWrites,e);return n.forEachChild(Pn,(o,a)=>{const l=bu(Mo(s,new ct(o)),a);r=r.updateImmediateChild(o,l)}),GR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mo(t.visibleWrites,e);return GR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function ope(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Kt(e,n);if(jb(t.visibleWrites,s))return null;{const o=Mo(t.visibleWrites,s);return $b(o)?i.getChild(n):bu(o,i.getChild(n))}}function ape(t,e,n,r){const i=Kt(e,n),s=Tl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mo(t.visibleWrites,i);return bu(o,r.getNode().getImmediateChild(n))}else return null}function lpe(t,e){return Tl(t.visibleWrites,e)}function cpe(t,e,n,r,i,s,o){let a;const l=Mo(t.visibleWrites,e),c=Tl(l,He());if(c!=null)a=c;else if(n!=null)a=bu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function upe(){return{visibleWrites:wi.empty(),allWrites:[],lastWriteId:-1}}function Bb(t,e,n,r){return lV(t.writeTree,t.treePath,e,n,r)}function cV(t,e){return spe(t.writeTree,t.treePath,e)}function KR(t,e,n,r){return ope(t.writeTree,t.treePath,e,n,r)}function Mv(t,e){return lpe(t.writeTree,Kt(t.treePath,e))}function dpe(t,e,n,r,i,s){return cpe(t.writeTree,t.treePath,e,n,r,i,s)}function Tx(t,e,n){return ape(t.writeTree,t.treePath,e,n)}function uV(t,e){return dV(Kt(t.treePath,e),t.writeTree)}function dV(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,BR(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Bfe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$fe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,BR(r,e.snapshotNode,i.oldSnap));else throw ju("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hV=new fpe;class xx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ex(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dl(this.viewCache_),s=dpe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function ppe(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mpe(t,e,n,r,i){const s=new hpe;let o,a;if(n.type===$i.OVERWRITE){const c=n;c.source.fromUser?o=zb(t,e,c.path,c.snap,r,i,s):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=Lv(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===$i.MERGE){const c=n;c.source.fromUser?o=vpe(t,e,c.path,c.children,r,i,s):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ub(t,e,c.path,c.children,r,i,a,s))}else if(n.type===$i.ACK_USER_WRITE){const c=n;c.revert?o=wpe(t,e,c.path,r,i,s):o=ype(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===$i.LISTEN_COMPLETE)o=_pe(t,e,n.path,r,s);else throw ju("Unknown operation type: "+n.type);const l=s.getChanges();return gpe(e,o,l),{viewCache:o,changes:l}}function gpe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Vb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(jfe(Vb(e)))}}function fV(t,e,n,r,i,s){const o=e.eventCache;if(Mv(r,n)!=null)return e;{let a,l;if(xe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=dl(e),u=c instanceof ze?c:ze.EMPTY_NODE,h=cV(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=Bb(r,dl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ie(n);if(c===".priority"){G(Go(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=KR(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=st(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=KR(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Tx(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return Ih(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Lv(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ie(n);if(!l.isCompleteForPath(n)&&Go(n)>1)return e;const v=st(n),S=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),S):c=u.updateChild(l.getNode(),p,S,v,hV,null)}const h=iV(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),f=new xx(i,h,s);return fV(t,h,n,i,f,a)}function zb(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new xx(i,e,s);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ih(e,c,!0,t.filter.filtersNodes());else{const h=Ie(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ih(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=st(n),p=a.getNode().getImmediateChild(h);let v;if(xe(f))v=r;else{const y=u.getCompleteChild(h);y!=null?UF(f)===".priority"&&y.getChild(HF(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=ze.EMPTY_NODE}if(p.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),h,v,f,u,o);l=Ih(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YR(t,e){return t.eventCache.isCompleteForChild(e)}function vpe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Kt(n,l);YR(e,Ie(u))&&(a=zb(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Kt(n,l);YR(e,Ie(u))||(a=zb(t,a,u,c,i,s,o))}),a}function QR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ub(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new it(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),v=QR(t,p,f);l=Lv(t,l,new ct(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const v=e.serverCache.getNode().getImmediateChild(h),y=QR(t,v,f);l=Lv(t,l,new ct(h),y,i,s,o,a)}}),l}function ype(t,e,n,r,i,s,o){if(Mv(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Lv(t,e,n,l.getNode().getChild(n),i,s,a,o);if(xe(n)){let c=new it(null);return l.getNode().forEachChild(Wc,(u,h)=>{c=c.set(new ct(u),h)}),Ub(t,e,n,c,i,s,a,o)}else return e}else{let c=new it(null);return r.foreach((u,h)=>{const f=Kt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ub(t,e,n,c,i,s,a,o)}}function _pe(t,e,n,r,i){const s=e.serverCache,o=iV(e,s.getNode(),s.isFullyInitialized()||xe(n),s.isFiltered());return fV(t,o,n,r,hV,i)}function wpe(t,e,n,r,i,s){let o;if(Mv(r,n)!=null)return e;{const a=new xx(r,e,i),l=e.eventCache.getNode();let c;if(xe(n)||Ie(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Bb(r,dl(e));else{const h=e.serverCache.getNode();G(h instanceof ze,"serverChildren would be complete if leaf node"),u=cV(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Ie(n);let h=Tx(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,st(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ze.EMPTY_NODE,st(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Bb(r,dl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Mv(r,He())!=null,Ih(e,c,o,t.filter.filtersNodes())}}function bpe(t,e){const n=dl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(Ie(e)).isEmpty())?n.getChild(e):null}function XR(t,e,n,r){e.type===$i.MERGE&&e.source.queryId!==null&&(G(dl(t.viewCache_),"We should always have a full cache before handling merges"),G(Vb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=mpe(t.processor_,i,e,n,r);return ppe(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Spe(t,s.changes,s.viewCache.eventCache.getNode())}function Spe(t,e,n,r){const i=t.eventRegistrations_;return Yfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JR;function Epe(t){G(!JR,"__referenceConstructor has already been defined"),JR=t}function Cx(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),XR(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(XR(o,e,n,r));return s}}function Ix(t,e){let n=null;for(const r of t.views.values())n=n||bpe(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZR;function Tpe(t){G(!ZR,"__referenceConstructor has already been defined"),ZR=t}class e2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=upe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xpe(t,e,n,r,i){return Zfe(t.pendingWriteTree_,e,n,r,i),i?g0(t,new ul(eV(),e,n)):[]}function Tc(t,e,n=!1){const r=epe(t.pendingWriteTree_,e);if(tpe(t.pendingWriteTree_,e)){let s=new it(null);return r.snap!=null?s=s.set(He(),!0):Kr(r.children,o=>{s=s.set(new ct(o),!0)}),g0(t,new Dv(r.path,s,n))}else return[]}function m0(t,e,n){return g0(t,new ul(tV(),e,n))}function Cpe(t,e,n){const r=it.fromObject(n);return g0(t,new xf(tV(),e,r))}function Ipe(t,e,n,r){const i=vV(t,r);if(i!=null){const s=yV(i),o=s.path,a=s.queryId,l=Lr(o,e),c=new ul(nV(a),l,n);return _V(t,o,c)}else return[]}function kpe(t,e,n,r){const i=vV(t,r);if(i){const s=yV(i),o=s.path,a=s.queryId,l=Lr(o,e),c=it.fromObject(n),u=new xf(nV(a),l,c);return _V(t,o,u)}else return[]}function pV(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Lr(o,e),c=Ix(a,l);if(c)return c});return lV(i,e,s,n,!0)}function g0(t,e){return mV(e,t.syncPointTree_,null,oV(t.pendingWriteTree_,He()))}function mV(t,e,n,r){if(xe(t.path))return gV(t,e,n,r);{const i=e.get(He());n==null&&i!=null&&(n=Ix(i,He()));let s=[];const o=Ie(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=uV(r,o);s=s.concat(mV(a,l,c,u))}return i&&(s=s.concat(Cx(i,t,r,n))),s}}function gV(t,e,n,r){const i=e.get(He());n==null&&i!=null&&(n=Ix(i,He()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=uV(r,o),u=t.operationForChild(o);u&&(s=s.concat(gV(u,a,l,c)))}),i&&(s=s.concat(Cx(i,t,r,n))),s}function vV(t,e){return t.tagToQueryMap.get(e)}function yV(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ct(t.substr(0,e))}}function _V(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=oV(t.pendingWriteTree_,e);return Cx(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new kx(n)}node(){return this.node_}}class Px{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Kt(this.path_,e);return new Px(this.syncTree_,n)}node(){return pV(this.syncTree_,this.path_)}}const Ppe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},t2=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ape(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Rpe(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ape=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},Rpe=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Npe=function(t,e,n,r){return Ax(e,new Px(n,t),r)},Ope=function(t,e,n){return Ax(t,new kx(e),n)};function Ax(t,e,n){const r=t.getPriority().val(),i=t2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=t2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Wt(a,Cn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Wt(i))),o.forEachChild(Pn,(a,l)=>{const c=Ax(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Nx(t,e){let n=e instanceof ct?e:new ct(e),r=t,i=Ie(n);for(;i!==null;){const s=lu(r.node.children,i)||{children:{},childCount:0};r=new Rx(i,r,s),n=st(n),i=Ie(n)}return r}function Yu(t){return t.node.value}function wV(t,e){t.node.value=e,Wb(t)}function bV(t){return t.node.childCount>0}function Dpe(t){return Yu(t)===void 0&&!bV(t)}function v0(t,e){Kr(t.node.children,(n,r)=>{e(new Rx(n,t,r))})}function SV(t,e,n,r){n&&!r&&e(t),v0(t,i=>{SV(i,e,!0,r)}),n&&r&&e(t)}function Mpe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function dp(t){return new ct(t.parent===null?t.name:dp(t.parent)+"/"+t.name)}function Wb(t){t.parent!==null&&Lpe(t.parent,t.name,t)}function Lpe(t,e,n){const r=Dpe(n),i=Bs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fpe=/[\[\].#$\/\u0000-\u001F\u007F]/,Vpe=/[\[\].#$\u0000-\u001F\u007F]/,g1=10*1024*1024,EV=function(t){return typeof t=="string"&&t.length!==0&&!Fpe.test(t)},jpe=function(t){return typeof t=="string"&&t.length!==0&&!Vpe.test(t)},$pe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jpe(t)},TV=function(t,e,n){const r=n instanceof ct?new _fe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ea(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ea(r)+" with contents = "+e.toString());if(EF(e))throw new Error(t+"contains "+e.toString()+" "+Ea(r));if(typeof e=="string"&&e.length>g1/3&&Vy(e)>g1)throw new Error(t+"contains a string greater than "+g1+" utf8 bytes "+Ea(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Kr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!EV(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ea(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wfe(r,o),TV(t,a,r),bfe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ea(r)+" in addition to actual children.")}},Bpe=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!EV(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$pe(n))throw new Error(rie(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Upe(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!qF(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function xl(t,e,n){Upe(t,n),Wpe(t,r=>pi(r,e)||pi(e,r))}function Wpe(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Hpe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hpe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xh&&xn("event: "+n.toString()),cp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qpe="repo_interrupt",Gpe=25;class Kpe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zpe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ov(),this.transactionQueueTree_=new Rx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ype(t,e,n){if(t.stats_=yx(t.repoInfo_),t.forceRestClient_||Uhe())t.server_=new Nv(t.repoInfo_,(r,i,s,o)=>{n2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>r2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ps(t.repoInfo_,e,(r,i,s,o)=>{n2(t,r,i,s,o)},r=>{r2(t,r)},r=>{Xpe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Yhe(t.repoInfo_,()=>new Kfe(t.stats_,t.server_)),t.infoData_=new Ufe,t.infoSyncTree_=new e2({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=m0(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ox(t,"connected",!1),t.serverSyncTree_=new e2({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);xl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Qpe(t){const n=t.infoData_.getNode(new ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xV(t){return Ppe({timestamp:Qpe(t)})}function n2(t,e,n,r,i){t.dataUpdateCount++;const s=new ct(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=dv(n,c=>Cn(c));o=kpe(t.serverSyncTree_,s,l,i)}else{const l=Cn(n);o=Ipe(t.serverSyncTree_,s,l,i)}else if(r){const l=dv(n,c=>Cn(c));o=Cpe(t.serverSyncTree_,s,l)}else{const l=Cn(n);o=m0(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Mx(t,s)),xl(t.eventQueue_,a,o)}function r2(t,e){Ox(t,"connected",e),e===!1&&Zpe(t)}function Xpe(t,e){Kr(e,(n,r)=>{Ox(t,n,r)})}function Ox(t,e,n){const r=new ct("/.info/"+e),i=Cn(n);t.infoData_.updateSnapshot(r,i);const s=m0(t.infoSyncTree_,r,i);xl(t.eventQueue_,r,s)}function Jpe(t){return t.nextWriteId_++}function Zpe(t){CV(t,"onDisconnectEvents");const e=xV(t),n=Ov();Fb(t.onDisconnect_,He(),(i,s)=>{const o=Npe(i,s,t.serverSyncTree_,e);ZF(n,i,o)});let r=[];Fb(n,He(),(i,s)=>{r=r.concat(m0(t.serverSyncTree_,i,s));const o=rme(t,i);Mx(t,o)}),t.onDisconnect_=Ov(),xl(t.eventQueue_,He(),r)}function eme(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qpe)}function CV(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),xn(n,...e)}function IV(t,e,n){return pV(t.serverSyncTree_,e,n)||ze.EMPTY_NODE}function Dx(t,e=t.transactionQueueTree_){if(e||y0(t,e),Yu(e)){const n=PV(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&tme(t,dp(e),n)}else bV(e)&&v0(e,n=>{Dx(t,n)})}function tme(t,e,n){const r=n.map(c=>c.currentWriteId),i=IV(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Lr(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{CV(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Tc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();y0(t,Nx(t.transactionQueueTree_,e)),Dx(t,t.transactionQueueTree_),xl(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)cp(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{pr("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Mx(t,e)}},o)}function Mx(t,e){const n=kV(t,e),r=dp(n),i=PV(t,n);return nme(t,i,r),r}function nme(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Lr(n,l.path);let u=!1,h;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Gpe)u=!0,h="maxretry",i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=IV(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){TV("transaction failed: Data returned ",p,l.path);let v=Cn(p);typeof p=="object"&&p!=null&&Bs(p,".priority")||(v=v.updatePriority(f.getPriority()));const S=l.currentWriteId,b=xV(t),w=Ope(v,f,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=w,l.currentWriteId=Jpe(t),o.splice(o.indexOf(S),1),i=i.concat(xpe(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Tc(t.serverSyncTree_,S,!0))}else u=!0,h="nodata",i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0))}xl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}y0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)cp(r[a]);Dx(t,t.transactionQueueTree_)}function kV(t,e){let n,r=t.transactionQueueTree_;for(n=Ie(e);n!==null&&Yu(r)===void 0;)r=Nx(r,n),e=st(e),n=Ie(e);return r}function PV(t,e){const n=[];return AV(t,e,n),n.sort((r,i)=>r.order-i.order),n}function AV(t,e,n){const r=Yu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);v0(e,i=>{AV(t,i,n)})}function y0(t,e){const n=Yu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wV(e,n.length>0?n:void 0)}v0(e,r=>{y0(t,r)})}function rme(t,e){const n=dp(kV(t,e)),r=Nx(t.transactionQueueTree_,e);return Mpe(r,i=>{v1(t,i)}),v1(t,r),SV(r,i=>{v1(t,i)}),n}function v1(t,e){const n=Yu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wV(e,void 0):n.length=s+1,xl(t.eventQueue_,dp(e),i);for(let o=0;o<r.length;o++)cp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ime(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sme(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pr(`Invalid query segment '${n}' in query '${t}'`)}return e}const i2=function(t,e){const n=ome(t),r=n.namespace;n.domain==="firebase.com"&&ll(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ll("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Mhe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qhe(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ct(n.pathString)}},ome=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=ime(t.substring(u,h)));const f=sme(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xe(this._path)?null:UF(this._path)}get ref(){return new Qu(this._repo,this._path)}get _queryIdentifier(){const e=UR(this._queryParams),n=gx(e);return n==="{}"?"default":n}get _queryObject(){return UR(this._queryParams)}isEqual(e){if(e=lt(e),!(e instanceof Lx))return!1;const n=this._repo===e._repo,r=qF(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yfe(this._path)}}class Qu extends Lx{constructor(e,n){super(e,n,new Sx,!1)}get parent(){const e=HF(this._path);return e===null?null:new Qu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function RV(t,...e){let n=lt(t);for(const r of e)n=r._apply(n);return n}Epe(Qu);Tpe(Qu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame="FIREBASE_DATABASE_EMULATOR_HOST",Hb={};let lme=!1;function cme(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ll("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=i2(s,i),a=o.repoInfo,l;typeof process<"u"&&TR&&(l=TR[ame]),l?(s=`http://${l}?ns=${a.namespace}`,o=i2(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new Hhe(t.name,t.options,e);Bpe("Invalid Firebase Database URL",o),xe(o.path)||ll("Database URL must point to the root of a Firebase Database (not including a child path).");const u=dme(a,t,c,new Whe(t.name,n));return new hme(u,t)}function ume(t,e){const n=Hb[e];(!n||n[t.key]!==t)&&ll(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eme(t),delete n[t.key]}function dme(t,e,n,r){let i=Hb[e.name];i||(i={},Hb[e.name]=i);let s=i[t.toURLString()];return s&&ll("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Kpe(t,lme,n,r),i[t.toURLString()]=s,s}class hme{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ype(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qu(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ume(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ll("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fme(t){Phe(ea),zo(new Ls("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return cme(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Br(xR,CR,t),Br(xR,CR,"esm2017")}Ps.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ps.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fme();const pme=()=>{const[t,e]=E.useState(!0),[n,r]=E.useState([]),i=Tt(o=>o.user),s=Ut();return E.useEffect(()=>{i&&(async()=>{e(!0);try{const a=bl(Mt,"users"),l=RV(a,Hu("uid","not-in",[i.uid,...i.following]),ole("uid"),ale(3)),c=await qu(l),u=[];c.forEach(h=>{u.push({...h.data(),id:h.id})}),r(u)}catch(a){s("Error",a.message,"error")}finally{e(!1)}})()},[i,s]),{isLoading:t,suggestedUsers:n}},mme=()=>{const{isLoading:t,suggestedUsers:e}=pme();return t?null:g.jsxs(Si,{py:8,px:6,gap:4,children:[g.jsx(khe,{}),Ob.length!==0&&g.jsxs(X,{alignItems:"center",justifyContent:"space-between",w:"full",children:[g.jsx(be,{fontSize:12,fontWeight:"bold",color:"gray.500",children:"Suggested for you"}),g.jsx(be,{fontSize:12,fontWeight:"bold",_hover:{color:"gray.400"},cursor:"pointer",children:"See All"})]}),e.map(n=>g.jsx(Ob,{user:n},n.uid)),g.jsxs(ke,{fontSize:12,color:"gray.500",mt:5,alignSelf:"start",children:["2024 Built By"," ",g.jsx(Ao,{color:"blue.500",fontSize:14,children:"As a Programmer"})]})]})},gme=({authUser:t})=>{const e=US();return t||E.useEffect(()=>{e("/auth")},[t]),g.jsx(Nu,{maxW:"container.lg",children:g.jsxs(X,{gap:20,children:[g.jsx(ke,{flex:2,py:10,children:g.jsx(_he,{})}),g.jsx(ke,{flex:3,mr:20,display:{base:"none",lg:"block"},maxW:"300px",children:g.jsx(mme,{})})]})})},vme=()=>{const t=Ut(),[e,,n,r]=The(ip),i=Tt(o=>o.login);return{loading:n,error:r,login:async o=>{if(!o.email||!o.password)return t("Error","Please fill all the fields","error");try{const a=await e(o.email,o.password);if(a){const l=rr(Mt,"users",a.user.uid),c=await QT(l);localStorage.setItem("user-info",JSON.stringify(c.data())),i(c.data())}}catch(a){t("Error",a.message,"error")}}}},yme=()=>{const[t,e]=E.useState({email:"",password:""}),{loading:n,error:r,login:i}=vme();return g.jsxs(g.Fragment,{children:[g.jsx(kn,{placeholder:"Email",fontSize:14,type:"email",size:"sm",value:t.email,onChange:s=>e({...t,email:s.target.value})}),g.jsx(kn,{placeholder:"Password",fontSize:14,size:"sm",type:"password",value:t.password,onChange:s=>e({...t,password:s.target.value})}),r&&g.jsxs(Py,{status:"error",fontSize:13,p:2,borderRadius:4,children:[g.jsx(ky,{fontSize:12}),r.message]}),g.jsx(Nt,{w:"full",colorScheme:"blue",size:"sm",fontSize:14,isLoading:n,onClick:()=>i(t),children:"Log in"})]})};var _me=JD({displayName:"ViewOffIcon",path:g.jsxs("g",{fill:"currentColor",children:[g.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),g.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),wme=JD({displayName:"ViewIcon",path:g.jsxs("g",{fill:"currentColor",children:[g.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),g.jsx("circle",{cx:"12",cy:"12",r:"2"})]})});const bme=()=>{const[t,,e,n]=Ehe(ip),r=Ut(),i=Tt(o=>o.login);return{loading:e,error:n,signup:async o=>{if(!o.email||!o.password||!o.username||!o.fullName){r("Error","Please fill all the fields","error");return}try{const a=await t(o.email,o.password);if(!a&&n){r("Error",n.message,"error");return}const l=bl(Mt,"users"),c=r0(l,Hu("username","==",o.username));if(!(await qu(c)).empty){r("Error","Username already exists","error");return}if(a){const h={uid:a.user.uid,email:o.email,username:o.username,fullName:o.fullName,bio:"",profilePicURL:"",followers:[],following:[],posts:[],createAt:Date.now()};await p3(rr(Mt,"users",a.user.uid),h),localStorage.setItem("user-info",JSON.stringify(h)),i(h)}}catch(a){r("Error",a.message,"error")}}}},Sme=()=>{const[t,e]=E.useState({fullName:"",username:"",email:"",password:""}),[n,r]=E.useState(!1),{loading:i,error:s,signup:o}=bme();return g.jsxs(g.Fragment,{children:[g.jsx(kn,{placeholder:"Username",fontSize:14,type:"text",value:t.username,size:"sm",onChange:a=>e({...t,username:a.target.value}),required:!0}),g.jsx(kn,{placeholder:"Full Name",fontSize:14,type:"text",value:t.fullName,size:"sm",onChange:a=>e({...t,fullName:a.target.value}),required:!0}),g.jsx(kn,{placeholder:"Email",fontSize:14,type:"email",value:t.email,size:"sm",onChange:a=>e({...t,email:a.target.value}),required:!0}),g.jsxs(nT,{children:[g.jsx(kn,{placeholder:"Password",fontSize:14,type:n?"text":"password",value:t.password,size:"sm",onChange:a=>e({...t,password:a.target.value}),required:!0}),g.jsx(Oy,{h:"full",children:g.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>r(!n),children:n?g.jsx(wme,{}):g.jsx(_me,{})})})]}),s&&g.jsxs(Py,{status:"error",fontSize:13,p:2,borderRadius:4,children:[g.jsx(ky,{fontSize:12}),s.message]}),g.jsx(Nt,{w:"full",colorScheme:"blue",size:"sm",fontSize:14,isLoading:i,onClick:()=>o(t),children:"Sign Up"})]})},Eme=({prefix:t})=>{const[e,n]=xhe(ip),r=Ut(),i=Tt(o=>o.login),s=async()=>{try{const o=await e();if(!o&&n){r("Error",n.message,"error");return}const a=rr(Mt,"users",o.user.uid),l=await QT(a);if(l.exists()){const c=l.data();localStorage.setItem("user-info",JSON.stringify(c))}else{const c={uid:o.user.uid,email:o.user.email,username:o.user.email.split("@")[0],fullName:o.user.displayName,bio:"",profilePicURL:o.user.photoURL,followers:[],following:[],posts:[],createAt:Date.now()};await p3(rr(Mt,"users",o.user.uid),c),localStorage.setItem("user-info",JSON.stringify(c)),i(c)}}catch(o){r("Error",o.message,"error")}};return g.jsxs(X,{alignItems:"center",justifyContent:"center",cursor:"pointer",onClick:s,children:[g.jsx(vi,{src:"/google.png",w:5,alt:"Google logo"}),g.jsxs(be,{mx:"2",color:"blue.500",children:[t," with Google"]})]})},Tme=()=>{const[t,e]=E.useState(!0);return g.jsxs(g.Fragment,{children:[g.jsx(ke,{border:"1px solid gray",borderRadius:4,padding:5,children:g.jsxs(Si,{spacing:4,children:[g.jsx(vi,{src:"/logo.png",h:24,cursor:"pointer",alt:"Instagram logo"}),t?g.jsx(yme,{}):g.jsx(Sme,{}),g.jsxs(X,{alignItems:"center",justifyContent:"center",my:4,gap:1,w:"full",children:[g.jsx(ke,{flex:2,h:"1px",bg:"gray.400"}),g.jsx(be,{mx:1,color:"white",children:"OR"}),g.jsx(ke,{flex:2,h:"1px",bg:"gray.400"})]}),g.jsx(Eme,{prefix:t?"Log in":"Sign up"})]})}),g.jsx(ke,{border:"1px solid gray",borderRadius:4,padding:5,children:g.jsxs(X,{alignItems:"center",justifyContent:"center",children:[g.jsx(ke,{mx:2,fontSize:14,children:t?"Don't have an account?":"Already have an account"}),g.jsx(ke,{onClick:()=>e(!t),color:"blue.500",cursor:"pointer",children:t?"Sign up":"Log in"})]})})]})},xme=({authUser:t})=>{const e=US();return t&&E.useEffect(()=>{e("/")},[t]),g.jsx(X,{minH:"100vh",justifyContent:"center",alignItems:"center",px:4,children:g.jsx(Nu,{maxW:"container.md",padding:0,children:g.jsxs(X,{justifyContent:"center",alignItems:"center",gap:10,children:[g.jsx(ke,{display:{base:"none",md:"block"},children:g.jsx(vi,{src:"/auth.png",h:650,alt:"Phone img"})}),g.jsxs(Si,{spacing:4,align:"stretch",children:[g.jsx(Tme,{}),g.jsx(ke,{textAlign:"center",children:"Get the app."}),g.jsxs(X,{gap:5,justifyContent:"center",children:[g.jsx(vi,{src:"/playstore.png",h:"10",alt:"Playstore logo"}),g.jsx(vi,{src:"/microsoft.png",h:"10",alt:"Microsoft logo"})]})]})]})})})};var NV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s2=Fr.createContext&&Fr.createContext(NV),Cme=["attr","size","title"];function Ime(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){Pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e,n){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ame(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OV(t){return t&&t.map((e,n)=>Fr.createElement(e.tag,Vv({key:n},e.attr),OV(e.child)))}function zs(t){return e=>Fr.createElement(Nme,Fv({attr:Vv({},t.attr)},e),OV(t.child))}function Nme(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ime(t,Cme),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Fr.createElement("svg",Fv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Vv(Vv({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Fr.createElement("title",null,s),t.children)};return s2!==void 0?Fr.createElement(s2.Consumer,null,n=>e(n)):e(NV)}function Ome(t){return zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(t)}function Dme(t){return zs({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(t)}function Mme(t){return zs({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"},child:[]}]})(t)}const Lme=()=>g.jsx(g.Fragment,{children:g.jsx(yl,{hasArrow:!0,label:"Home",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(Ao,{display:"flex",to:"/",as:hn,alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},justifyContent:{base:"center",md:"flex-start"},children:[g.jsx(Mme,{size:25}),g.jsx(ke,{display:{base:"none",md:"block"},children:"Home"})]})})}),Fme=()=>g.jsx(g.Fragment,{children:g.jsx(yl,{hasArrow:!0,label:"Notification",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(X,{alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},justifyContent:{base:"center",md:"flex-start"},children:[g.jsx(fF,{size:25}),g.jsx(ke,{display:{base:"none",md:"block"},children:"Notification"})]})})});function Vme(t){return zs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"},child:[]}]})(t)}function jme(t){return zs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(t)}function $me(t){return zs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"},child:[]}]})(t)}function Bme(t){return zs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"},child:[]}]})(t)}const DV=()=>{const[t,e]=E.useState(null),n=Ut(),r=5*1024*1024;return{selectedFile:t,handleImageChange:s=>{const o=s.target.files[0];if(o&&o.type.startsWith("image/")){if(o.size>r){n("Error","File must be less than 5MB","error"),e(null);return}const a=new FileReader;a.onloadend=()=>{e(a.result)},a.readAsDataURL(o)}else n("Error","File must be an image","error"),e(null)},setSelectedFile:e}},zme=()=>{const{isOpen:t,onOpen:e,onClose:n}=$f(),[r,i]=E.useState(""),s=E.useRef(null),{handleImageChange:o,selectedFile:a,setSelectedFile:l}=DV(),c=Ut(),{isLoading:u,handleCreatePost:h}=Ume(),f=async()=>{try{await h(a,r),n(),i(""),l(null)}catch(p){c("Error",p.message,"error")}};return g.jsxs(g.Fragment,{children:[g.jsx(yl,{hasArrow:!0,label:"Create",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(X,{alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},justifyContent:{base:"center",md:"flex-start"},onClick:e,children:[g.jsx(hhe,{}),g.jsx(ke,{display:{base:"none",md:"block"},children:"Create"})]})}),g.jsxs(Du,{isOpen:t,onClose:n,size:"xl",children:[g.jsx(Lu,{}),g.jsxs(Mu,{bg:"black",border:"1px solid gray",children:[g.jsx(Uf,{children:"Create Post"}),g.jsx(Vu,{}),g.jsxs(Fu,{pb:6,children:[g.jsx(v5,{placeholder:"Post caption...",value:r,onChange:p=>i(p.target.value)}),g.jsx(kn,{type:"file",hidden:!0,ref:s,onChange:o}),g.jsx(Vme,{onClick:()=>s.current.click(),style:{marginTop:"15px",marginLeft:"5px",cursor:"pointer"},size:16}),a&&g.jsxs(X,{mt:5,w:"full",position:"relative",justifyContent:"center",children:[g.jsx(vi,{src:a,alt:"Selected img"}),g.jsx(Ay,{position:"absolute",top:2,right:2,onClick:()=>{l(null)}})]})]}),g.jsx(g5,{children:g.jsx(Nt,{mr:3,onClick:f,isLoading:u,children:"Post"})})]})]})]})};function Ume(){const t=Ut(),[e,n]=E.useState(!1),r=Tt(c=>c.user),i=_u(c=>c.createPost),s=Ei(c=>c.addPost),o=Ei(c=>c.userProfile),{pathname:a}=Cu();return{isLoading:e,handleCreatePost:async(c,u)=>{if(e)return;if(!c)throw new Error("Please select an image");n(!0);const h={caption:u,likes:[],comments:[],createdAt:Date.now(),createdBy:r.uid};try{const f=await hle(bl(Mt,"posts"),h),p=rr(Mt,"users",r.uid),v=Iv(kv,`posts/${f.id}`);await qo(p,{posts:bf(f.id)}),await cF(v,c,"data_url");const y=await uF(v);await qo(f,{imageURL:y}),h.imageURL=y,(o==null?void 0:o.uid)===r.uid&&i({...h,id:f.id}),a!=="/"&&(o==null?void 0:o.uid)===r.uid&&s({...h,id:f.id}),t("Success","Post created successfully","success")}catch(f){t("Error",f.message,"error")}finally{n(!1)}}}}const Wme=()=>{const t=Tt(e=>e.user);return g.jsx(g.Fragment,{children:g.jsx(yl,{hasArrow:!0,label:"Profile",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(Ao,{display:"flex",to:`/${t==null?void 0:t.username}`,as:hn,alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},justifyContent:{base:"center",md:"flex-start"},children:[g.jsx(Ji,{size:"sm",src:(t==null?void 0:t.profilePicURL)||""}),g.jsx(ke,{display:{base:"none",md:"block"},children:"Profile"})]})})})},Hme=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(null),i=Ut();return{isLoading:t,user:n,getUserProfile:async o=>{e(!0),r(null);try{const a=RV(bl(Mt,"users"),Hu("username","==",o)),l=await qu(a);if(l.empty)return i("Error","User not found","error");l.forEach(c=>{r(c.data())})}catch(a){i("Error",a.message,"error"),r(null)}finally{e(!1)}},setUser:r}},qme=()=>{const{isOpen:t,onOpen:e,onClose:n}=$f(),r=E.useRef(null),{user:i,isLoading:s,getUserProfile:o,setUser:a}=Hme(),l=c=>{c.preventDefault(),o(r.current.value)};return g.jsxs(g.Fragment,{children:[g.jsx(yl,{hasArrow:!0,label:"Search",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(X,{alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},justifyContent:{base:"center",md:"flex-start"},onClick:e,children:[g.jsx(uhe,{}),g.jsx(ke,{display:{base:"none",md:"block"},children:"Search"})]})}),g.jsxs(Du,{isOpen:t,onClose:n,motionPreset:"slideInLeft",children:[g.jsx(Lu,{}),g.jsxs(Mu,{bg:"black",border:"1px solid gray",maxW:"400px",children:[g.jsx(Uf,{children:"Search user"}),g.jsx(Vu,{}),g.jsxs(Fu,{pb:6,children:[g.jsxs("form",{onSubmit:l,children:[g.jsxs(wc,{children:[g.jsx(ph,{children:"Username"}),g.jsx(kn,{placeholder:"Type full username!",ref:r})]}),g.jsx(X,{w:"full",justifyContent:"flex-end",children:g.jsx(Nt,{type:"submit",ml:"auto",size:"sm",my:4,isLoading:s,children:"Search"})})]}),i&&g.jsx(Ob,{user:i,setUser:a})]})]})]})]})},Gme=()=>g.jsxs(g.Fragment,{children:[g.jsx(Lme,{}),g.jsx(qme,{}),g.jsx(Fme,{}),g.jsx(zme,{}),g.jsx(Wme,{})]}),Kme=()=>{const{handleLogout:t,isLoggingOut:e}=_F();return g.jsx(ke,{height:"100vh",borderRight:"1px solid",borderColor:"whiteAlpha.300",py:8,position:"sticky",top:0,left:0,px:{base:2,md:4},children:g.jsxs(X,{direction:"column",gap:10,w:"full",height:"full",children:[g.jsx(Ao,{to:"/",as:hn,pl:2,display:{base:"none",md:"block"},cursor:"pointer",children:g.jsx(lhe,{})}),g.jsx(Ao,{to:"/",as:hn,p:2,display:{base:"block",md:"none"},borderRadius:6,_hover:{bg:"whiteAlpha.200"},w:10,cursor:"pointer",children:g.jsx(che,{})}),g.jsx(X,{direction:"column",gap:5,cursor:"pointer",children:g.jsx(Gme,{})}),g.jsx(yl,{hasArrow:!0,label:"Log Out",placement:"right",ml:1,openDelay:500,display:{base:"block",md:"none"},children:g.jsxs(X,{onClick:t,alignItems:"center",gap:4,_hover:{bg:"whiteAlpha.400"},borderRadius:6,p:2,w:{base:10,md:"full"},mt:"auto",justifyContent:{base:"center",md:"flex-start"},children:[g.jsx(Ome,{size:25}),g.jsx(Ao,{to:"/auth",children:g.jsx(Nt,{display:{base:"none",md:"block"},variant:"ghost",_hover:{bg:"transparent"},isLoading:e,children:"Log Out"})})]})})]})})},Yme=()=>g.jsx(Nu,{maxW:"container.lg",my:4,children:g.jsxs(X,{w:"full",justifyContent:{base:"center",sm:"space-between"},alignItems:"center",children:[g.jsx(vi,{src:"/logo.png",h:20,display:{base:"none",sm:"block"},cursor:"pointer"}),g.jsxs(X,{gap:4,children:[g.jsx(hn,{to:"/auth",children:g.jsx(Nt,{colorScheme:"blue",size:"sm",children:"Login"})}),g.jsx(hn,{to:"/auth",children:g.jsx(Nt,{variant:"outline",size:"sm",children:"Signup"})})]})]})}),Qme=({children:t})=>{const{pathname:e}=Cu(),[n,r]=She(ip),i=e!=="/auth"&&n,s=!n&&!r&&e!=="/auth";return!n&&r?g.jsx(Xme,{}):g.jsxs(X,{flexDir:s?"column":"row",children:[i?g.jsx(ke,{w:{base:"70px",md:"240px"},children:g.jsx(Kme,{})}):null,s?g.jsx(Yme,{}):null,g.jsx(ke,{flex:1,w:{base:"calc(100% - 70px)",md:"calc(100% - 240px)"},mx:"auto",children:t})]})},Xme=()=>g.jsx(X,{flexDir:"column",h:"100vh",alignItems:"center",justifyContent:"center",children:g.jsx(Iy,{size:"xl"})}),Jme=()=>g.jsxs(X,{w:"full",justifyContent:"center",gap:{base:4,sm:10},textTransform:"uppercase",fontWeight:"bold",children:[g.jsxs(X,{borderTop:"1px solid white",alignItems:"center",p:3,gap:1,cursor:"pointer",children:[g.jsx(ke,{fontSize:20,children:g.jsx($me,{})}),g.jsx(be,{fontSize:12,display:{base:"none",sm:"block"},children:"Posts"})]}),g.jsxs(X,{alignItems:"center",p:3,gap:1,cursor:"pointer",children:[g.jsx(ke,{fontSize:20,children:g.jsx(jme,{})}),g.jsx(be,{fontSize:12,display:{base:"none",sm:"block"},children:"Saved"})]}),g.jsxs(X,{alignItems:"center",p:3,gap:1,cursor:"pointer",children:[g.jsx(ke,{fontSize:20,children:g.jsx(Bme,{fontWeight:"bold"})}),g.jsx(be,{fontSize:12,display:{base:"none",sm:"block"},children:"Likes"})]})]});function Zme(t){return zs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function ege(t){return zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}const tge=({post:t})=>{const e=Ei(n=>n.userProfile);return g.jsxs(X,{gap:4,children:[g.jsx(hn,{to:`/${e.username}`,children:g.jsx(Ji,{src:e.profilePicURL,size:"sm"})}),g.jsxs(X,{direction:"column",children:[g.jsxs(X,{gap:2,alignItems:"center",children:[g.jsx(be,{fontWeight:"bold",fontSize:12,children:g.jsx(hn,{to:`/${e.username}`,children:e.username})}),g.jsx(be,{fontSize:14,children:t.caption})]}),g.jsx(be,{fontSize:12,color:"gray",children:f0(t.createdAt)})]})]})},nge=({post:t})=>{const{isOpen:e,onOpen:n,onClose:r}=$f(),i=Ei(f=>f.userProfile),s=Tt(f=>f.user),o=Ut(),[a,l]=E.useState(!1),c=_u(f=>f.deletePost),u=Ei(f=>f.deletePost),h=async()=>{if(window.confirm("Are you sure you want to delete this post?")&&!a){l(!0);try{const f=Iv(kv,`posts/${t.id}`);try{const y=await $de(f);await Bde(f)}catch(y){if(y.code==="storage/object-not-found")o("Error","File not found in storage","error");else throw y}const p=rr(Mt,"posts",t.id);await dle(p);const v=rr(Mt,"users",s.uid);await qo(v,{posts:bv(t.id)}),c(t.id),u(t.id),o("Success","Post deleted successfully","success")}catch(f){o("Error",f.message,"error")}finally{l(!1)}}};return!t||!i?null:g.jsxs(g.Fragment,{children:[g.jsxs(YM,{cursor:"pointer",borderRadius:4,overflow:"hidden",border:"1px solid",borderColor:"whiteAlpha.300",position:"relative",aspectRatio:1,onClick:n,children:[g.jsx(X,{opacity:0,_hover:{opacity:1},position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.700",transition:"all .3s ease",zIndex:1,justifyContent:"center",children:g.jsxs(X,{alignItems:"center",justifyContent:"center",gap:6,children:[g.jsxs(X,{alignItems:"center",children:[g.jsx(Dme,{size:20}),g.jsx(be,{fontWeight:"bold",ml:2,children:t.likes.length})]}),g.jsxs(X,{alignItems:"center",children:[g.jsx(Zme,{size:20}),g.jsx(be,{fontWeight:"bold",ml:2,children:t.comments.length})]})]})}),g.jsx(vi,{src:t.imageURL,alt:"profile post",w:"100%",h:"100%",objectFit:"cover"})]}),g.jsxs(Du,{isOpen:e,onClose:r,isCentered:!0,size:{base:"3xl",md:"5xl"},children:[g.jsx(Lu,{}),g.jsxs(Mu,{children:[g.jsx(Vu,{}),g.jsx(Fu,{bg:"black",pb:5,children:g.jsxs(X,{gap:4,w:{base:"90%",sm:"70%",md:"full"},mx:"auto",h:"90vh",children:[g.jsx(X,{borderRadius:4,overflow:"hidden",border:"1px solid",borderColor:"whiteAlpha.300",flex:1.5,justifyContent:"center",alignItems:"center",children:g.jsx(vi,{src:t.imageURL,alt:"profile post"})}),g.jsxs(X,{flex:1,flexDir:"column",px:10,display:{base:"none",md:"flex"},children:[g.jsxs(X,{alignItems:"center",justifyContent:"space-between",children:[g.jsxs(X,{alignItems:"center",gap:4,children:[g.jsx(Ji,{src:i.profilePicURL,size:"sm",name:i.username}),g.jsx(be,{fontWeight:"bold",fontSize:12,children:i.username})]}),(s==null?void 0:s.uid)===i.uid&&g.jsx(Nt,{size:"sm",bg:"transparent",_hover:{bg:"whiteAlpha.300",color:"red.600"},borderRadius:4,p:1,onClick:h,isLoading:a,children:g.jsx(ege,{size:20,cursor:"pointer"})})]}),g.jsx(Zw,{my:4,bg:"gray.500"}),g.jsxs(Si,{w:"full",alignItems:"start",maxH:"350px",overflowY:"auto",children:[t.caption&&g.jsx(tge,{post:t}),t.comments.map((f,p)=>g.jsx(gF,{comment:f},p))]}),g.jsx(Zw,{my:4,bg:"gray.800"}),g.jsx(vF,{isProfilePage:!0,post:t})]})]})})]})]})]})},rge=()=>{const[t,e]=E.useState(!1),{setPosts:n}=_u(),r=Ut(),i=Ei(s=>s.userProfile);return E.useEffect(()=>{(async()=>{if(i){e(!0),n([]);try{const o=r0(bl(Mt,"posts"),Hu("createdBy","==",i.uid)),a=await qu(o),l=[];a.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,u)=>u.createdAt-c.createdAt),n(l)}catch(o){r("Error",o.message,"error"),n([])}finally{e(!1)}}})()},[i,n,r]),{isLoading:t,posts:_u(s=>s.posts)}},ige=()=>{const{isLoading:t,posts:e}=rge();return!t&&e.length===0?g.jsx(sge,{}):g.jsxs(qM,{templateColumns:{sm:"repeat(1,1fr)",md:"repeat(3,1fr)"},gap:1,columnGap:1,children:[t&&[0,1,2].map((r,i)=>g.jsx(Si,{alignItems:"flex-start",gap:4,children:g.jsx(yi,{w:"full",children:g.jsx(ke,{h:"300px",children:"Contents wrapped"})})},i)),!t&&g.jsx(g.Fragment,{children:e.map(r=>g.jsx(nge,{post:r},r.id))})]})},sge=()=>g.jsx(X,{flexDir:"column",textAlign:"ceneter",mx:"auto",mt:10,children:g.jsx(be,{fontSize:"2xl",children:"No Posts Found "})}),oge=()=>{const[t,e]=E.useState(!1),n=Tt(a=>a.user),r=Tt(a=>a.setUser),i=Ei(a=>a.setUserProfile),s=Ut();return{editProfile:async(a,l)=>{if(t||!n)return;e(!0);const c=Iv(kv,`profilePics/${n.uid}`),u=rr(Mt,"users",n.uid);let h="";try{l&&(await cF(c,l,"data_url"),h=await uF(Iv(kv,`profilePics/${n.uid}`)));const f={...n,fullName:a.fullName||n.fullName,username:a.username||n.username,bio:a.bio||n.bio,profilePicURL:h||n.profilePicURL};await qo(u,f),localStorage.setItem("user-info",JSON.stringify(f)),r(f),i(f),s("Success","Profile updated successfully","success")}catch(f){s("Error",f.message,"error")}finally{e(!1)}},isUpdating:t}};function age({isOpen:t,onClose:e}){const[n,r]=E.useState({fullName:"",username:"",bio:""}),i=Tt(p=>p.user),s=E.useRef(null),{handleImageChange:o,setSelectedFile:a,selectedFile:l}=DV(),{isUpdating:c,editProfile:u}=oge(),h=Ut(),f=async()=>{try{await u(n,l),a(null),e()}catch(p){h("Error",p.message,"error")}};return g.jsxs(Du,{isOpen:t,onClose:e,children:[g.jsx(Lu,{}),g.jsxs(Mu,{bg:"black",boxShadow:"xl",border:"1px solid gray",mx:3,children:[g.jsx(Uf,{}),g.jsx(Vu,{}),g.jsx(Fu,{children:g.jsx(X,{bg:"black",children:g.jsxs(mh,{spacing:4,w:"full",maxW:"md",bg:"black",p:6,my:0,children:[g.jsx(QM,{lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl"},children:"Edit profile"}),g.jsx(wc,{children:g.jsxs(mh,{direction:["column","row"],spacing:6,children:[g.jsx(Jw,{children:g.jsx(Ji,{size:"xl",src:l||i.profilePicURL,border:"2px solid white"})}),g.jsx(Jw,{w:"full",children:g.jsx(Nt,{w:"full",onClick:()=>s.current.click(),children:"Edit Profile Picture"})}),g.jsx(kn,{type:"file",hidden:!0,ref:s,onChange:o})]})}),g.jsxs(wc,{children:[g.jsx(ph,{children:"Full Name"}),g.jsx(kn,{placeholder:"Full Name",size:"sm",type:"text",value:n.fullName||i.fullName,onChange:p=>r({...n,fullName:p.target.value})})]}),g.jsxs(wc,{children:[g.jsx(ph,{children:"Username"}),g.jsx(kn,{placeholder:"Username",size:"sm",type:"text",value:n.username||i.username,onChange:p=>r({...n,username:p.target.value})})]}),g.jsxs(wc,{children:[g.jsx(ph,{fontSize:"sm",children:"Bio"}),g.jsx(kn,{placeholder:"Bio",size:"sm",type:"text",value:n.bio||i.bio,onChange:p=>r({...n,bio:p.target.value})})]}),g.jsxs(mh,{spacing:6,direction:["column","row"],children:[g.jsx(Nt,{bg:"red.400",color:"white",size:"sm",w:"full",_hover:{bg:"red.500"},onClick:e,children:"Cnacel"}),g.jsx(Nt,{bg:"blue.400",color:"white",size:"sm",w:"full",_hover:{bg:"blue.500"},onClick:f,isLoading:c,children:"Submit"})]})]})})})]})]})}const lge=()=>{const{userProfile:t}=Ei(),e=Tt(u=>u.user),{isOpen:n,onOpen:r,onClose:i}=$f(),{isFollowing:s,isUpdating:o,handleFollowUser:a}=px(t==null?void 0:t.uid),l=e&&e.username===t.username,c=e&&e.username!==t.username;return g.jsxs(X,{gap:{base:4,sm:10},py:10,direction:{base:"column",sm:"row"},children:[g.jsx(uM,{size:{base:"xl",md:"2xl"},justifySelf:"center",alignItems:"flex-start",mx:"auto",children:g.jsx(Ji,{name:"As a Programmer",src:t.profilePicURL,alt:"As a programmer logo"})}),g.jsxs(Si,{alignItems:"start",gap:2,mx:"auto",flex:1,children:[g.jsxs(X,{gap:4,direction:"row",justifyContent:"flex-start",alignItems:"center",w:"full",children:[g.jsx(be,{fontSize:{base:"sm",md:"lg"},children:t.username}),g.jsxs(X,{gap:4,alignItems:"center",justifyContent:"center",children:[l&&g.jsx(Nt,{bg:"white",color:"black",_hover:{bg:"whiteAlpha.800"},size:{base:"xs",md:"sm"},onClick:r,children:"Edit Profile"}),c&&g.jsx(Nt,{bg:"blue.500",color:"#fff",_hover:{bg:"blue.600"},size:{base:"xs",md:"sm"},onClick:a,isLoading:o,children:s?"Unfollow":"Follow"})]})]}),g.jsxs(X,{alignItems:"center",gap:{base:2,sm:4},children:[g.jsxs(be,{fontSize:{base:"xs",md:"sm"},children:[g.jsx(be,{as:"span",fontWeight:"bold",mr:1,children:t.posts.length}),"Posts"]}),g.jsxs(be,{fontSize:{base:"xs",md:"sm"},children:[g.jsx(be,{as:"span",fontWeight:"bold",mr:1,children:t.followers.length}),"Followers"]}),g.jsxs(be,{fontSize:{base:"xs",md:"sm"},children:[g.jsx(be,{as:"span",fontWeight:"bold",mr:1,children:t.following.length}),"Following"]})]}),g.jsx(X,{alignItems:"center",gap:4,children:g.jsx(be,{fontSize:"sm",fontWeight:"bold",children:t.fullName})}),g.jsx(be,{fontSize:"sm",children:t.bio})]}),n&&g.jsx(age,{isOpen:n,onClose:i})]})},cge=t=>{const[e,n]=E.useState(!0),r=Ut(),{userProfile:i,setUserProfile:s}=Ei();return E.useEffect(()=>{(async()=>{n(!0);try{const a=r0(bl(Mt,"users"),Hu("username","==",t)),l=await qu(a);if(l.empty)return s(null);let c;l.forEach(u=>{c=u.data()}),s(c)}catch(a){r("Error",a.message,"error")}finally{n(!1)}})()},[s,t,r]),{isLoading:e,userProfile:i}},uge=()=>{const{username:t}=L$(),{isLoading:e,userProfile:n}=cge(t);return!e&&!n?g.jsx(hge,{}):g.jsxs(Nu,{maxW:"container.lg",py:5,children:[g.jsxs(X,{py:10,px:4,pl:{base:4,md:10},w:"full",mx:"auto",flexDirection:"column",children:[!e&&n&&g.jsx(lge,{}),e&&g.jsx(dge,{})]}),g.jsxs(X,{px:{base:2,sm:4},maxW:"full",mx:"auto",borderTop:"1px solid",borderColor:"whiteAlpha.300",direction:"column",children:[g.jsx(Jme,{}),g.jsx(ige,{})]})]})},dge=()=>g.jsxs(X,{gap:{base:4,sm:10},py:10,direction:{base:"column",sm:"row"},justifyContent:"center",alignItems:"center",children:[g.jsx(Wf,{size:24}),g.jsxs(Si,{alignItems:{base:"center",sm:"flex-start"},gap:2,mx:"auto",flex:1,children:[g.jsx(yi,{height:12,w:"150"}),g.jsx(yi,{height:12,w:"150"})]})]}),hge=()=>g.jsxs(X,{flexDir:"column",textAlign:"center",mx:"auto",children:[g.jsx(be,{fontSize:"2xl",children:"User Not Found"}),g.jsx(Ao,{as:hn,to:"/",color:"blue.500",w:"max-content",mx:"auto",children:"Go to Home"})]});function fge(){const t=Tt(e=>e.user);return g.jsx(Qme,{children:g.jsxs(Q$,{children:[g.jsx(Wm,{path:"/",element:g.jsx(gme,{authUser:t})}),g.jsx(Wm,{path:"/auth",element:g.jsx(xme,{authUser:t})}),g.jsx(Wm,{path:"/:username",element:g.jsx(uge,{})})]})})}const pge={global:t=>({body:{bg:re("gray.900","#111")(t),color:re("gray.800","whiteAlpha.900")(t)}})},mge={initialColorMode:"dark",useSystemColorMode:!1},gge=aG({config:mge,styles:pge});_1.createRoot(document.getElementById("root")).render(g.jsx(r9,{children:g.jsx(PJ,{theme:gge,children:g.jsx(fge,{})})}));
